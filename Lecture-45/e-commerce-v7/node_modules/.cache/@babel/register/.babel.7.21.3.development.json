{"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nvar _app = _interopRequireDefault(require(\"./app\"));\nvar _database = _interopRequireDefault(require(\"./database\"));\nvar _logger = _interopRequireDefault(require(\"./core/logger\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n(async () => {\n  try {\n    await _database.default.connectDB();\n    _app.default.listen(3000, () => {\n      _logger.default.info('server running at port 3000');\n    });\n  } catch (err) {\n    _logger.default.error(err);\n  }\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXBwIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZGF0YWJhc2UiLCJfbG9nZ2VyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkYiIsImNvbm5lY3REQiIsImFwcCIsImxpc3RlbiIsImxvZ2dlciIsImluZm8iLCJlcnIiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy8iLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBwIGZyb20gJy4vYXBwJztcbmltcG9ydCBkYiBmcm9tICcuL2RhdGFiYXNlJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi9jb3JlL2xvZ2dlcic7XG5cbihhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGIuY29ubmVjdERCKCk7XG5cbiAgICBhcHAubGlzdGVuKDMwMDAsICgpID0+IHtcbiAgICAgIGxvZ2dlci5pbmZvKCdzZXJ2ZXIgcnVubmluZyBhdCBwb3J0IDMwMDAnKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmVycm9yKGVycik7XG4gIH1cbn0pKCk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsSUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsT0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQW1DLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRW5DLENBQUMsWUFBWTtFQUNYLElBQUk7SUFDRixNQUFNRyxpQkFBRSxDQUFDQyxTQUFTLEVBQUU7SUFFcEJDLFlBQUcsQ0FBQ0MsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNO01BQ3JCQyxlQUFNLENBQUNDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQztJQUM1QyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUMsT0FBT0MsR0FBRyxFQUFFO0lBQ1pGLGVBQU0sQ0FBQ0csS0FBSyxDQUFDRCxHQUFHLENBQUM7RUFDbkI7QUFDRixDQUFDLEdBQUcifQ==","map":{"version":3,"names":["_app","_interopRequireDefault","require","_database","_logger","obj","__esModule","default","db","connectDB","app","listen","logger","info","err","error"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/","sources":["server.js"],"sourcesContent":["import app from './app';\nimport db from './database';\nimport logger from './core/logger';\n\n(async () => {\n  try {\n    await db.connectDB();\n\n    app.listen(3000, () => {\n      logger.info('server running at port 3000');\n    });\n  } catch (err) {\n    logger.error(err);\n  }\n})();\n"],"mappings":";;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnC,CAAC,YAAY;EACX,IAAI;IACF,MAAMG,iBAAE,CAACC,SAAS,EAAE;IAEpBC,YAAG,CAACC,MAAM,CAAC,IAAI,EAAE,MAAM;MACrBC,eAAM,CAACC,IAAI,CAAC,6BAA6B,CAAC;IAC5C,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZF,eAAM,CAACG,KAAK,CAACD,GAAG,CAAC;EACnB;AACF,CAAC,GAAG"}},"mtime":1679205551684},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _ejsMate = _interopRequireDefault(require(\"ejs-mate\"));\nvar _methodOverride = _interopRequireDefault(require(\"method-override\"));\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\nvar _connectFlash = _interopRequireDefault(require(\"connect-flash\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _passportLocal = _interopRequireDefault(require(\"passport-local\"));\nvar _v = _interopRequireDefault(require(\"./routes/v1\"));\nvar _user = _interopRequireDefault(require(\"./models/user\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\napp.engine('ejs', _ejsMate.default);\napp.set('view engine', 'ejs');\napp.set('views', _path.default.join(__dirname, 'views'));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use(_express.default.urlencoded({\n  extended: true,\n  limit: '10mb'\n}));\napp.use(_express.default.json({\n  limit: '10mb'\n}));\napp.use((0, _methodOverride.default)('_method'));\nconst sessionConfig = {\n  secret: 'weneedabettersecret',\n  resave: false,\n  saveUninitialized: true,\n  cookie: {\n    // secure: true,\n    httpOnly: true,\n    maxAge: 1000 * 60 * 60 * 24 * 7 * 1\n  }\n};\napp.use((0, _expressSession.default)(sessionConfig));\napp.use((0, _connectFlash.default)());\n\n// This tells passport to use LocalStrategy\n//  and User.authenticate method to verify the user during login\n_passport.default.use(new _passportLocal.default(_user.default.authenticate()));\n\n// This tells passport to user passport local\n// mongoose methods(User.serializeUser, User.deserializeUser) to add / remove the user from session\n_passport.default.serializeUser(_user.default.serializeUser());\n_passport.default.deserializeUser(_user.default.deserializeUser());\n\n// We are adding passport middleware into our express app\napp.use(_passport.default.initialize());\n\n// Passport will use express-session for persistent login\napp.use(_passport.default.session());\napp.use((req, res, next) => {\n  res.locals.success = req.flash('success');\n  res.locals.error = req.flash('error');\n  res.locals.currentUser = req.user;\n  next();\n});\napp.get('/', (req, res) => {\n  res.render('home');\n});\napp.use('/api/v1', _v.default);\n\n// Custom Error Middleware to catch Errors\n// eslint-disable-next-line\napp.use((err, req, res, next) => {\n  const {\n    message = 'Something Went Wrong',\n    statusCode = 500\n  } = err;\n  res.locals.error = message;\n  res.status(statusCode).render('error', {\n    message\n  });\n});\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3BhdGgiLCJfZWpzTWF0ZSIsIl9tZXRob2RPdmVycmlkZSIsIl9leHByZXNzU2Vzc2lvbiIsIl9jb25uZWN0Rmxhc2giLCJfcGFzc3BvcnQiLCJfcGFzc3BvcnRMb2NhbCIsIl92IiwiX3VzZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwcCIsImV4cHJlc3MiLCJlbmdpbmUiLCJlanNNYXRlIiwic2V0IiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJ1c2UiLCJzdGF0aWMiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJsaW1pdCIsImpzb24iLCJtZXRob2RPdmVycmlkZSIsInNlc3Npb25Db25maWciLCJzZWNyZXQiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsImNvb2tpZSIsImh0dHBPbmx5IiwibWF4QWdlIiwic2Vzc2lvbiIsImZsYXNoIiwicGFzc3BvcnQiLCJMb2NhbFN0cmF0ZWd5IiwiVXNlciIsImF1dGhlbnRpY2F0ZSIsInNlcmlhbGl6ZVVzZXIiLCJkZXNlcmlhbGl6ZVVzZXIiLCJpbml0aWFsaXplIiwicmVxIiwicmVzIiwibmV4dCIsImxvY2FscyIsInN1Y2Nlc3MiLCJlcnJvciIsImN1cnJlbnRVc2VyIiwidXNlciIsImdldCIsInJlbmRlciIsInYxUm91dGVzIiwiZXJyIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBlanNNYXRlIGZyb20gJ2Vqcy1tYXRlJztcbmltcG9ydCBtZXRob2RPdmVycmlkZSBmcm9tICdtZXRob2Qtb3ZlcnJpZGUnO1xuaW1wb3J0IHNlc3Npb24gZnJvbSAnZXhwcmVzcy1zZXNzaW9uJztcbmltcG9ydCBmbGFzaCBmcm9tICdjb25uZWN0LWZsYXNoJztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5pbXBvcnQgTG9jYWxTdHJhdGVneSBmcm9tICdwYXNzcG9ydC1sb2NhbCc7XG5cbmltcG9ydCB2MVJvdXRlcyBmcm9tICcuL3JvdXRlcy92MSc7XG5pbXBvcnQgVXNlciBmcm9tICcuL21vZGVscy91c2VyJztcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG5hcHAuZW5naW5lKCdlanMnLCBlanNNYXRlKTtcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ2VqcycpO1xuYXBwLnNldCgndmlld3MnLCBwYXRoLmpvaW4oX19kaXJuYW1lLCAndmlld3MnKSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpO1xuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSwgbGltaXQ6ICcxMG1iJyB9KSk7XG5hcHAudXNlKGV4cHJlc3MuanNvbih7IGxpbWl0OiAnMTBtYicgfSkpO1xuYXBwLnVzZShtZXRob2RPdmVycmlkZSgnX21ldGhvZCcpKTtcblxuY29uc3Qgc2Vzc2lvbkNvbmZpZyA9IHtcbiAgc2VjcmV0OiAnd2VuZWVkYWJldHRlcnNlY3JldCcsXG4gIHJlc2F2ZTogZmFsc2UsXG4gIHNhdmVVbmluaXRpYWxpemVkOiB0cnVlLFxuICBjb29raWU6IHtcbiAgICAvLyBzZWN1cmU6IHRydWUsXG4gICAgaHR0cE9ubHk6IHRydWUsXG4gICAgbWF4QWdlOiAxMDAwICogNjAgKiA2MCAqIDI0ICogNyAqIDEsXG4gIH0sXG59O1xuXG5hcHAudXNlKHNlc3Npb24oc2Vzc2lvbkNvbmZpZykpO1xuYXBwLnVzZShmbGFzaCgpKTtcblxuLy8gVGhpcyB0ZWxscyBwYXNzcG9ydCB0byB1c2UgTG9jYWxTdHJhdGVneVxuLy8gIGFuZCBVc2VyLmF1dGhlbnRpY2F0ZSBtZXRob2QgdG8gdmVyaWZ5IHRoZSB1c2VyIGR1cmluZyBsb2dpblxucGFzc3BvcnQudXNlKG5ldyBMb2NhbFN0cmF0ZWd5KFVzZXIuYXV0aGVudGljYXRlKCkpKTtcblxuLy8gVGhpcyB0ZWxscyBwYXNzcG9ydCB0byB1c2VyIHBhc3Nwb3J0IGxvY2FsXG4vLyBtb25nb29zZSBtZXRob2RzKFVzZXIuc2VyaWFsaXplVXNlciwgVXNlci5kZXNlcmlhbGl6ZVVzZXIpIHRvIGFkZCAvIHJlbW92ZSB0aGUgdXNlciBmcm9tIHNlc3Npb25cbnBhc3Nwb3J0LnNlcmlhbGl6ZVVzZXIoVXNlci5zZXJpYWxpemVVc2VyKCkpO1xucGFzc3BvcnQuZGVzZXJpYWxpemVVc2VyKFVzZXIuZGVzZXJpYWxpemVVc2VyKCkpO1xuXG4vLyBXZSBhcmUgYWRkaW5nIHBhc3Nwb3J0IG1pZGRsZXdhcmUgaW50byBvdXIgZXhwcmVzcyBhcHBcbmFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTtcblxuLy8gUGFzc3BvcnQgd2lsbCB1c2UgZXhwcmVzcy1zZXNzaW9uIGZvciBwZXJzaXN0ZW50IGxvZ2luXG5hcHAudXNlKHBhc3Nwb3J0LnNlc3Npb24oKSk7XG5cbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJlcy5sb2NhbHMuc3VjY2VzcyA9IHJlcS5mbGFzaCgnc3VjY2VzcycpO1xuICByZXMubG9jYWxzLmVycm9yID0gcmVxLmZsYXNoKCdlcnJvcicpO1xuICByZXMubG9jYWxzLmN1cnJlbnRVc2VyID0gcmVxLnVzZXI7XG4gIG5leHQoKTtcbn0pO1xuXG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5yZW5kZXIoJ2hvbWUnKTtcbn0pO1xuXG5hcHAudXNlKCcvYXBpL3YxJywgdjFSb3V0ZXMpO1xuXG4vLyBDdXN0b20gRXJyb3IgTWlkZGxld2FyZSB0byBjYXRjaCBFcnJvcnNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB7IG1lc3NhZ2UgPSAnU29tZXRoaW5nIFdlbnQgV3JvbmcnLCBzdGF0dXNDb2RlID0gNTAwIH0gPSBlcnI7XG4gIHJlcy5sb2NhbHMuZXJyb3IgPSBtZXNzYWdlO1xuICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLnJlbmRlcignZXJyb3InLCB7IG1lc3NhZ2UgfSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgYXBwO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxlQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxhQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxTQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTyxjQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBUSxFQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyxLQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFBaUMsU0FBQUQsdUJBQUFXLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFakMsTUFBTUcsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEdBQUU7QUFFckJELEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEtBQUssRUFBRUMsZ0JBQU8sQ0FBQztBQUMxQkgsR0FBRyxDQUFDSSxHQUFHLENBQUMsYUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_path","_ejsMate","_methodOverride","_expressSession","_connectFlash","_passport","_passportLocal","_v","_user","obj","__esModule","default","app","express","engine","ejsMate","set","path","join","__dirname","use","static","urlencoded","extended","limit","json","methodOverride","sessionConfig","secret","resave","saveUninitialized","cookie","httpOnly","maxAge","session","flash","passport","LocalStrategy","User","authenticate","serializeUser","deserializeUser","initialize","req","res","next","locals","success","error","currentUser","user","get","render","v1Routes","err","message","statusCode","status","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/","sources":["app.js"],"sourcesContent":["import express from 'express';\nimport path from 'path';\nimport ejsMate from 'ejs-mate';\nimport methodOverride from 'method-override';\nimport session from 'express-session';\nimport flash from 'connect-flash';\nimport passport from 'passport';\nimport LocalStrategy from 'passport-local';\n\nimport v1Routes from './routes/v1';\nimport User from './models/user';\n\nconst app = express();\n\napp.engine('ejs', ejsMate);\napp.set('view engine', 'ejs');\napp.set('views', path.join(__dirname, 'views'));\napp.use(express.static(path.join(__dirname, 'public')));\napp.use(express.urlencoded({ extended: true, limit: '10mb' }));\napp.use(express.json({ limit: '10mb' }));\napp.use(methodOverride('_method'));\n\nconst sessionConfig = {\n  secret: 'weneedabettersecret',\n  resave: false,\n  saveUninitialized: true,\n  cookie: {\n    // secure: true,\n    httpOnly: true,\n    maxAge: 1000 * 60 * 60 * 24 * 7 * 1,\n  },\n};\n\napp.use(session(sessionConfig));\napp.use(flash());\n\n// This tells passport to use LocalStrategy\n//  and User.authenticate method to verify the user during login\npassport.use(new LocalStrategy(User.authenticate()));\n\n// This tells passport to user passport local\n// mongoose methods(User.serializeUser, User.deserializeUser) to add / remove the user from session\npassport.serializeUser(User.serializeUser());\npassport.deserializeUser(User.deserializeUser());\n\n// We are adding passport middleware into our express app\napp.use(passport.initialize());\n\n// Passport will use express-session for persistent login\napp.use(passport.session());\n\napp.use((req, res, next) => {\n  res.locals.success = req.flash('success');\n  res.locals.error = req.flash('error');\n  res.locals.currentUser = req.user;\n  next();\n});\n\napp.get('/', (req, res) => {\n  res.render('home');\n});\n\napp.use('/api/v1', v1Routes);\n\n// Custom Error Middleware to catch Errors\n// eslint-disable-next-line\napp.use((err, req, res, next) => {\n  const { message = 'Something Went Wrong', statusCode = 500 } = err;\n  res.locals.error = message;\n  res.status(statusCode).render('error', { message });\n});\n\nexport default app;\n"],"mappings":"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"}},"mtime":1679199426060},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _productRoutes = _interopRequireDefault(require(\"./productRoutes\"));\nvar _reviewRoutes = _interopRequireDefault(require(\"./reviewRoutes\"));\nvar _userRoutes = _interopRequireDefault(require(\"./userRoutes\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.use('/products', _productRoutes.default);\nrouter.use('/products', _reviewRoutes.default);\nrouter.use('/auth', _userRoutes.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3RSb3V0ZXMiLCJfcmV2aWV3Um91dGVzIiwiX3VzZXJSb3V0ZXMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJwcm9kdWN0Um91dGVzIiwicmV2aWV3Um91dGVzIiwidXNlclJvdXRlcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yb3V0ZXMvdjEvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBwcm9kdWN0Um91dGVzIGZyb20gJy4vcHJvZHVjdFJvdXRlcyc7XG5pbXBvcnQgcmV2aWV3Um91dGVzIGZyb20gJy4vcmV2aWV3Um91dGVzJztcbmltcG9ydCB1c2VyUm91dGVzIGZyb20gJy4vdXNlclJvdXRlcyc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci51c2UoJy9wcm9kdWN0cycsIHByb2R1Y3RSb3V0ZXMpO1xucm91dGVyLnVzZSgnL3Byb2R1Y3RzJywgcmV2aWV3Um91dGVzKTtcbnJvdXRlci51c2UoJy9hdXRoJywgdXNlclJvdXRlcyk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsY0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsYUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRS9CRixNQUFNLENBQUNHLEdBQUcsQ0FBQyxXQUFXLEVBQUVDLHNCQUFhLENBQUM7QUFDdENKLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLFdBQVcsRUFBRUUscUJBQVksQ0FBQztBQUNyQ0wsTUFBTSxDQUFDRyxHQUFHLENBQUMsT0FBTyxFQUFFRyxtQkFBVSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVqQlAsTUFBTTtBQUFBUSxPQUFBLENBQUFULE9BQUEsR0FBQVEsUUFBQSJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_productRoutes","_reviewRoutes","_userRoutes","obj","__esModule","default","router","express","Router","use","productRoutes","reviewRoutes","userRoutes","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/","sources":["index.js"],"sourcesContent":["import express from 'express';\nimport productRoutes from './productRoutes';\nimport reviewRoutes from './reviewRoutes';\nimport userRoutes from './userRoutes';\n\nconst router = express.Router();\n\nrouter.use('/products', productRoutes);\nrouter.use('/products', reviewRoutes);\nrouter.use('/auth', userRoutes);\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,aAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,WAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAE/BF,MAAM,CAACG,GAAG,CAAC,WAAW,EAAEC,sBAAa,CAAC;AACtCJ,MAAM,CAACG,GAAG,CAAC,WAAW,EAAEE,qBAAY,CAAC;AACrCL,MAAM,CAACG,GAAG,CAAC,OAAO,EAAEG,mBAAU,CAAC;AAAC,IAAAC,QAAA,GAEjBP,MAAM;AAAAQ,OAAA,CAAAT,OAAA,GAAAQ,QAAA"}},"mtime":1679199426057},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/productRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _catchAsync = _interopRequireDefault(require(\"../../core/catchAsync\"));\nvar _productController = _interopRequireDefault(require(\"../../controllers/productController\"));\nvar _authMiddleware = _interopRequireDefault(require(\"../../middleware/authMiddleware\"));\nvar _validator = require(\"../../validations/validator\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\n\n// api/v1/products\nrouter.get('/', (0, _catchAsync.default)(_productController.default.getAllProduct));\nrouter.get('/new', _authMiddleware.default, (0, _catchAsync.default)(_productController.default.displayFormForNewProduct));\nrouter.post('/', _authMiddleware.default, _validator.validateProduct, (0, _catchAsync.default)(_productController.default.createProduct));\nrouter.get('/:id', (0, _catchAsync.default)(_productController.default.showProduct));\nrouter.get('/:id/edit', _authMiddleware.default, (0, _catchAsync.default)(_productController.default.showEditForm));\nrouter.patch('/:id', _authMiddleware.default, (0, _catchAsync.default)(_productController.default.updateProduct));\nrouter.delete('/:id', _authMiddleware.default, (0, _catchAsync.default)(_productController.default.deleteProduct));\n\n// Above routes can be written as below also----------------------\n// router.route('/')\n//     .get(catchAsync(productController.getAllProduct))\n//     .post(catchAsync(productController.createProduct));\n\n// router.route('/:id')\n//     .get(catchAsync(productController.showProduct))\n//     .patch(catchAsync(productController.updateProduct))\n//     .delete(catchAsync(productController.deleteProduct));\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhdGNoQXN5bmMiLCJfcHJvZHVjdENvbnRyb2xsZXIiLCJfYXV0aE1pZGRsZXdhcmUiLCJfdmFsaWRhdG9yIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiY2F0Y2hBc3luYyIsInByb2R1Y3RDb250cm9sbGVyIiwiZ2V0QWxsUHJvZHVjdCIsImlzTG9nZ2VkSW4iLCJkaXNwbGF5Rm9ybUZvck5ld1Byb2R1Y3QiLCJwb3N0IiwidmFsaWRhdGVQcm9kdWN0IiwiY3JlYXRlUHJvZHVjdCIsInNob3dQcm9kdWN0Iiwic2hvd0VkaXRGb3JtIiwicGF0Y2giLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlIiwiZGVsZXRlUHJvZHVjdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yb3V0ZXMvdjEvIiwic291cmNlcyI6WyJwcm9kdWN0Um91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNhdGNoQXN5bmMgZnJvbSAnLi4vLi4vY29yZS9jYXRjaEFzeW5jJztcbmltcG9ydCBwcm9kdWN0Q29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVycy9wcm9kdWN0Q29udHJvbGxlcic7XG5pbXBvcnQgaXNMb2dnZWRJbiBmcm9tICcuLi8uLi9taWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlJztcbmltcG9ydCB7IHZhbGlkYXRlUHJvZHVjdCB9IGZyb20gJy4uLy4uL3ZhbGlkYXRpb25zL3ZhbGlkYXRvcic7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8vIGFwaS92MS9wcm9kdWN0c1xucm91dGVyLmdldCgnLycsIGNhdGNoQXN5bmMocHJvZHVjdENvbnRyb2xsZXIuZ2V0QWxsUHJvZHVjdCkpO1xuXG5yb3V0ZXIuZ2V0KCcvbmV3JywgaXNMb2dnZWRJbiwgY2F0Y2hBc3luYyhwcm9kdWN0Q29udHJvbGxlci5kaXNwbGF5Rm9ybUZvck5ld1Byb2R1Y3QpKTtcblxucm91dGVyLnBvc3QoJy8nLCBpc0xvZ2dlZEluLCB2YWxpZGF0ZVByb2R1Y3QsIGNhdGNoQXN5bmMocHJvZHVjdENvbnRyb2xsZXIuY3JlYXRlUHJvZHVjdCkpO1xuXG5yb3V0ZXIuZ2V0KCcvOmlkJywgY2F0Y2hBc3luYyhwcm9kdWN0Q29udHJvbGxlci5zaG93UHJvZHVjdCkpO1xuXG5yb3V0ZXIuZ2V0KCcvOmlkL2VkaXQnLCBpc0xvZ2dlZEluLCBjYXRjaEFzeW5jKHByb2R1Y3RDb250cm9sbGVyLnNob3dFZGl0Rm9ybSkpO1xuXG5yb3V0ZXIucGF0Y2goJy86aWQnLCBpc0xvZ2dlZEluLCBjYXRjaEFzeW5jKHByb2R1Y3RDb250cm9sbGVyLnVwZGF0ZVByb2R1Y3QpKTtcblxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGlzTG9nZ2VkSW4sIGNhdGNoQXN5bmMocHJvZHVjdENvbnRyb2xsZXIuZGVsZXRlUHJvZHVjdCkpO1xuXG4vLyBBYm92ZSByb3V0ZXMgY2FuIGJlIHdyaXR0ZW4gYXMgYmVsb3cgYWxzby0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHJvdXRlci5yb3V0ZSgnLycpXG4vLyAgICAgLmdldChjYXRjaEFzeW5jKHByb2R1Y3RDb250cm9sbGVyLmdldEFsbFByb2R1Y3QpKVxuLy8gICAgIC5wb3N0KGNhdGNoQXN5bmMocHJvZHVjdENvbnRyb2xsZXIuY3JlYXRlUHJvZHVjdCkpO1xuXG4vLyByb3V0ZXIucm91dGUoJy86aWQnKVxuLy8gICAgIC5nZXQoY2F0Y2hBc3luYyhwcm9kdWN0Q29udHJvbGxlci5zaG93UHJvZHVjdCkpXG4vLyAgICAgLnBhdGNoKGNhdGNoQXN5bmMocHJvZHVjdENvbnRyb2xsZXIudXBkYXRlUHJvZHVjdCkpXG4vLyAgICAgLmRlbGV0ZShjYXRjaEFzeW5jKHByb2R1Y3RDb250cm9sbGVyLmRlbGV0ZVByb2R1Y3QpKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxrQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBSixPQUFBO0FBQThELFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTlELE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxFQUFFOztBQUUvQjtBQUNBRixNQUFNLENBQUNHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBQUMsbUJBQVUsRUFBQ0MsMEJBQWlCLENBQUNDLGFBQWEsQ0FBQyxDQUFDO0FBRTVETixNQUFNLENBQUNHLEdBQUcsQ0FBQyxNQUFNLEVBQUVJLHVCQUFVLEVBQUUsSUFBQUgsbUJBQVUsRUFBQ0MsMEJBQWlCLENBQUNHLHdCQUF3QixDQUFDLENBQUM7QUFFdEZSLE1BQU0sQ0FBQ1MsSUFBSSxDQUFDLEdBQUcsRUFBRUYsdUJBQVUsRUFBRUcsMEJBQWUsRUFBRSxJQUFBTixtQkFBVSxFQUFDQywwQkFBaUIsQ0FBQ00sYUFBYSxDQUFDLENBQUM7QUFFMUZYLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFBQyxtQkFBVSxFQUFDQywwQkFBaUIsQ0FBQ08sV0FBVyxDQUFDLENBQUM7QUFFN0RaLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLFdBQVcsRUFBRUksdUJBQVUsRUFBRSxJQUFBSCxtQkFBVSxFQUFDQywwQkFBaUIsQ0FBQ1EsWUFBWSxDQUFDLENBQUM7QUFFL0ViLE1BQU0sQ0FBQ2MsS0FBSyxDQUFDLE1BQU0sRUFBRVAsdUJBQVUsRUFBRSxJQUFBSCxtQkFBVSxFQUFDQywwQkFBaUIsQ0FBQ1UsYUFBYSxDQUFDLENBQUM7QUFFN0VmLE1BQU0sQ0FBQ2dCLE1BQU0sQ0FBQyxNQUFNLEVBQUVULHVCQUFVLEVBQUUsSUFBQUgsbUJBQVUsRUFBQ0MsMEJBQWlCLENBQUNZLGFBQWEsQ0FBQyxDQUFDOztBQUU5RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBLElBQUFDLFFBQUEsR0FFZWxCLE1BQU07QUFBQW1CLE9BQUEsQ0FBQXBCLE9BQUEsR0FBQW1CLFFBQUEifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_catchAsync","_productController","_authMiddleware","_validator","obj","__esModule","default","router","express","Router","get","catchAsync","productController","getAllProduct","isLoggedIn","displayFormForNewProduct","post","validateProduct","createProduct","showProduct","showEditForm","patch","updateProduct","delete","deleteProduct","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/","sources":["productRoutes.js"],"sourcesContent":["import express from 'express';\nimport catchAsync from '../../core/catchAsync';\nimport productController from '../../controllers/productController';\nimport isLoggedIn from '../../middleware/authMiddleware';\nimport { validateProduct } from '../../validations/validator';\n\nconst router = express.Router();\n\n// api/v1/products\nrouter.get('/', catchAsync(productController.getAllProduct));\n\nrouter.get('/new', isLoggedIn, catchAsync(productController.displayFormForNewProduct));\n\nrouter.post('/', isLoggedIn, validateProduct, catchAsync(productController.createProduct));\n\nrouter.get('/:id', catchAsync(productController.showProduct));\n\nrouter.get('/:id/edit', isLoggedIn, catchAsync(productController.showEditForm));\n\nrouter.patch('/:id', isLoggedIn, catchAsync(productController.updateProduct));\n\nrouter.delete('/:id', isLoggedIn, catchAsync(productController.deleteProduct));\n\n// Above routes can be written as below also----------------------\n// router.route('/')\n//     .get(catchAsync(productController.getAllProduct))\n//     .post(catchAsync(productController.createProduct));\n\n// router.route('/:id')\n//     .get(catchAsync(productController.showProduct))\n//     .patch(catchAsync(productController.updateProduct))\n//     .delete(catchAsync(productController.deleteProduct));\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,kBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,eAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,UAAA,GAAAJ,OAAA;AAA8D,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9D,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;;AAE/B;AACAF,MAAM,CAACG,GAAG,CAAC,GAAG,EAAE,IAAAC,mBAAU,EAACC,0BAAiB,CAACC,aAAa,CAAC,CAAC;AAE5DN,MAAM,CAACG,GAAG,CAAC,MAAM,EAAEI,uBAAU,EAAE,IAAAH,mBAAU,EAACC,0BAAiB,CAACG,wBAAwB,CAAC,CAAC;AAEtFR,MAAM,CAACS,IAAI,CAAC,GAAG,EAAEF,uBAAU,EAAEG,0BAAe,EAAE,IAAAN,mBAAU,EAACC,0BAAiB,CAACM,aAAa,CAAC,CAAC;AAE1FX,MAAM,CAACG,GAAG,CAAC,MAAM,EAAE,IAAAC,mBAAU,EAACC,0BAAiB,CAACO,WAAW,CAAC,CAAC;AAE7DZ,MAAM,CAACG,GAAG,CAAC,WAAW,EAAEI,uBAAU,EAAE,IAAAH,mBAAU,EAACC,0BAAiB,CAACQ,YAAY,CAAC,CAAC;AAE/Eb,MAAM,CAACc,KAAK,CAAC,MAAM,EAAEP,uBAAU,EAAE,IAAAH,mBAAU,EAACC,0BAAiB,CAACU,aAAa,CAAC,CAAC;AAE7Ef,MAAM,CAACgB,MAAM,CAAC,MAAM,EAAET,uBAAU,EAAE,IAAAH,mBAAU,EAACC,0BAAiB,CAACY,aAAa,CAAC,CAAC;;AAE9E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA,IAAAC,QAAA,GAEelB,MAAM;AAAAmB,OAAA,CAAApB,OAAA,GAAAmB,QAAA"}},"mtime":1679205551684},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/catchAsync.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nfunction _default(callback) {\n  return function (req, res, next) {\n    callback(req, res).catch(next);\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGVmYXVsdCIsImNhbGxiYWNrIiwicmVxIiwicmVzIiwibmV4dCIsImNhdGNoIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL2NvcmUvIiwic291cmNlcyI6WyJjYXRjaEFzeW5jLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY2FsbGJhY2socmVxLCByZXMpLmNhdGNoKG5leHQpO1xuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZSxTQUFBQSxTQUFVQyxRQUFRLEVBQUU7RUFDakMsT0FBTyxVQUFVQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFO0lBQy9CSCxRQUFRLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxDQUFDLENBQUNFLEtBQUssQ0FBQ0QsSUFBSSxDQUFDO0VBQ2hDLENBQUM7QUFDSCJ9","map":{"version":3,"names":["_default","callback","req","res","next","catch"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/","sources":["catchAsync.js"],"sourcesContent":["export default function (callback) {\n  return function (req, res, next) {\n    callback(req, res).catch(next);\n  };\n}\n"],"mappings":";;;;;;AAAe,SAAAA,SAAUC,QAAQ,EAAE;EACjC,OAAO,UAAUC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;IAC/BH,QAAQ,CAACC,GAAG,EAAEC,GAAG,CAAC,CAACE,KAAK,CAACD,IAAI,CAAC;EAChC,CAAC;AACH"}},"mtime":1679199426016},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/productController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _productService = _interopRequireDefault(require(\"../service/productService\"));\nvar _logger = _interopRequireDefault(require(\"../core/logger\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllProduct = async (req, res) => {\n  _logger.default.info('Fetch all request product recieved');\n  const products = await _productService.default.getAllProduct();\n  res.render('products/index', {\n    products\n  });\n};\nconst displayFormForNewProduct = async (req, res) => {\n  res.render('products/new');\n};\nconst createProduct = async (req, res) => {\n  const {\n    name,\n    price,\n    imageUrl,\n    desc\n  } = req.body;\n  await _productService.default.createProduct({\n    name,\n    price,\n    imageUrl,\n    desc\n  });\n  req.flash('success', 'Created the product successfully!');\n  res.redirect('/api/v1/products');\n};\nconst showProduct = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const product = await _productService.default.findProductById(id);\n  res.render('products/show', {\n    product\n  });\n};\nconst showEditForm = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const product = await _productService.default.findProductById(id);\n  res.render('products/edit', {\n    product\n  });\n};\nconst updateProduct = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const {\n    name,\n    price,\n    desc,\n    imageUrl\n  } = req.body;\n  await _productService.default.updateProductById(id, {\n    name,\n    price,\n    desc,\n    imageUrl\n  });\n  req.flash('success', 'Updated the product successfully');\n  res.redirect(`/api/v1/products/${id}`);\n};\nconst deleteProduct = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await _productService.default.deleteProductById(id);\n  req.flash('success', 'Deleted the product sucessfully!');\n  res.redirect('/api/v1/products');\n};\nvar _default = {\n  getAllProduct,\n  displayFormForNewProduct,\n  createProduct,\n  showProduct,\n  showEditForm,\n  updateProduct,\n  deleteProduct\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdFNlcnZpY2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9sb2dnZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdldEFsbFByb2R1Y3QiLCJyZXEiLCJyZXMiLCJsb2dnZXIiLCJpbmZvIiwicHJvZHVjdHMiLCJwcm9kdWN0U2VydmljZSIsInJlbmRlciIsImRpc3BsYXlGb3JtRm9yTmV3UHJvZHVjdCIsImNyZWF0ZVByb2R1Y3QiLCJuYW1lIiwicHJpY2UiLCJpbWFnZVVybCIsImRlc2MiLCJib2R5IiwiZmxhc2giLCJyZWRpcmVjdCIsInNob3dQcm9kdWN0IiwiaWQiLCJwYXJhbXMiLCJwcm9kdWN0IiwiZmluZFByb2R1Y3RCeUlkIiwic2hvd0VkaXRGb3JtIiwidXBkYXRlUHJvZHVjdCIsInVwZGF0ZVByb2R1Y3RCeUlkIiwiZGVsZXRlUHJvZHVjdCIsImRlbGV0ZVByb2R1Y3RCeUlkIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsicHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHByb2R1Y3RTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2UvcHJvZHVjdFNlcnZpY2UnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9jb3JlL2xvZ2dlcic7XG5cbmNvbnN0IGdldEFsbFByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgbG9nZ2VyLmluZm8oJ0ZldGNoIGFsbCByZXF1ZXN0IHByb2R1Y3QgcmVjaWV2ZWQnKTtcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBwcm9kdWN0U2VydmljZS5nZXRBbGxQcm9kdWN0KCk7XG4gIHJlcy5yZW5kZXIoJ3Byb2R1Y3RzL2luZGV4JywgeyBwcm9kdWN0cyB9KTtcbn07XG5cbmNvbnN0IGRpc3BsYXlGb3JtRm9yTmV3UHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICByZXMucmVuZGVyKCdwcm9kdWN0cy9uZXcnKTtcbn07XG5cbmNvbnN0IGNyZWF0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qge1xuICAgIG5hbWUsIHByaWNlLCBpbWFnZVVybCwgZGVzYyxcbiAgfSA9IHJlcS5ib2R5O1xuICBhd2FpdCBwcm9kdWN0U2VydmljZS5jcmVhdGVQcm9kdWN0KHtcbiAgICBuYW1lLCBwcmljZSwgaW1hZ2VVcmwsIGRlc2MsXG4gIH0pO1xuICByZXEuZmxhc2goJ3N1Y2Nlc3MnLCAnQ3JlYXRlZCB0aGUgcHJvZHVjdCBzdWNjZXNzZnVsbHkhJyk7XG4gIHJlcy5yZWRpcmVjdCgnL2FwaS92MS9wcm9kdWN0cycpO1xufTtcblxuY29uc3Qgc2hvd1Byb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RTZXJ2aWNlLmZpbmRQcm9kdWN0QnlJZChpZCk7XG4gIHJlcy5yZW5kZXIoJ3Byb2R1Y3RzL3Nob3cnLCB7IHByb2R1Y3QgfSk7XG59O1xuXG5jb25zdCBzaG93RWRpdEZvcm0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RTZXJ2aWNlLmZpbmRQcm9kdWN0QnlJZChpZCk7XG4gIHJlcy5yZW5kZXIoJ3Byb2R1Y3RzL2VkaXQnLCB7IHByb2R1Y3QgfSk7XG59O1xuXG5jb25zdCB1cGRhdGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICBuYW1lLCBwcmljZSwgZGVzYywgaW1hZ2VVcmwsXG4gIH0gPSByZXEuYm9keTtcbiAgYXdhaXQgcHJvZHVjdFNlcnZpY2UudXBkYXRlUHJvZHVjdEJ5SWQoaWQsIHtcbiAgICBuYW1lLCBwcmljZSwgZGVzYywgaW1hZ2VVcmwsXG4gIH0pO1xuICByZXEuZmxhc2goJ3N1Y2Nlc3MnLCAnVXBkYXRlZCB0aGUgcHJvZHVjdCBzdWNjZXNzZnVsbHknKTtcbiAgcmVzLnJlZGlyZWN0KGAvYXBpL3YxL3Byb2R1Y3RzLyR7aWR9YCk7XG59O1xuXG5jb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGF3YWl0IHByb2R1Y3RTZXJ2aWNlLmRlbGV0ZVByb2R1Y3RCeUlkKGlkKTtcbiAgcmVxLmZsYXNoKCdzdWNjZXNzJywgJ0RlbGV0ZWQgdGhlIHByb2R1Y3Qgc3VjZXNzZnVsbHkhJyk7XG4gIHJlcy5yZWRpcmVjdCgnL2FwaS92MS9wcm9kdWN0cycpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRBbGxQcm9kdWN0LFxuICBkaXNwbGF5Rm9ybUZvck5ld1Byb2R1Y3QsXG4gIGNyZWF0ZVByb2R1Y3QsXG4gIHNob3dQcm9kdWN0LFxuICBzaG93RWRpdEZvcm0sXG4gIHVwZGF0ZVByb2R1Y3QsXG4gIGRlbGV0ZVByb2R1Y3QsXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxlQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFcEMsTUFBTUcsYUFBYSxHQUFHLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hDQyxlQUFNLENBQUNDLElBQUksQ0FBQyxvQ0FBb0MsQ0FBQztFQUNqRCxNQUFN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","map":{"version":3,"names":["_productService","_interopRequireDefault","require","_logger","obj","__esModule","default","getAllProduct","req","res","logger","info","products","productService","render","displayFormForNewProduct","createProduct","name","price","imageUrl","desc","body","flash","redirect","showProduct","id","params","product","findProductById","showEditForm","updateProduct","updateProductById","deleteProduct","deleteProductById","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/","sources":["productController.js"],"sourcesContent":["import productService from '../service/productService';\nimport logger from '../core/logger';\n\nconst getAllProduct = async (req, res) => {\n  logger.info('Fetch all request product recieved');\n  const products = await productService.getAllProduct();\n  res.render('products/index', { products });\n};\n\nconst displayFormForNewProduct = async (req, res) => {\n  res.render('products/new');\n};\n\nconst createProduct = async (req, res) => {\n  const {\n    name, price, imageUrl, desc,\n  } = req.body;\n  await productService.createProduct({\n    name, price, imageUrl, desc,\n  });\n  req.flash('success', 'Created the product successfully!');\n  res.redirect('/api/v1/products');\n};\n\nconst showProduct = async (req, res) => {\n  const { id } = req.params;\n  const product = await productService.findProductById(id);\n  res.render('products/show', { product });\n};\n\nconst showEditForm = async (req, res) => {\n  const { id } = req.params;\n  const product = await productService.findProductById(id);\n  res.render('products/edit', { product });\n};\n\nconst updateProduct = async (req, res) => {\n  const { id } = req.params;\n  const {\n    name, price, desc, imageUrl,\n  } = req.body;\n  await productService.updateProductById(id, {\n    name, price, desc, imageUrl,\n  });\n  req.flash('success', 'Updated the product successfully');\n  res.redirect(`/api/v1/products/${id}`);\n};\n\nconst deleteProduct = async (req, res) => {\n  const { id } = req.params;\n  await productService.deleteProductById(id);\n  req.flash('success', 'Deleted the product sucessfully!');\n  res.redirect('/api/v1/products');\n};\n\nexport default {\n  getAllProduct,\n  displayFormForNewProduct,\n  createProduct,\n  showProduct,\n  showEditForm,\n  updateProduct,\n  deleteProduct,\n};\n"],"mappings":"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"}},"mtime":1679199426041},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/productService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _productRepo = _interopRequireDefault(require(\"../repository/productRepo\"));\nvar _logger = _interopRequireDefault(require(\"../core/logger\"));\nvar _ApiError = require(\"../core/ApiError\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllProduct = () => {\n  _logger.default.info('fetching all the products from repository');\n  return _productRepo.default.getAllProducts();\n};\nconst createProduct = product => {\n  _logger.default.info(`Creating a product with data : ${product}`);\n  return _productRepo.default.createProduct(product);\n};\nconst findProductById = async id => {\n  const product = await _productRepo.default.findProductByIdWithReviews(id);\n  if (!product) {\n    throw new _ApiError.BadRequestError(`Product with the id : ${id} doesn't exist`);\n  }\n  return product;\n};\nconst updateProductById = async (id, product) => {\n  const currentProduct = await _productRepo.default.findProductById(id);\n  if (!currentProduct) throw new _ApiError.BadRequestError(`Product with the id : ${id} doesn't exist`);\n  const updatedProduct = await _productRepo.default.updateProductById(id, product);\n  return updatedProduct;\n};\nconst deleteProductById = async id => _productRepo.default.deleteProductById(id);\nvar _default = {\n  getAllProduct,\n  createProduct,\n  findProductById,\n  updateProductById,\n  deleteProductById\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdFJlcG8iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9sb2dnZXIiLCJfQXBpRXJyb3IiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdldEFsbFByb2R1Y3QiLCJsb2dnZXIiLCJpbmZvIiwicHJvZHVjdFJlcG8iLCJnZXRBbGxQcm9kdWN0cyIsImNyZWF0ZVByb2R1Y3QiLCJwcm9kdWN0IiwiZmluZFByb2R1Y3RCeUlkIiwiaWQiLCJmaW5kUHJvZHVjdEJ5SWRXaXRoUmV2aWV3cyIsIkJhZFJlcXVlc3RFcnJvciIsInVwZGF0ZVByb2R1Y3RCeUlkIiwiY3VycmVudFByb2R1Y3QiLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZVByb2R1Y3RCeUlkIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL3NlcnZpY2UvIiwic291cmNlcyI6WyJwcm9kdWN0U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcHJvZHVjdFJlcG8gZnJvbSAnLi4vcmVwb3NpdG9yeS9wcm9kdWN0UmVwbyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4uL2NvcmUvbG9nZ2VyJztcbmltcG9ydCB7IEJhZFJlcXVlc3RFcnJvciB9IGZyb20gJy4uL2NvcmUvQXBpRXJyb3InO1xuXG5jb25zdCBnZXRBbGxQcm9kdWN0ID0gKCkgPT4ge1xuICBsb2dnZXIuaW5mbygnZmV0Y2hpbmcgYWxsIHRoZSBwcm9kdWN0cyBmcm9tIHJlcG9zaXRvcnknKTtcbiAgcmV0dXJuIHByb2R1Y3RSZXBvLmdldEFsbFByb2R1Y3RzKCk7XG59O1xuXG5jb25zdCBjcmVhdGVQcm9kdWN0ID0gKHByb2R1Y3QpID0+IHtcbiAgbG9nZ2VyLmluZm8oYENyZWF0aW5nIGEgcHJvZHVjdCB3aXRoIGRhdGEgOiAke3Byb2R1Y3R9YCk7XG4gIHJldHVybiBwcm9kdWN0UmVwby5jcmVhdGVQcm9kdWN0KHByb2R1Y3QpO1xufTtcblxuY29uc3QgZmluZFByb2R1Y3RCeUlkID0gYXN5bmMgKGlkKSA9PiB7XG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0UmVwby5maW5kUHJvZHVjdEJ5SWRXaXRoUmV2aWV3cyhpZCk7XG4gIGlmICghcHJvZHVjdCkge1xuICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXJyb3IoYFByb2R1Y3Qgd2l0aCB0aGUgaWQgOiAke2lkfSBkb2Vzbid0IGV4aXN0YCk7XG4gIH1cbiAgcmV0dXJuIHByb2R1Y3Q7XG59O1xuXG5jb25zdCB1cGRhdGVQcm9kdWN0QnlJZCA9IGFzeW5jIChpZCwgcHJvZHVjdCkgPT4ge1xuICBjb25zdCBjdXJyZW50UHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RSZXBvLmZpbmRQcm9kdWN0QnlJZChpZCk7XG4gIGlmICghY3VycmVudFByb2R1Y3QpIHRocm93IG5ldyBCYWRSZXF1ZXN0RXJyb3IoYFByb2R1Y3Qgd2l0aCB0aGUgaWQgOiAke2lkfSBkb2Vzbid0IGV4aXN0YCk7XG4gIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdFJlcG8udXBkYXRlUHJvZHVjdEJ5SWQoaWQsIHByb2R1Y3QpO1xuICByZXR1cm4gdXBkYXRlZFByb2R1Y3Q7XG59O1xuXG5jb25zdCBkZWxldGVQcm9kdWN0QnlJZCA9IGFzeW5jIChpZCkgPT4gcHJvZHVjdFJlcG8uZGVsZXRlUHJvZHVjdEJ5SWQoaWQpO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldEFsbFByb2R1Y3QsXG4gIGNyZWF0ZVByb2R1Y3QsXG4gIGZpbmRQcm9kdWN0QnlJZCxcbiAgdXBkYXRlUHJvZHVjdEJ5SWQsXG4gIGRlbGV0ZVByb2R1Y3RCeUlkLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsWUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBRixPQUFBO0FBQW1ELFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRW5ELE1BQU1HLGFBQWEsR0FBR0EsQ0FBQSxLQUFNO0VBQzFCQyxlQUFNLENBQUNDLElBQUksQ0FBQywyQ0FBMkMsQ0FBQztFQUN4RCxPQUFPQyxvQkFBVyxDQUFDQyxjQUFjLEVBQUU7QUFDckMsQ0FBQztBQUVELE1BQU1DLGFBQWEsR0FBSUMsT0FBTyxJQUFLO0VBQ2pDTCxlQUFNLENBQUNDLElBQUksQ0FBRSxrQ0FBaUNJLE9BQVEsRUFBQyxDQUFDO0VBQ3hELE9BQU9ILG9CQUFXLENBQUNFLGFBQWEsQ0FBQ0MsT0FBTyxDQUFDO0FBQzNDLENBQUM7QUFFRCxNQUFNQyxlQUFlLEdBQUcsTUFBT0MsRUFBRSxJQUFLO0VBQ3BDLE1BQU1GLE9BQU8sR0FBRyxNQUFNSCxvQkFBVyxDQUFDTSwwQkFBMEIsQ0FBQ0QsRUFBRSxDQUFDO0VBQ2hFLElBQUksQ0FBQ0YsT0FBTyxFQUFFO0lBQ1osTUFBTSxJQUFJSSx5QkFBZSxDQUFFLHlCQUF3QkYsRUFBRyxnQkFBZSxDQUFDO0VBQ3hFO0VBQ0EsT0FBT0YsT0FBTztBQUNoQixDQUFDO0FBRUQsTUFBTUssaUJBQWlCLEdBQUcsTUFBQUEsQ0FBT0gsRUFBRSxFQUFFRixPQUFPLEtBQUs7RUFDL0MsTUFBTU0sY0FBYyxHQUFHLE1BQU1ULG9CQUFXLENBQUNJLGVBQWUsQ0FBQ0MsRUFBRSxDQUFDO0VBQzVELElBQUksQ0FBQ0ksY0FBYyxFQUFFLE1BQU0sSUFBSUYseUJBQWUsQ0FBRSx5QkFBd0JGLEVBQUcsZ0JBQWUsQ0FBQztFQUMzRixNQUFNSyxjQUFjLEdBQUcsTUFBTVYsb0JBQVcsQ0FBQ1EsaUJBQWlCLENBQUNILEVBQUUsRUFBRUYsT0FBTyxDQUFDO0VBQ3ZFLE9BQU9PLGNBQWM7QUFDdkIsQ0FBQztBQUVELE1BQU1DLGlCQUFpQixHQUFHLE1BQU9OLEVBQUUsSUFBS0wsb0JBQVcsQ0FBQ1csaUJBQWlCLENBQUNOLEVBQUUsQ0FBQztBQUFDLElBQUFPLFFBQUEsR0FFM0Q7RUFDYmYsYUFBYTtFQUNiSyxhQUFhO0VBQ2JFLGVBQWU7RUFDZkksaUJBQWlCO0VBQ2pCRztBQUNGLENBQUM7QUFBQUUsT0FBQSxDQUFBakIsT0FBQSxHQUFBZ0IsUUFBQSJ9","map":{"version":3,"names":["_productRepo","_interopRequireDefault","require","_logger","_ApiError","obj","__esModule","default","getAllProduct","logger","info","productRepo","getAllProducts","createProduct","product","findProductById","id","findProductByIdWithReviews","BadRequestError","updateProductById","currentProduct","updatedProduct","deleteProductById","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/","sources":["productService.js"],"sourcesContent":["import productRepo from '../repository/productRepo';\nimport logger from '../core/logger';\nimport { BadRequestError } from '../core/ApiError';\n\nconst getAllProduct = () => {\n  logger.info('fetching all the products from repository');\n  return productRepo.getAllProducts();\n};\n\nconst createProduct = (product) => {\n  logger.info(`Creating a product with data : ${product}`);\n  return productRepo.createProduct(product);\n};\n\nconst findProductById = async (id) => {\n  const product = await productRepo.findProductByIdWithReviews(id);\n  if (!product) {\n    throw new BadRequestError(`Product with the id : ${id} doesn't exist`);\n  }\n  return product;\n};\n\nconst updateProductById = async (id, product) => {\n  const currentProduct = await productRepo.findProductById(id);\n  if (!currentProduct) throw new BadRequestError(`Product with the id : ${id} doesn't exist`);\n  const updatedProduct = await productRepo.updateProductById(id, product);\n  return updatedProduct;\n};\n\nconst deleteProductById = async (id) => productRepo.deleteProductById(id);\n\nexport default {\n  getAllProduct,\n  createProduct,\n  findProductById,\n  updateProductById,\n  deleteProductById,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AAAmD,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnD,MAAMG,aAAa,GAAGA,CAAA,KAAM;EAC1BC,eAAM,CAACC,IAAI,CAAC,2CAA2C,CAAC;EACxD,OAAOC,oBAAW,CAACC,cAAc,EAAE;AACrC,CAAC;AAED,MAAMC,aAAa,GAAIC,OAAO,IAAK;EACjCL,eAAM,CAACC,IAAI,CAAE,kCAAiCI,OAAQ,EAAC,CAAC;EACxD,OAAOH,oBAAW,CAACE,aAAa,CAACC,OAAO,CAAC;AAC3C,CAAC;AAED,MAAMC,eAAe,GAAG,MAAOC,EAAE,IAAK;EACpC,MAAMF,OAAO,GAAG,MAAMH,oBAAW,CAACM,0BAA0B,CAACD,EAAE,CAAC;EAChE,IAAI,CAACF,OAAO,EAAE;IACZ,MAAM,IAAII,yBAAe,CAAE,yBAAwBF,EAAG,gBAAe,CAAC;EACxE;EACA,OAAOF,OAAO;AAChB,CAAC;AAED,MAAMK,iBAAiB,GAAG,MAAAA,CAAOH,EAAE,EAAEF,OAAO,KAAK;EAC/C,MAAMM,cAAc,GAAG,MAAMT,oBAAW,CAACI,eAAe,CAACC,EAAE,CAAC;EAC5D,IAAI,CAACI,cAAc,EAAE,MAAM,IAAIF,yBAAe,CAAE,yBAAwBF,EAAG,gBAAe,CAAC;EAC3F,MAAMK,cAAc,GAAG,MAAMV,oBAAW,CAACQ,iBAAiB,CAACH,EAAE,EAAEF,OAAO,CAAC;EACvE,OAAOO,cAAc;AACvB,CAAC;AAED,MAAMC,iBAAiB,GAAG,MAAON,EAAE,IAAKL,oBAAW,CAACW,iBAAiB,CAACN,EAAE,CAAC;AAAC,IAAAO,QAAA,GAE3D;EACbf,aAAa;EACbK,aAAa;EACbE,eAAe;EACfI,iBAAiB;EACjBG;AACF,CAAC;AAAAE,OAAA,CAAAjB,OAAA,GAAAgB,QAAA"}},"mtime":1679199426036},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/productRepo.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _product = _interopRequireDefault(require(\"../models/product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllProducts = () => _product.default.find({}).lean();\nconst createProduct = product => _product.default.create(product);\nconst findProductById = id => _product.default.findById(id);\nconst updateProductById = (id, product) => _product.default.findByIdAndUpdate(id, product, {\n  new: true\n});\nconst deleteProductById = id => _product.default.findByIdAndDelete(id);\nconst saveProduct = product => product.save();\nconst findProductByIdWithReviews = id => _product.default.findById(id).populate('reviews');\nvar _default = {\n  getAllProducts,\n  createProduct,\n  findProductById,\n  updateProductById,\n  deleteProductById,\n  saveProduct,\n  findProductByIdWithReviews\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRBbGxQcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwibGVhbiIsImNyZWF0ZVByb2R1Y3QiLCJwcm9kdWN0IiwiY3JlYXRlIiwiZmluZFByb2R1Y3RCeUlkIiwiaWQiLCJmaW5kQnlJZCIsInVwZGF0ZVByb2R1Y3RCeUlkIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJkZWxldGVQcm9kdWN0QnlJZCIsImZpbmRCeUlkQW5kRGVsZXRlIiwic2F2ZVByb2R1Y3QiLCJzYXZlIiwiZmluZFByb2R1Y3RCeUlkV2l0aFJldmlld3MiLCJwb3B1bGF0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsicHJvZHVjdFJlcG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3QnO1xuXG5jb25zdCBnZXRBbGxQcm9kdWN0cyA9ICgpID0+IFByb2R1Y3QuZmluZCh7fSlcbiAgLmxlYW4oKTtcblxuY29uc3QgY3JlYXRlUHJvZHVjdCA9IChwcm9kdWN0KSA9PiBQcm9kdWN0LmNyZWF0ZShwcm9kdWN0KTtcblxuY29uc3QgZmluZFByb2R1Y3RCeUlkID0gKGlkKSA9PiBQcm9kdWN0LmZpbmRCeUlkKGlkKTtcblxuY29uc3QgdXBkYXRlUHJvZHVjdEJ5SWQgPSAoaWQsIHByb2R1Y3QpID0+IFByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoaWQsIHByb2R1Y3QsIHsgbmV3OiB0cnVlIH0pO1xuXG5jb25zdCBkZWxldGVQcm9kdWN0QnlJZCA9IChpZCkgPT4gUHJvZHVjdC5maW5kQnlJZEFuZERlbGV0ZShpZCk7XG5cbmNvbnN0IHNhdmVQcm9kdWN0ID0gKHByb2R1Y3QpID0+IHByb2R1Y3Quc2F2ZSgpO1xuXG5jb25zdCBmaW5kUHJvZHVjdEJ5SWRXaXRoUmV2aWV3cyA9IChpZCkgPT4gUHJvZHVjdC5maW5kQnlJZChpZClcbiAgLnBvcHVsYXRlKCdyZXZpZXdzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0QWxsUHJvZHVjdHMsXG4gIGNyZWF0ZVByb2R1Y3QsXG4gIGZpbmRQcm9kdWN0QnlJZCxcbiAgdXBkYXRlUHJvZHVjdEJ5SWQsXG4gIGRlbGV0ZVByb2R1Y3RCeUlkLFxuICBzYXZlUHJvZHVjdCxcbiAgZmluZFByb2R1Y3RCeUlkV2l0aFJldmlld3MsXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBd0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFeEMsTUFBTUcsY0FBYyxHQUFHQSxDQUFBLEtBQU1DLGdCQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUMxQ0MsSUFBSSxFQUFFO0FBRVQsTUFBTUMsYUFBYSxHQUFJQyxPQUFPLElBQUtKLGdCQUFPLENBQUNLLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDO0FBRTFELE1BQU1FLGVBQWUsR0FBSUMsRUFBRSxJQUFLUCxnQkFBTyxDQUFDUSxRQUFRLENBQUNELEVBQUUsQ0FBQztBQUVwRCxNQUFNRSxpQkFBaUIsR0FBR0EsQ0FBQ0YsRUFBRSxFQUFFSCxPQUFPLEtBQUtKLGdCQUFPLENBQUNVLGlCQUFpQixDQUFDSCxFQUFFLEVBQUVILE9BQU8sRUFBRTtFQUFFTyxHQUFHLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFFaEcsTUFBTUMsaUJBQWlCLEdBQUlMLEVBQUUsSUFBS1AsZ0JBQU8sQ0FBQ2EsaUJBQWlCLENBQUNOLEVBQUUsQ0FBQztBQUUvRCxNQUFNTyxXQUFXLEdBQUlWLE9BQU8sSUFBS0EsT0FBTyxDQUFDVyxJQUFJLEVBQUU7QUFFL0MsTUFBTUMsMEJBQTBCLEdBQUlULEVBQUUsSUFBS1AsZ0JBQU8sQ0FBQ1EsUUFBUSxDQUFDRCxFQUFFLENBQUMsQ0FDNURVLFFBQVEsQ0FBQyxTQUFTLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRVI7RUFDYm5CLGNBQWM7RUFDZEksYUFBYTtFQUNiRyxlQUFlO0VBQ2ZHLGlCQUFpQjtFQUNqQkcsaUJBQWlCO0VBQ2pCRSxXQUFXO0VBQ1hFO0FBQ0YsQ0FBQztBQUFBRyxPQUFBLENBQUFyQixPQUFBLEdBQUFvQixRQUFBIn0=","map":{"version":3,"names":["_product","_interopRequireDefault","require","obj","__esModule","default","getAllProducts","Product","find","lean","createProduct","product","create","findProductById","id","findById","updateProductById","findByIdAndUpdate","new","deleteProductById","findByIdAndDelete","saveProduct","save","findProductByIdWithReviews","populate","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/","sources":["productRepo.js"],"sourcesContent":["import Product from '../models/product';\n\nconst getAllProducts = () => Product.find({})\n  .lean();\n\nconst createProduct = (product) => Product.create(product);\n\nconst findProductById = (id) => Product.findById(id);\n\nconst updateProductById = (id, product) => Product.findByIdAndUpdate(id, product, { new: true });\n\nconst deleteProductById = (id) => Product.findByIdAndDelete(id);\n\nconst saveProduct = (product) => product.save();\n\nconst findProductByIdWithReviews = (id) => Product.findById(id)\n  .populate('reviews');\n\nexport default {\n  getAllProducts,\n  createProduct,\n  findProductById,\n  updateProductById,\n  deleteProductById,\n  saveProduct,\n  findProductByIdWithReviews,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAwC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,cAAc,GAAGA,CAAA,KAAMC,gBAAO,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,CAC1CC,IAAI,EAAE;AAET,MAAMC,aAAa,GAAIC,OAAO,IAAKJ,gBAAO,CAACK,MAAM,CAACD,OAAO,CAAC;AAE1D,MAAME,eAAe,GAAIC,EAAE,IAAKP,gBAAO,CAACQ,QAAQ,CAACD,EAAE,CAAC;AAEpD,MAAME,iBAAiB,GAAGA,CAACF,EAAE,EAAEH,OAAO,KAAKJ,gBAAO,CAACU,iBAAiB,CAACH,EAAE,EAAEH,OAAO,EAAE;EAAEO,GAAG,EAAE;AAAK,CAAC,CAAC;AAEhG,MAAMC,iBAAiB,GAAIL,EAAE,IAAKP,gBAAO,CAACa,iBAAiB,CAACN,EAAE,CAAC;AAE/D,MAAMO,WAAW,GAAIV,OAAO,IAAKA,OAAO,CAACW,IAAI,EAAE;AAE/C,MAAMC,0BAA0B,GAAIT,EAAE,IAAKP,gBAAO,CAACQ,QAAQ,CAACD,EAAE,CAAC,CAC5DU,QAAQ,CAAC,SAAS,CAAC;AAAC,IAAAC,QAAA,GAER;EACbnB,cAAc;EACdI,aAAa;EACbG,eAAe;EACfG,iBAAiB;EACjBG,iBAAiB;EACjBE,WAAW;EACXE;AACF,CAAC;AAAAG,OAAA,CAAArB,OAAA,GAAAoB,QAAA"}},"mtime":1679199426011},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _review = _interopRequireDefault(require(\"./review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productSchema = new _mongoose.default.Schema({\n  name: String,\n  imageUrl: String,\n  price: Number,\n  desc: String,\n  reviews: [{\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Review'\n  }]\n});\nproductSchema.post('findOneAndDelete', async product => {\n  await _review.default.deleteMany({\n    _id: {\n      $in: product.reviews\n    }\n  });\n});\nconst Product = _mongoose.default.model('Product', productSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInByb2R1Y3RTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJTdHJpbmciLCJpbWFnZVVybCIsInByaWNlIiwiTnVtYmVyIiwiZGVzYyIsInJldmlld3MiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInBvc3QiLCJwcm9kdWN0IiwiUmV2aWV3IiwiZGVsZXRlTWFueSIsIl9pZCIsIiRpbiIsIlByb2R1Y3QiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJwcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgUmV2aWV3IGZyb20gJy4vcmV2aWV3JztcblxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiBTdHJpbmcsXG4gIGltYWdlVXJsOiBTdHJpbmcsXG4gIHByaWNlOiBOdW1iZXIsXG4gIGRlc2M6IFN0cmluZyxcbiAgcmV2aWV3czogW1xuICAgIHtcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgIHJlZjogJ1JldmlldycsXG4gICAgfSxcbiAgXSxcbn0pO1xuXG5wcm9kdWN0U2NoZW1hLnBvc3QoJ2ZpbmRPbmVBbmREZWxldGUnLCBhc3luYyAocHJvZHVjdCkgPT4ge1xuICBhd2FpdCBSZXZpZXcuZGVsZXRlTWFueSh7IF9pZDogeyAkaW46IHByb2R1Y3QucmV2aWV3cyB9IH0pO1xufSk7XG5cbmNvbnN0IFByb2R1Y3QgPSBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIHByb2R1Y3RTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFOUIsTUFBTUcsYUFBYSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUN4Q0MsSUFBSSxFQUFFQyxNQUFNO0VBQ1pDLFFBQVEsRUFBRUQsTUFBTTtFQUNoQkUsS0FBSyxFQUFFQyxNQUFNO0VBQ2JDLElBQUksRUFBRUosTUFBTTtFQUNaSyxPQUFPLEVBQUUsQ0FDUDtJQUNFQyxJQUFJLEVBQUVULGlCQUFRLENBQUNDLE1BQU0sQ0FBQ1MsS0FBSyxDQUFDQyxRQUFRO0lBQ3BDQyxHQUFHLEVBQUU7RUFDUCxDQUFDO0FBRUwsQ0FBQyxDQUFDO0FBRUZiLGFBQWEsQ0FBQ2MsSUFBSSxDQUFDLGtCQUFrQixFQUFFLE1BQU9DLE9BQU8sSUFBSztFQUN4RCxNQUFNQyxlQUFNLENBQUNDLFVBQVUsQ0FBQztJQUFFQyxHQUFHLEVBQUU7TUFBRUMsR0FBRyxFQUFFSixPQUFPLENBQUNOO0lBQVE7RUFBRSxDQUFDLENBQUM7QUFDNUQsQ0FBQyxDQUFDO0FBRUYsTUFBTVcsT0FBTyxHQUFHbkIsaUJBQVEsQ0FBQ29CLEtBQUssQ0FBQyxTQUFTLEVBQUVyQixhQUFhLENBQUM7QUFBQyxJQUFBc0IsUUFBQSxHQUUxQ0YsT0FBTztBQUFBRyxPQUFBLENBQUF4QixPQUFBLEdBQUF1QixRQUFBIn0=","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_review","obj","__esModule","default","productSchema","mongoose","Schema","name","String","imageUrl","price","Number","desc","reviews","type","Types","ObjectId","ref","post","product","Review","deleteMany","_id","$in","Product","model","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/","sources":["product.js"],"sourcesContent":["import mongoose from 'mongoose';\nimport Review from './review';\n\nconst productSchema = new mongoose.Schema({\n  name: String,\n  imageUrl: String,\n  price: Number,\n  desc: String,\n  reviews: [\n    {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Review',\n    },\n  ],\n});\n\nproductSchema.post('findOneAndDelete', async (product) => {\n  await Review.deleteMany({ _id: { $in: product.reviews } });\n});\n\nconst Product = mongoose.model('Product', productSchema);\n\nexport default Product;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9B,MAAMG,aAAa,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACxCC,IAAI,EAAEC,MAAM;EACZC,QAAQ,EAAED,MAAM;EAChBE,KAAK,EAAEC,MAAM;EACbC,IAAI,EAAEJ,MAAM;EACZK,OAAO,EAAE,CACP;IACEC,IAAI,EAAET,iBAAQ,CAACC,MAAM,CAACS,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACP,CAAC;AAEL,CAAC,CAAC;AAEFb,aAAa,CAACc,IAAI,CAAC,kBAAkB,EAAE,MAAOC,OAAO,IAAK;EACxD,MAAMC,eAAM,CAACC,UAAU,CAAC;IAAEC,GAAG,EAAE;MAAEC,GAAG,EAAEJ,OAAO,CAACN;IAAQ;EAAE,CAAC,CAAC;AAC5D,CAAC,CAAC;AAEF,MAAMW,OAAO,GAAGnB,iBAAQ,CAACoB,KAAK,CAAC,SAAS,EAAErB,aAAa,CAAC;AAAC,IAAAsB,QAAA,GAE1CF,OAAO;AAAAG,OAAA,CAAAxB,OAAA,GAAAuB,QAAA"}},"mtime":1679199426024},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst reviewSchema = new _mongoose.default.Schema({\n  rating: {\n    type: Number,\n    min: 1,\n    max: 5,\n    default: 1\n  },\n  comment: {\n    type: String,\n    maxLength: 100\n  }\n});\nconst Review = _mongoose.default.model('Review', reviewSchema);\nvar _default = Review;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmV2aWV3U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJyYXRpbmciLCJ0eXBlIiwiTnVtYmVyIiwibWluIiwibWF4IiwiY29tbWVudCIsIlN0cmluZyIsIm1heExlbmd0aCIsIlJldmlldyIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbInJldmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCByZXZpZXdTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgcmF0aW5nOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIG1pbjogMSxcbiAgICBtYXg6IDUsXG4gICAgZGVmYXVsdDogMSxcbiAgfSxcbiAgY29tbWVudDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBtYXhMZW5ndGg6IDEwMCxcbiAgfSxcbn0pO1xuXG5jb25zdCBSZXZpZXcgPSBtb25nb29zZS5tb2RlbCgnUmV2aWV3JywgcmV2aWV3U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUmV2aWV3O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBZ0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFaEMsTUFBTUcsWUFBWSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUN2Q0MsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRUMsTUFBTTtJQUNaQyxHQUFHLEVBQUUsQ0FBQztJQUNOQyxHQUFHLEVBQUUsQ0FBQztJQUNOUixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RTLE9BQU8sRUFBRTtJQUNQSixJQUFJLEVBQUVLLE1BQU07SUFDWkMsU0FBUyxFQUFFO0VBQ2I7QUFDRixDQUFDLENBQUM7QUFFRixNQUFNQyxNQUFNLEdBQUdWLGlCQUFRLENBQUNXLEtBQUssQ0FBQyxRQUFRLEVBQUVaLFlBQVksQ0FBQztBQUFDLElBQUFhLFFBQUEsR0FFdkNGLE1BQU07QUFBQUcsT0FBQSxDQUFBZixPQUFBLEdBQUFjLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","reviewSchema","mongoose","Schema","rating","type","Number","min","max","comment","String","maxLength","Review","model","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/","sources":["review.js"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst reviewSchema = new mongoose.Schema({\n  rating: {\n    type: Number,\n    min: 1,\n    max: 5,\n    default: 1,\n  },\n  comment: {\n    type: String,\n    maxLength: 100,\n  },\n});\n\nconst Review = mongoose.model('Review', reviewSchema);\n\nexport default Review;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,YAAY,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACvCC,MAAM,EAAE;IACNC,IAAI,EAAEC,MAAM;IACZC,GAAG,EAAE,CAAC;IACNC,GAAG,EAAE,CAAC;IACNR,OAAO,EAAE;EACX,CAAC;EACDS,OAAO,EAAE;IACPJ,IAAI,EAAEK,MAAM;IACZC,SAAS,EAAE;EACb;AACF,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGV,iBAAQ,CAACW,KAAK,CAAC,QAAQ,EAAEZ,YAAY,CAAC;AAAC,IAAAa,QAAA,GAEvCF,MAAM;AAAAG,OAAA,CAAAf,OAAA,GAAAc,QAAA"}},"mtime":1679199426023},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/logger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _winston = _interopRequireDefault(require(\"winston\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst logger = _winston.default.createLogger({\n  transports: [new _winston.default.transports.Console(), new _winston.default.transports.File({\n    filename: 'combined.log'\n  })]\n});\nvar _default = logger;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfd2luc3RvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJsb2dnZXIiLCJ3aW5zdG9uIiwiY3JlYXRlTG9nZ2VyIiwidHJhbnNwb3J0cyIsIkNvbnNvbGUiLCJGaWxlIiwiZmlsZW5hbWUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvY29yZS8iLCJzb3VyY2VzIjpbImxvZ2dlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgd2luc3RvbiBmcm9tICd3aW5zdG9uJztcblxuY29uc3QgbG9nZ2VyID0gd2luc3Rvbi5jcmVhdGVMb2dnZXIoe1xuICB0cmFuc3BvcnRzOiBbXG4gICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5Db25zb2xlKCksXG4gICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5GaWxlKHsgZmlsZW5hbWU6ICdjb21iaW5lZC5sb2cnIH0pLFxuICBdLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTlCLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsWUFBWSxDQUFDO0VBQ2xDQyxVQUFVLEVBQUUsQ0FDVixJQUFJRixnQkFBTyxDQUFDRSxVQUFVLENBQUNDLE9BQU8sRUFBRSxFQUNoQyxJQUFJSCxnQkFBTyxDQUFDRSxVQUFVLENBQUNFLElBQUksQ0FBQztJQUFFQyxRQUFRLEVBQUU7RUFBZSxDQUFDLENBQUM7QUFFN0QsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVZUCxNQUFNO0FBQUFRLE9BQUEsQ0FBQVQsT0FBQSxHQUFBUSxRQUFBIn0=","map":{"version":3,"names":["_winston","_interopRequireDefault","require","obj","__esModule","default","logger","winston","createLogger","transports","Console","File","filename","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/","sources":["logger.js"],"sourcesContent":["import winston from 'winston';\n\nconst logger = winston.createLogger({\n  transports: [\n    new winston.transports.Console(),\n    new winston.transports.File({ filename: 'combined.log' }),\n  ],\n});\n\nexport default logger;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9B,MAAMG,MAAM,GAAGC,gBAAO,CAACC,YAAY,CAAC;EAClCC,UAAU,EAAE,CACV,IAAIF,gBAAO,CAACE,UAAU,CAACC,OAAO,EAAE,EAChC,IAAIH,gBAAO,CAACE,UAAU,CAACE,IAAI,CAAC;IAAEC,QAAQ,EAAE;EAAe,CAAC,CAAC;AAE7D,CAAC,CAAC;AAAC,IAAAC,QAAA,GAEYP,MAAM;AAAAQ,OAAA,CAAAT,OAAA,GAAAQ,QAAA"}},"mtime":1679199426015},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/ApiError.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NotFoundError = exports.InteralServerError = exports.BadRequestError = void 0;\nvar _statusCode = _interopRequireDefault(require(\"./statusCode\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nclass NotFoundError extends Error {\n  constructor(message = 'Not Found') {\n    super(message);\n    this.statusCode = _statusCode.default.NOT_FOUND;\n  }\n}\nexports.NotFoundError = NotFoundError;\nclass InteralServerError extends Error {\n  constructor(message = 'Internal Error') {\n    super(message);\n    this.statusCode = _statusCode.default.INTERNAL_ERROR;\n  }\n}\nexports.InteralServerError = InteralServerError;\nclass BadRequestError extends Error {\n  constructor(message = 'Bad Request') {\n    super(message);\n    this.statusCode = _statusCode.default.BAD_REQUEST;\n  }\n}\nexports.BadRequestError = BadRequestError;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc3RhdHVzQ29kZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiUmVzcG9uc2VTdGF0dXMiLCJOT1RfRk9VTkQiLCJleHBvcnRzIiwiSW50ZXJhbFNlcnZlckVycm9yIiwiSU5URVJOQUxfRVJST1IiLCJCYWRSZXF1ZXN0RXJyb3IiLCJCQURfUkVRVUVTVCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9jb3JlLyIsInNvdXJjZXMiOlsiQXBpRXJyb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlc3BvbnNlU3RhdHVzIGZyb20gJy4vc3RhdHVzQ29kZSc7XG5cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ05vdCBGb3VuZCcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBSZXNwb25zZVN0YXR1cy5OT1RfRk9VTkQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSA9ICdJbnRlcm5hbCBFcnJvcicpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBSZXNwb25zZVN0YXR1cy5JTlRFUk5BTF9FUlJPUjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFkUmVxdWVzdEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ0JhZCBSZXF1ZXN0Jykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IFJlc3BvbnNlU3RhdHVzLkJBRF9SRVFVRVNUO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUVuQyxNQUFNRyxhQUFhLFNBQVNDLEtBQUssQ0FBQztFQUN2Q0MsV0FBV0EsQ0FBQ0MsT0FBTyxHQUFHLFdBQVcsRUFBRTtJQUNqQyxLQUFLLENBQUNBLE9BQU8sQ0FBQztJQUNkLElBQUksQ0FBQ0MsVUFBVSxHQUFHQyxtQkFBYyxDQUFDQyxTQUFTO0VBQzVDO0FBQ0Y7QUFBQ0MsT0FBQSxDQUFBUCxhQUFBLEdBQUFBLGFBQUE7QUFFTSxNQUFNUSxrQkFBa0IsU0FBU1AsS0FBSyxDQUFDO0VBQzVDQyxXQUFXQSxDQUFDQyxPQUFPLEdBQUcsZ0JBQWdCLEVBQUU7SUFDdEMsS0FBSyxDQUFDQSxPQUFPLENBQUM7SUFDZCxJQUFJLENBQUNDLFVBQVUsR0FBR0MsbUJBQWMsQ0FBQ0ksY0FBYztFQUNqRDtBQUNGO0FBQUNGLE9BQUEsQ0FBQUMsa0JBQUEsR0FBQUEsa0JBQUE7QUFFTSxNQUFNRSxlQUFlLFNBQVNULEtBQUssQ0FBQztFQUN6Q0MsV0FBV0EsQ0FBQ0MsT0FBTyxHQUFHLGFBQWEsRUFBRTtJQUNuQyxLQUFLLENBQUNBLE9BQU8sQ0FBQztJQUNkLElBQUksQ0FBQ0MsVUFBVSxHQUFHQyxtQkFBYyxDQUFDTSxXQUFXO0VBQzlDO0FBQ0Y7QUFBQ0osT0FBQSxDQUFBRyxlQUFBLEdBQUFBLGVBQUEifQ==","map":{"version":3,"names":["_statusCode","_interopRequireDefault","require","obj","__esModule","default","NotFoundError","Error","constructor","message","statusCode","ResponseStatus","NOT_FOUND","exports","InteralServerError","INTERNAL_ERROR","BadRequestError","BAD_REQUEST"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/","sources":["ApiError.js"],"sourcesContent":["import ResponseStatus from './statusCode';\n\nexport class NotFoundError extends Error {\n  constructor(message = 'Not Found') {\n    super(message);\n    this.statusCode = ResponseStatus.NOT_FOUND;\n  }\n}\n\nexport class InteralServerError extends Error {\n  constructor(message = 'Internal Error') {\n    super(message);\n    this.statusCode = ResponseStatus.INTERNAL_ERROR;\n  }\n}\n\nexport class BadRequestError extends Error {\n  constructor(message = 'Bad Request') {\n    super(message);\n    this.statusCode = ResponseStatus.BAD_REQUEST;\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0C,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnC,MAAMG,aAAa,SAASC,KAAK,CAAC;EACvCC,WAAWA,CAACC,OAAO,GAAG,WAAW,EAAE;IACjC,KAAK,CAACA,OAAO,CAAC;IACd,IAAI,CAACC,UAAU,GAAGC,mBAAc,CAACC,SAAS;EAC5C;AACF;AAACC,OAAA,CAAAP,aAAA,GAAAA,aAAA;AAEM,MAAMQ,kBAAkB,SAASP,KAAK,CAAC;EAC5CC,WAAWA,CAACC,OAAO,GAAG,gBAAgB,EAAE;IACtC,KAAK,CAACA,OAAO,CAAC;IACd,IAAI,CAACC,UAAU,GAAGC,mBAAc,CAACI,cAAc;EACjD;AACF;AAACF,OAAA,CAAAC,kBAAA,GAAAA,kBAAA;AAEM,MAAME,eAAe,SAAST,KAAK,CAAC;EACzCC,WAAWA,CAACC,OAAO,GAAG,aAAa,EAAE;IACnC,KAAK,CAACA,OAAO,CAAC;IACd,IAAI,CAACC,UAAU,GAAGC,mBAAc,CAACM,WAAW;EAC9C;AACF;AAACJ,OAAA,CAAAG,eAAA,GAAAA,eAAA"}},"mtime":1679199426016},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/statusCode.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst ResponseStatus = Object.freeze({\n  SUCCESS: 200,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  INTERNAL_ERROR: 500\n});\nvar _default = ResponseStatus;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXNwb25zZVN0YXR1cyIsIk9iamVjdCIsImZyZWV6ZSIsIlNVQ0NFU1MiLCJCQURfUkVRVUVTVCIsIlVOQVVUSE9SSVpFRCIsIkZPUkJJRERFTiIsIk5PVF9GT1VORCIsIklOVEVSTkFMX0VSUk9SIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9jb3JlLyIsInNvdXJjZXMiOlsic3RhdHVzQ29kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBSZXNwb25zZVN0YXR1cyA9IE9iamVjdC5mcmVlemUoe1xuICBTVUNDRVNTOiAyMDAsXG4gIEJBRF9SRVFVRVNUOiA0MDAsXG4gIFVOQVVUSE9SSVpFRDogNDAxLFxuICBGT1JCSURERU46IDQwMyxcbiAgTk9UX0ZPVU5EOiA0MDQsXG4gIElOVEVSTkFMX0VSUk9SOiA1MDAsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmVzcG9uc2VTdGF0dXM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLGNBQWMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUM7RUFDbkNDLE9BQU8sRUFBRSxHQUFHO0VBQ1pDLFdBQVcsRUFBRSxHQUFHO0VBQ2hCQyxZQUFZLEVBQUUsR0FBRztFQUNqQkMsU0FBUyxFQUFFLEdBQUc7RUFDZEMsU0FBUyxFQUFFLEdBQUc7RUFDZEMsY0FBYyxFQUFFO0FBQ2xCLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFWVQsY0FBYztBQUFBVSxPQUFBLENBQUFDLE9BQUEsR0FBQUYsUUFBQSJ9","map":{"version":3,"names":["ResponseStatus","Object","freeze","SUCCESS","BAD_REQUEST","UNAUTHORIZED","FORBIDDEN","NOT_FOUND","INTERNAL_ERROR","_default","exports","default"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/","sources":["statusCode.js"],"sourcesContent":["const ResponseStatus = Object.freeze({\n  SUCCESS: 200,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  INTERNAL_ERROR: 500,\n});\n\nexport default ResponseStatus;\n"],"mappings":";;;;;;AAAA,MAAMA,cAAc,GAAGC,MAAM,CAACC,MAAM,CAAC;EACnCC,OAAO,EAAE,GAAG;EACZC,WAAW,EAAE,GAAG;EAChBC,YAAY,EAAE,GAAG;EACjBC,SAAS,EAAE,GAAG;EACdC,SAAS,EAAE,GAAG;EACdC,cAAc,EAAE;AAClB,CAAC,CAAC;AAAC,IAAAC,QAAA,GAEYT,cAAc;AAAAU,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1679199426017},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/middleware/authMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSeller = exports.default = void 0;\nconst isLoggedIn = (req, res, next) => {\n  if (!req.isAuthenticated()) {\n    req.flash('error', 'You need login first to do this!');\n    return res.redirect('/api/v1/auth/login');\n  }\n  return next();\n};\nconst isSeller = (req, res, next) => {\n  if (req.user.role === 'seller') {\n    return next();\n  }\n  req.flash('error', 'Only user with seller account can create the product');\n  return res.redirect('/api/v1/auth/login');\n};\nexports.isSeller = isSeller;\nvar _default = isLoggedIn;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc0xvZ2dlZEluIiwicmVxIiwicmVzIiwibmV4dCIsImlzQXV0aGVudGljYXRlZCIsImZsYXNoIiwicmVkaXJlY3QiLCJpc1NlbGxlciIsInVzZXIiLCJyb2xlIiwiZXhwb3J0cyIsIl9kZWZhdWx0IiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiYXV0aE1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaXNMb2dnZWRJbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBpZiAoIXJlcS5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgIHJlcS5mbGFzaCgnZXJyb3InLCAnWW91IG5lZWQgbG9naW4gZmlyc3QgdG8gZG8gdGhpcyEnKTtcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvYXBpL3YxL2F1dGgvbG9naW4nKTtcbiAgfVxuICByZXR1cm4gbmV4dCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2VsbGVyID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlci5yb2xlID09PSAnc2VsbGVyJykge1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH1cbiAgcmVxLmZsYXNoKCdlcnJvcicsICdPbmx5IHVzZXIgd2l0aCBzZWxsZXIgYWNjb3VudCBjYW4gY3JlYXRlIHRoZSBwcm9kdWN0Jyk7XG4gIHJldHVybiByZXMucmVkaXJlY3QoJy9hcGkvdjEvYXV0aC9sb2dpbicpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaXNMb2dnZWRJbjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsVUFBVSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ3JDLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxlQUFlLEVBQUUsRUFBRTtJQUMxQkgsR0FBRyxDQUFDSSxLQUFLLENBQUMsT0FBTyxFQUFFLGtDQUFrQyxDQUFDO0lBQ3RELE9BQU9ILEdBQUcsQ0FBQ0ksUUFBUSxDQUFDLG9CQUFvQixDQUFDO0VBQzNDO0VBQ0EsT0FBT0gsSUFBSSxFQUFFO0FBQ2YsQ0FBQztBQUVNLE1BQU1JLFFBQVEsR0FBR0EsQ0FBQ04sR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUMxQyxJQUFJRixHQUFHLENBQUNPLElBQUksQ0FBQ0MsSUFBSSxLQUFLLFFBQVEsRUFBRTtJQUM5QixPQUFPTixJQUFJLEVBQUU7RUFDZjtFQUNBRixHQUFHLENBQUNJLEtBQUssQ0FBQyxPQUFPLEVBQUUsc0RBQXNELENBQUM7RUFDMUUsT0FBT0gsR0FBRyxDQUFDSSxRQUFRLENBQUMsb0JBQW9CLENBQUM7QUFDM0MsQ0FBQztBQUFDSSxPQUFBLENBQUFILFFBQUEsR0FBQUEsUUFBQTtBQUFBLElBQUFJLFFBQUEsR0FFYVgsVUFBVTtBQUFBVSxPQUFBLENBQUFFLE9BQUEsR0FBQUQsUUFBQSJ9","map":{"version":3,"names":["isLoggedIn","req","res","next","isAuthenticated","flash","redirect","isSeller","user","role","exports","_default","default"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/middleware/","sources":["authMiddleware.js"],"sourcesContent":["const isLoggedIn = (req, res, next) => {\n  if (!req.isAuthenticated()) {\n    req.flash('error', 'You need login first to do this!');\n    return res.redirect('/api/v1/auth/login');\n  }\n  return next();\n};\n\nexport const isSeller = (req, res, next) => {\n  if (req.user.role === 'seller') {\n    return next();\n  }\n  req.flash('error', 'Only user with seller account can create the product');\n  return res.redirect('/api/v1/auth/login');\n};\n\nexport default isLoggedIn;\n"],"mappings":";;;;;;AAAA,MAAMA,UAAU,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACrC,IAAI,CAACF,GAAG,CAACG,eAAe,EAAE,EAAE;IAC1BH,GAAG,CAACI,KAAK,CAAC,OAAO,EAAE,kCAAkC,CAAC;IACtD,OAAOH,GAAG,CAACI,QAAQ,CAAC,oBAAoB,CAAC;EAC3C;EACA,OAAOH,IAAI,EAAE;AACf,CAAC;AAEM,MAAMI,QAAQ,GAAGA,CAACN,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1C,IAAIF,GAAG,CAACO,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;IAC9B,OAAON,IAAI,EAAE;EACf;EACAF,GAAG,CAACI,KAAK,CAAC,OAAO,EAAE,sDAAsD,CAAC;EAC1E,OAAOH,GAAG,CAACI,QAAQ,CAAC,oBAAoB,CAAC;AAC3C,CAAC;AAACI,OAAA,CAAAH,QAAA,GAAAA,QAAA;AAAA,IAAAI,QAAA,GAEaX,UAAU;AAAAU,OAAA,CAAAE,OAAA,GAAAD,QAAA"}},"mtime":1679212195728},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/reviewRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _catchAsync = _interopRequireDefault(require(\"../../core/catchAsync\"));\nvar _reviewController = _interopRequireDefault(require(\"../../controllers/reviewController\"));\nvar _authMiddleware = _interopRequireDefault(require(\"../../middleware/authMiddleware\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post('/:productId/reviews', _authMiddleware.default, (0, _catchAsync.default)(_reviewController.default.createReview));\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhdGNoQXN5bmMiLCJfcmV2aWV3Q29udHJvbGxlciIsIl9hdXRoTWlkZGxld2FyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJpc0xvZ2dlZEluIiwiY2F0Y2hBc3luYyIsInJldmlld0NvbnRyb2xsZXIiLCJjcmVhdGVSZXZpZXciLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvcm91dGVzL3YxLyIsInNvdXJjZXMiOlsicmV2aWV3Um91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNhdGNoQXN5bmMgZnJvbSAnLi4vLi4vY29yZS9jYXRjaEFzeW5jJztcbmltcG9ydCByZXZpZXdDb250cm9sbGVyIGZyb20gJy4uLy4uL2NvbnRyb2xsZXJzL3Jldmlld0NvbnRyb2xsZXInO1xuaW1wb3J0IGlzTG9nZ2VkSW4gZnJvbSAnLi4vLi4vbWlkZGxld2FyZS9hdXRoTWlkZGxld2FyZSc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KCcvOnByb2R1Y3RJZC9yZXZpZXdzJywgaXNMb2dnZWRJbiwgY2F0Y2hBc3luYyhyZXZpZXdDb250cm9sbGVyLmNyZWF0ZVJldmlldykpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGlCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBeUQsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFekQsTUFBTUcsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLHFCQUFxQixFQUFFQyx1QkFBVSxFQUFFLElBQUFDLG1CQUFVLEVBQUNDLHlCQUFnQixDQUFDQyxZQUFZLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFM0VSLE1BQU07QUFBQVMsT0FBQSxDQUFBVixPQUFBLEdBQUFTLFFBQUEifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_catchAsync","_reviewController","_authMiddleware","obj","__esModule","default","router","express","Router","post","isLoggedIn","catchAsync","reviewController","createReview","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/","sources":["reviewRoutes.js"],"sourcesContent":["import express from 'express';\nimport catchAsync from '../../core/catchAsync';\nimport reviewController from '../../controllers/reviewController';\nimport isLoggedIn from '../../middleware/authMiddleware';\n\nconst router = express.Router();\n\nrouter.post('/:productId/reviews', isLoggedIn, catchAsync(reviewController.createReview));\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,iBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,eAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAyD,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEzD,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAE/BF,MAAM,CAACG,IAAI,CAAC,qBAAqB,EAAEC,uBAAU,EAAE,IAAAC,mBAAU,EAACC,yBAAgB,CAACC,YAAY,CAAC,CAAC;AAAC,IAAAC,QAAA,GAE3ER,MAAM;AAAAS,OAAA,CAAAV,OAAA,GAAAS,QAAA"}},"mtime":1679199426058},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/reviewController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _reviewService = _interopRequireDefault(require(\"../service/reviewService\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst createReview = async (req, res) => {\n  const {\n    productId\n  } = req.params;\n  const {\n    rating,\n    comment\n  } = req.body;\n  await _reviewService.default.createReview(productId, {\n    rating,\n    comment\n  });\n  req.flash('success', 'Added your review successfully');\n  res.redirect(`/api/v1/products/${productId}`);\n};\nvar _default = {\n  createReview\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmV2aWV3U2VydmljZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjcmVhdGVSZXZpZXciLCJyZXEiLCJyZXMiLCJwcm9kdWN0SWQiLCJwYXJhbXMiLCJyYXRpbmciLCJjb21tZW50IiwiYm9keSIsInJldmlld1NlcnZpY2UiLCJmbGFzaCIsInJlZGlyZWN0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsicmV2aWV3Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmV2aWV3U2VydmljZSBmcm9tICcuLi9zZXJ2aWNlL3Jldmlld1NlcnZpY2UnO1xuXG5jb25zdCBjcmVhdGVSZXZpZXcgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBwcm9kdWN0SWQgfSA9IHJlcS5wYXJhbXM7XG4gIGNvbnN0IHsgcmF0aW5nLCBjb21tZW50IH0gPSByZXEuYm9keTtcbiAgYXdhaXQgcmV2aWV3U2VydmljZS5jcmVhdGVSZXZpZXcocHJvZHVjdElkLCB7IHJhdGluZywgY29tbWVudCB9KTtcbiAgcmVxLmZsYXNoKCdzdWNjZXNzJywgJ0FkZGVkIHlvdXIgcmV2aWV3IHN1Y2Nlc3NmdWxseScpO1xuICByZXMucmVkaXJlY3QoYC9hcGkvdjEvcHJvZHVjdHMvJHtwcm9kdWN0SWR9YCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNyZWF0ZVJldmlldyxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFxRCxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUVyRCxNQUFNRyxZQUFZLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdkMsTUFBTTtJQUFFQztFQUFVLENBQUMsR0FBR0YsR0FBRyxDQUFDRyxNQUFNO0VBQ2hDLE1BQU07SUFBRUMsTUFBTTtJQUFFQztFQUFRLENBQUMsR0FBR0wsR0FBRyxDQUFDTSxJQUFJO0VBQ3BDLE1BQU1DLHNCQUFhLENBQUNSLFlBQVksQ0FBQ0csU0FBUyxFQUFFO0lBQUVFLE1BQU07SUFBRUM7RUFBUSxDQUFDLENBQUM7RUFDaEVMLEdBQUcsQ0FBQ1EsS0FBSyxDQUFDLFNBQVMsRUFBRSxnQ0FBZ0MsQ0FBQztFQUN0RFAsR0FBRyxDQUFDUSxRQUFRLENBQUUsb0JBQW1CUCxTQUFVLEVBQUMsQ0FBQztBQUMvQyxDQUFDO0FBQUMsSUFBQVEsUUFBQSxHQUVhO0VBQ2JYO0FBQ0YsQ0FBQztBQUFBWSxPQUFBLENBQUFiLE9BQUEsR0FBQVksUUFBQSJ9","map":{"version":3,"names":["_reviewService","_interopRequireDefault","require","obj","__esModule","default","createReview","req","res","productId","params","rating","comment","body","reviewService","flash","redirect","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/","sources":["reviewController.js"],"sourcesContent":["import reviewService from '../service/reviewService';\n\nconst createReview = async (req, res) => {\n  const { productId } = req.params;\n  const { rating, comment } = req.body;\n  await reviewService.createReview(productId, { rating, comment });\n  req.flash('success', 'Added your review successfully');\n  res.redirect(`/api/v1/products/${productId}`);\n};\n\nexport default {\n  createReview,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,cAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqD,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAErD,MAAMG,YAAY,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACvC,MAAM;IAAEC;EAAU,CAAC,GAAGF,GAAG,CAACG,MAAM;EAChC,MAAM;IAAEC,MAAM;IAAEC;EAAQ,CAAC,GAAGL,GAAG,CAACM,IAAI;EACpC,MAAMC,sBAAa,CAACR,YAAY,CAACG,SAAS,EAAE;IAAEE,MAAM;IAAEC;EAAQ,CAAC,CAAC;EAChEL,GAAG,CAACQ,KAAK,CAAC,SAAS,EAAE,gCAAgC,CAAC;EACtDP,GAAG,CAACQ,QAAQ,CAAE,oBAAmBP,SAAU,EAAC,CAAC;AAC/C,CAAC;AAAC,IAAAQ,QAAA,GAEa;EACbX;AACF,CAAC;AAAAY,OAAA,CAAAb,OAAA,GAAAY,QAAA"}},"mtime":1679199426039},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/reviewService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _reviewRepo = _interopRequireDefault(require(\"../repository/reviewRepo\"));\nvar _productRepo = _interopRequireDefault(require(\"../repository/productRepo\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst createReview = async (productId, review) => {\n  const product = await _productRepo.default.findProductById(productId);\n  // create a new entry inside reviews collection\n  const newReview = await _reviewRepo.default.createReview(review);\n  // Here we are pushing ObjectId of created review inside the product\n  product.reviews.push(newReview);\n  // Then we are saving back the product to the db\n  await _productRepo.default.saveProduct(product);\n  return newReview;\n};\nvar _default = {\n  createReview\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmV2aWV3UmVwbyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3RSZXBvIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjcmVhdGVSZXZpZXciLCJwcm9kdWN0SWQiLCJyZXZpZXciLCJwcm9kdWN0IiwicHJvZHVjdFJlcG8iLCJmaW5kUHJvZHVjdEJ5SWQiLCJuZXdSZXZpZXciLCJyZXZpZXdSZXBvIiwicmV2aWV3cyIsInB1c2giLCJzYXZlUHJvZHVjdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsicmV2aWV3U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmV2aWV3UmVwbyBmcm9tICcuLi9yZXBvc2l0b3J5L3Jldmlld1JlcG8nO1xuaW1wb3J0IHByb2R1Y3RSZXBvIGZyb20gJy4uL3JlcG9zaXRvcnkvcHJvZHVjdFJlcG8nO1xuXG5jb25zdCBjcmVhdGVSZXZpZXcgPSBhc3luYyAocHJvZHVjdElkLCByZXZpZXcpID0+IHtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RSZXBvLmZpbmRQcm9kdWN0QnlJZChwcm9kdWN0SWQpO1xuICAvLyBjcmVhdGUgYSBuZXcgZW50cnkgaW5zaWRlIHJldmlld3MgY29sbGVjdGlvblxuICBjb25zdCBuZXdSZXZpZXcgPSBhd2FpdCByZXZpZXdSZXBvLmNyZWF0ZVJldmlldyhyZXZpZXcpO1xuICAvLyBIZXJlIHdlIGFyZSBwdXNoaW5nIE9iamVjdElkIG9mIGNyZWF0ZWQgcmV2aWV3IGluc2lkZSB0aGUgcHJvZHVjdFxuICBwcm9kdWN0LnJldmlld3MucHVzaChuZXdSZXZpZXcpO1xuICAvLyBUaGVuIHdlIGFyZSBzYXZpbmcgYmFjayB0aGUgcHJvZHVjdCB0byB0aGUgZGJcbiAgYXdhaXQgcHJvZHVjdFJlcG8uc2F2ZVByb2R1Y3QocHJvZHVjdCk7XG4gIHJldHVybiBuZXdSZXZpZXc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNyZWF0ZVJldmlldyxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFvRCxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUVwRCxNQUFNRyxZQUFZLEdBQUcsTUFBQUEsQ0FBT0MsU0FBUyxFQUFFQyxNQUFNLEtBQUs7RUFDaEQsTUFBTUMsT0FBTyxHQUFHLE1BQU1DLG9CQUFXLENBQUNDLGVBQWUsQ0FBQ0osU0FBUyxDQUFDO0VBQzVEO0VBQ0EsTUFBTUssU0FBUyxHQUFHLE1BQU1DLG1CQUFVLENBQUNQLFlBQVksQ0FBQ0UsTUFBTSxDQUFDO0VBQ3ZEO0VBQ0FDLE9BQU8sQ0FBQ0ssT0FBTyxDQUFDQyxJQUFJLENBQUNILFNBQVMsQ0FBQztFQUMvQjtFQUNBLE1BQU1GLG9CQUFXLENBQUNNLFdBQVcsQ0FBQ1AsT0FBTyxDQUFDO0VBQ3RDLE9BQU9HLFNBQVM7QUFDbEIsQ0FBQztBQUFDLElBQUFLLFFBQUEsR0FFYTtFQUNiWDtBQUNGLENBQUM7QUFBQVksT0FBQSxDQUFBYixPQUFBLEdBQUFZLFFBQUEifQ==","map":{"version":3,"names":["_reviewRepo","_interopRequireDefault","require","_productRepo","obj","__esModule","default","createReview","productId","review","product","productRepo","findProductById","newReview","reviewRepo","reviews","push","saveProduct","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/","sources":["reviewService.js"],"sourcesContent":["import reviewRepo from '../repository/reviewRepo';\nimport productRepo from '../repository/productRepo';\n\nconst createReview = async (productId, review) => {\n  const product = await productRepo.findProductById(productId);\n  // create a new entry inside reviews collection\n  const newReview = await reviewRepo.createReview(review);\n  // Here we are pushing ObjectId of created review inside the product\n  product.reviews.push(newReview);\n  // Then we are saving back the product to the db\n  await productRepo.saveProduct(product);\n  return newReview;\n};\n\nexport default {\n  createReview,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoD,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEpD,MAAMG,YAAY,GAAG,MAAAA,CAAOC,SAAS,EAAEC,MAAM,KAAK;EAChD,MAAMC,OAAO,GAAG,MAAMC,oBAAW,CAACC,eAAe,CAACJ,SAAS,CAAC;EAC5D;EACA,MAAMK,SAAS,GAAG,MAAMC,mBAAU,CAACP,YAAY,CAACE,MAAM,CAAC;EACvD;EACAC,OAAO,CAACK,OAAO,CAACC,IAAI,CAACH,SAAS,CAAC;EAC/B;EACA,MAAMF,oBAAW,CAACM,WAAW,CAACP,OAAO,CAAC;EACtC,OAAOG,SAAS;AAClB,CAAC;AAAC,IAAAK,QAAA,GAEa;EACbX;AACF,CAAC;AAAAY,OAAA,CAAAb,OAAA,GAAAY,QAAA"}},"mtime":1679199426037},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/reviewRepo.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _review = _interopRequireDefault(require(\"../models/review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst createReview = review => _review.default.create(review);\nvar _default = {\n  createReview\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmV2aWV3IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNyZWF0ZVJldmlldyIsInJldmlldyIsIlJldmlldyIsImNyZWF0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsicmV2aWV3UmVwby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmV2aWV3IGZyb20gJy4uL21vZGVscy9yZXZpZXcnO1xuXG5jb25zdCBjcmVhdGVSZXZpZXcgPSAocmV2aWV3KSA9PiBSZXZpZXcuY3JlYXRlKHJldmlldyk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY3JlYXRlUmV2aWV3LFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLFlBQVksR0FBSUMsTUFBTSxJQUFLQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDO0FBQUMsSUFBQUcsUUFBQSxHQUV4QztFQUNiSjtBQUNGLENBQUM7QUFBQUssT0FBQSxDQUFBTixPQUFBLEdBQUFLLFFBQUEifQ==","map":{"version":3,"names":["_review","_interopRequireDefault","require","obj","__esModule","default","createReview","review","Review","create","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/","sources":["reviewRepo.js"],"sourcesContent":["import Review from '../models/review';\n\nconst createReview = (review) => Review.create(review);\n\nexport default {\n  createReview,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,YAAY,GAAIC,MAAM,IAAKC,eAAM,CAACC,MAAM,CAACF,MAAM,CAAC;AAAC,IAAAG,QAAA,GAExC;EACbJ;AACF,CAAC;AAAAK,OAAA,CAAAN,OAAA,GAAAK,QAAA"}},"mtime":1679199426013},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/userRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _userController = _interopRequireDefault(require(\"../../controllers/userController\"));\nvar _catchAsync = _interopRequireDefault(require(\"../../core/catchAsync\"));\nvar _validator = require(\"../../validations/validator\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.get('/register', _userController.default.getRegisterForm);\nrouter.post('/register', _validator.validateUser, (0, _catchAsync.default)(_userController.default.registerUser));\nrouter.get('/login', _userController.default.getLoginForm);\nrouter.post('/login', _passport.default.authenticate('local', {\n  failureRedirect: '/api/v1/auth/login',\n  failureFlash: true\n}), _userController.default.loginUser);\nrouter.get('/logout', (0, _catchAsync.default)(_userController.default.logoutUser));\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Bhc3Nwb3J0IiwiX3VzZXJDb250cm9sbGVyIiwiX2NhdGNoQXN5bmMiLCJfdmFsaWRhdG9yIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwidXNlckNvbnRyb2xsZXIiLCJnZXRSZWdpc3RlckZvcm0iLCJwb3N0IiwidmFsaWRhdGVVc2VyIiwiY2F0Y2hBc3luYyIsInJlZ2lzdGVyVXNlciIsImdldExvZ2luRm9ybSIsInBhc3Nwb3J0IiwiYXV0aGVudGljYXRlIiwiZmFpbHVyZVJlZGlyZWN0IiwiZmFpbHVyZUZsYXNoIiwibG9naW5Vc2VyIiwibG9nb3V0VXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yb3V0ZXMvdjEvIiwic291cmNlcyI6WyJ1c2VyUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVycy91c2VyQ29udHJvbGxlcic7XG5pbXBvcnQgY2F0Y2hBc3luYyBmcm9tICcuLi8uLi9jb3JlL2NhdGNoQXN5bmMnO1xuaW1wb3J0IHsgdmFsaWRhdGVVc2VyIH0gZnJvbSAnLi4vLi4vdmFsaWRhdGlvbnMvdmFsaWRhdG9yJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldCgnL3JlZ2lzdGVyJywgdXNlckNvbnRyb2xsZXIuZ2V0UmVnaXN0ZXJGb3JtKTtcblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIHZhbGlkYXRlVXNlciwgY2F0Y2hBc3luYyh1c2VyQ29udHJvbGxlci5yZWdpc3RlclVzZXIpKTtcblxucm91dGVyLmdldCgnL2xvZ2luJywgdXNlckNvbnRyb2xsZXIuZ2V0TG9naW5Gb3JtKTtcblxucm91dGVyLnBvc3QoJy9sb2dpbicsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnbG9jYWwnLCB7XG4gIGZhaWx1cmVSZWRpcmVjdDogJy9hcGkvdjEvYXV0aC9sb2dpbicsXG4gIGZhaWx1cmVGbGFzaDogdHJ1ZSxcbn0pLCB1c2VyQ29udHJvbGxlci5sb2dpblVzZXIpO1xuXG5yb3V0ZXIuZ2V0KCcvbG9nb3V0JywgY2F0Y2hBc3luYyh1c2VyQ29udHJvbGxlci5sb2dvdXRVc2VyKSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsZUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBSixPQUFBO0FBQTJELFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTNELE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRS9CRixNQUFNLENBQUNHLEdBQUcsQ0FBQyxXQUFXLEVBQUVDLHVCQUFjLENBQUNDLGVBQWUsQ0FBQztBQUV2REwsTUFBTSxDQUFDTSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBWSxFQUFFLElBQUFDLG1CQUFVLEVBQUNKLHVCQUFjLENBQUNLLFlBQVksQ0FBQyxDQUFDO0FBRS9FVCxNQUFNLENBQUNHLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNNLFlBQVksQ0FBQztBQUVqRFYsTUFBTSxDQUFDTSxJQUFJLENBQUMsUUFBUSxFQUFFSyxpQkFBUSxDQUFDQyxZQUFZLENBQUMsT0FBTyxFQUFFO0VBQ25EQyxlQUFlLEVBQUUsb0JBQW9CO0VBQ3JDQyxZQUFZLEVBQUU7QUFDaEIsQ0FBQyxDQUFDLEVBQUVWLHVCQUFjLENBQUNXLFNBQVMsQ0FBQztBQUU3QmYsTUFBTSxDQUFDRyxHQUFHLENBQUMsU0FBUyxFQUFFLElBQUFLLG1CQUFVLEVBQUNKLHVCQUFjLENBQUNZLFVBQVUsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUU5Q2pCLE1BQU07QUFBQWtCLE9BQUEsQ0FBQW5CLE9BQUEsR0FBQWtCLFFBQUEifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_passport","_userController","_catchAsync","_validator","obj","__esModule","default","router","express","Router","get","userController","getRegisterForm","post","validateUser","catchAsync","registerUser","getLoginForm","passport","authenticate","failureRedirect","failureFlash","loginUser","logoutUser","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/","sources":["userRoutes.js"],"sourcesContent":["import express from 'express';\nimport passport from 'passport';\nimport userController from '../../controllers/userController';\nimport catchAsync from '../../core/catchAsync';\nimport { validateUser } from '../../validations/validator';\n\nconst router = express.Router();\n\nrouter.get('/register', userController.getRegisterForm);\n\nrouter.post('/register', validateUser, catchAsync(userController.registerUser));\n\nrouter.get('/login', userController.getLoginForm);\n\nrouter.post('/login', passport.authenticate('local', {\n  failureRedirect: '/api/v1/auth/login',\n  failureFlash: true,\n}), userController.loginUser);\n\nrouter.get('/logout', catchAsync(userController.logoutUser));\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,eAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,WAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,UAAA,GAAAJ,OAAA;AAA2D,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3D,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAE/BF,MAAM,CAACG,GAAG,CAAC,WAAW,EAAEC,uBAAc,CAACC,eAAe,CAAC;AAEvDL,MAAM,CAACM,IAAI,CAAC,WAAW,EAAEC,uBAAY,EAAE,IAAAC,mBAAU,EAACJ,uBAAc,CAACK,YAAY,CAAC,CAAC;AAE/ET,MAAM,CAACG,GAAG,CAAC,QAAQ,EAAEC,uBAAc,CAACM,YAAY,CAAC;AAEjDV,MAAM,CAACM,IAAI,CAAC,QAAQ,EAAEK,iBAAQ,CAACC,YAAY,CAAC,OAAO,EAAE;EACnDC,eAAe,EAAE,oBAAoB;EACrCC,YAAY,EAAE;AAChB,CAAC,CAAC,EAAEV,uBAAc,CAACW,SAAS,CAAC;AAE7Bf,MAAM,CAACG,GAAG,CAAC,SAAS,EAAE,IAAAK,mBAAU,EAACJ,uBAAc,CAACY,UAAU,CAAC,CAAC;AAAC,IAAAC,QAAA,GAE9CjB,MAAM;AAAAkB,OAAA,CAAAnB,OAAA,GAAAkB,QAAA"}},"mtime":1679212195729},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/userController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _userService = _interopRequireDefault(require(\"../service/userService\"));\nvar _ApiError = require(\"../core/ApiError\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getRegisterForm = async (req, res) => {\n  res.render('auth/signup');\n};\nconst registerUser = async (req, res) => {\n  const {\n    email,\n    username,\n    password,\n    role\n  } = req.body;\n  await _userService.default.registerUser({\n    username,\n    password,\n    email,\n    role\n  });\n  req.flash('success', `Registered the user successfully with username : ${username}`);\n  res.redirect('/api/v1/auth/login');\n};\nconst getLoginForm = (req, res) => {\n  res.render('auth/login');\n};\nconst loginUser = (req, res) => {\n  req.flash('success', `Loggedin successfull as ${req.user.username}`);\n  res.redirect('/api/v1/products');\n};\nconst logoutUser = async (req, res) => {\n  req.logout(err => {\n    if (err) {\n      throw new _ApiError.InteralServerError('Cannot logout at the moment');\n    }\n    req.flash('success', 'Logged out successfully!');\n    res.redirect('/api/v1/auth/login');\n  });\n};\nvar _default = {\n  registerUser,\n  getRegisterForm,\n  getLoginForm,\n  loginUser,\n  logoutUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlclNlcnZpY2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9BcGlFcnJvciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZ2V0UmVnaXN0ZXJGb3JtIiwicmVxIiwicmVzIiwicmVuZGVyIiwicmVnaXN0ZXJVc2VyIiwiZW1haWwiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicm9sZSIsImJvZHkiLCJ1c2VyU2VydmljZSIsImZsYXNoIiwicmVkaXJlY3QiLCJnZXRMb2dpbkZvcm0iLCJsb2dpblVzZXIiLCJ1c2VyIiwibG9nb3V0VXNlciIsImxvZ291dCIsImVyciIsIkludGVyYWxTZXJ2ZXJFcnJvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbInVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1c2VyU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlL3VzZXJTZXJ2aWNlJztcbmltcG9ydCB7IEludGVyYWxTZXJ2ZXJFcnJvciB9IGZyb20gJy4uL2NvcmUvQXBpRXJyb3InO1xuXG5jb25zdCBnZXRSZWdpc3RlckZvcm0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgcmVzLnJlbmRlcignYXV0aC9zaWdudXAnKTtcbn07XG5cbmNvbnN0IHJlZ2lzdGVyVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7XG4gICAgZW1haWwsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSxcbiAgfSA9IHJlcS5ib2R5O1xuICBhd2FpdCB1c2VyU2VydmljZS5yZWdpc3RlclVzZXIoe1xuICAgIHVzZXJuYW1lLFxuICAgIHBhc3N3b3JkLFxuICAgIGVtYWlsLFxuICAgIHJvbGUsXG4gIH0pO1xuICByZXEuZmxhc2goJ3N1Y2Nlc3MnLCBgUmVnaXN0ZXJlZCB0aGUgdXNlciBzdWNjZXNzZnVsbHkgd2l0aCB1c2VybmFtZSA6ICR7dXNlcm5hbWV9YCk7XG4gIHJlcy5yZWRpcmVjdCgnL2FwaS92MS9hdXRoL2xvZ2luJyk7XG59O1xuXG5jb25zdCBnZXRMb2dpbkZvcm0gPSAocmVxLCByZXMpID0+IHtcbiAgcmVzLnJlbmRlcignYXV0aC9sb2dpbicpO1xufTtcblxuY29uc3QgbG9naW5Vc2VyID0gKHJlcSwgcmVzKSA9PiB7XG4gIHJlcS5mbGFzaCgnc3VjY2VzcycsIGBMb2dnZWRpbiBzdWNjZXNzZnVsbCBhcyAke3JlcS51c2VyLnVzZXJuYW1lfWApO1xuICByZXMucmVkaXJlY3QoJy9hcGkvdjEvcHJvZHVjdHMnKTtcbn07XG5cbmNvbnN0IGxvZ291dFVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgcmVxLmxvZ291dCgoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEludGVyYWxTZXJ2ZXJFcnJvcignQ2Fubm90IGxvZ291dCBhdCB0aGUgbW9tZW50Jyk7XG4gICAgfVxuICAgIHJlcS5mbGFzaCgnc3VjY2VzcycsICdMb2dnZWQgb3V0IHN1Y2Nlc3NmdWxseSEnKTtcbiAgICByZXMucmVkaXJlY3QoJy9hcGkvdjEvYXV0aC9sb2dpbicpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXJVc2VyLFxuICBnZXRSZWdpc3RlckZvcm0sXG4gIGdldExvZ2luRm9ybSxcbiAgbG9naW5Vc2VyLFxuICBsb2dvdXRVc2VyLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsWUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBQXNELFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRELE1BQU1HLGVBQWUsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxQ0EsR0FBRyxDQUFDQyxNQUFNLENBQUMsYUFBYSxDQUFDO0FBQzNCLENBQUM7QUFFRCxNQUFNQyxZQUFZLEdBQUcsTUFBQUEsQ0FBT0gsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdkMsTUFBTTtJQUNKRyxLQUFLO0lBQUVDLFFBQVE7SUFBRUMsUUFBUTtJQUFFQztFQUM3QixDQUFDLEdBQUdQLEdBQUcsQ0FBQ1EsSUFBSTtFQUNaLE1BQU1DLG9CQUFXLENBQUNOLFlBQVksQ0FBQztJQUM3QkUsUUFBUTtJQUNSQyxRQUFRO0lBQ1JGLEtBQUs7SUFDTEc7RUFDRixDQUFDLENBQUM7RUFDRlAsR0FBRyxDQUFDVSxLQUFLLENBQUMsU0FBUyxFQUFHLG9EQUFtREwsUUFBUyxFQUFDLENBQUM7RUFDcEZKLEdBQUcsQ0FBQ1UsUUFBUSxDQUFDLG9CQUFvQixDQUFDO0FBQ3BDLENBQUM7QUFFRCxNQUFNQyxZQUFZLEdBQUdBLENBQUNaLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2pDQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxZQUFZLENBQUM7QUFDMUIsQ0FBQztBQUVELE1BQU1XLFNBQVMsR0FBR0EsQ0FBQ2IsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDOUJELEdBQUcsQ0FBQ1UsS0FBSyxDQUFDLFNBQVMsRUFBRywyQkFBMEJWLEdBQUcsQ0FBQ2MsSUFBSSxDQUFDVCxRQUFTLEVBQUMsQ0FBQztFQUNwRUosR0FBRyxDQUFDVSxRQUFRLENBQUMsa0JBQWtCLENBQUM7QUFDbEMsQ0FBQztBQUVELE1BQU1JLFVBQVUsR0FBRyxNQUFBQSxDQUFPZixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNyQ0QsR0FBRyxDQUFDZ0IsTUFBTSxDQUFFQyxHQUFHLElBQUs7SUFDbEIsSUFBSUEsR0FBRyxFQUFFO01BQ1AsTUFBTSxJQUFJQyw0QkFBa0IsQ0FBQyw2QkFBNkIsQ0FBQztJQUM3RDtJQUNBbEIsR0FBRyxDQUFDVSxLQUFLLENBQUMsU0FBUyxFQUFFLDBCQUEwQixDQUFDO0lBQ2hEVCxHQUFHLENBQUNVLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQztFQUNwQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBQUMsSUFBQVEsUUFBQSxHQUVhO0VBQ2JoQixZQUFZO0VBQ1pKLGVBQWU7RUFDZmEsWUFBWTtFQUNaQyxTQUFTO0VBQ1RFO0FBQ0YsQ0FBQztBQUFBSyxPQUFBLENBQUF0QixPQUFBLEdBQUFxQixRQUFBIn0=","map":{"version":3,"names":["_userService","_interopRequireDefault","require","_ApiError","obj","__esModule","default","getRegisterForm","req","res","render","registerUser","email","username","password","role","body","userService","flash","redirect","getLoginForm","loginUser","user","logoutUser","logout","err","InteralServerError","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/","sources":["userController.js"],"sourcesContent":["import userService from '../service/userService';\nimport { InteralServerError } from '../core/ApiError';\n\nconst getRegisterForm = async (req, res) => {\n  res.render('auth/signup');\n};\n\nconst registerUser = async (req, res) => {\n  const {\n    email, username, password, role,\n  } = req.body;\n  await userService.registerUser({\n    username,\n    password,\n    email,\n    role,\n  });\n  req.flash('success', `Registered the user successfully with username : ${username}`);\n  res.redirect('/api/v1/auth/login');\n};\n\nconst getLoginForm = (req, res) => {\n  res.render('auth/login');\n};\n\nconst loginUser = (req, res) => {\n  req.flash('success', `Loggedin successfull as ${req.user.username}`);\n  res.redirect('/api/v1/products');\n};\n\nconst logoutUser = async (req, res) => {\n  req.logout((err) => {\n    if (err) {\n      throw new InteralServerError('Cannot logout at the moment');\n    }\n    req.flash('success', 'Logged out successfully!');\n    res.redirect('/api/v1/auth/login');\n  });\n};\n\nexport default {\n  registerUser,\n  getRegisterForm,\n  getLoginForm,\n  loginUser,\n  logoutUser,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAAsD,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtD,MAAMG,eAAe,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC1CA,GAAG,CAACC,MAAM,CAAC,aAAa,CAAC;AAC3B,CAAC;AAED,MAAMC,YAAY,GAAG,MAAAA,CAAOH,GAAG,EAAEC,GAAG,KAAK;EACvC,MAAM;IACJG,KAAK;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAC7B,CAAC,GAAGP,GAAG,CAACQ,IAAI;EACZ,MAAMC,oBAAW,CAACN,YAAY,CAAC;IAC7BE,QAAQ;IACRC,QAAQ;IACRF,KAAK;IACLG;EACF,CAAC,CAAC;EACFP,GAAG,CAACU,KAAK,CAAC,SAAS,EAAG,oDAAmDL,QAAS,EAAC,CAAC;EACpFJ,GAAG,CAACU,QAAQ,CAAC,oBAAoB,CAAC;AACpC,CAAC;AAED,MAAMC,YAAY,GAAGA,CAACZ,GAAG,EAAEC,GAAG,KAAK;EACjCA,GAAG,CAACC,MAAM,CAAC,YAAY,CAAC;AAC1B,CAAC;AAED,MAAMW,SAAS,GAAGA,CAACb,GAAG,EAAEC,GAAG,KAAK;EAC9BD,GAAG,CAACU,KAAK,CAAC,SAAS,EAAG,2BAA0BV,GAAG,CAACc,IAAI,CAACT,QAAS,EAAC,CAAC;EACpEJ,GAAG,CAACU,QAAQ,CAAC,kBAAkB,CAAC;AAClC,CAAC;AAED,MAAMI,UAAU,GAAG,MAAAA,CAAOf,GAAG,EAAEC,GAAG,KAAK;EACrCD,GAAG,CAACgB,MAAM,CAAEC,GAAG,IAAK;IAClB,IAAIA,GAAG,EAAE;MACP,MAAM,IAAIC,4BAAkB,CAAC,6BAA6B,CAAC;IAC7D;IACAlB,GAAG,CAACU,KAAK,CAAC,SAAS,EAAE,0BAA0B,CAAC;IAChDT,GAAG,CAACU,QAAQ,CAAC,oBAAoB,CAAC;EACpC,CAAC,CAAC;AACJ,CAAC;AAAC,IAAAQ,QAAA,GAEa;EACbhB,YAAY;EACZJ,eAAe;EACfa,YAAY;EACZC,SAAS;EACTE;AACF,CAAC;AAAAK,OAAA,CAAAtB,OAAA,GAAAqB,QAAA"}},"mtime":1679212238971},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/userService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _userRepo = _interopRequireDefault(require(\"../repository/userRepo\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst registerUser = async user => {\n  const {\n    username,\n    password,\n    email,\n    role\n  } = user;\n  return _userRepo.default.createUser({\n    username,\n    password,\n    email,\n    role\n  });\n};\nvar _default = {\n  registerUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlclJlcG8iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmVnaXN0ZXJVc2VyIiwidXNlciIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJlbWFpbCIsInJvbGUiLCJ1c2VyUmVwbyIsImNyZWF0ZVVzZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvc2VydmljZS8iLCJzb3VyY2VzIjpbInVzZXJTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1c2VyUmVwbyBmcm9tICcuLi9yZXBvc2l0b3J5L3VzZXJSZXBvJztcblxuY29uc3QgcmVnaXN0ZXJVc2VyID0gYXN5bmMgKHVzZXIpID0+IHtcbiAgY29uc3Qge1xuICAgIHVzZXJuYW1lLCBwYXNzd29yZCwgZW1haWwsIHJvbGUsXG4gIH0gPSB1c2VyO1xuICByZXR1cm4gdXNlclJlcG8uY3JlYXRlVXNlcih7XG4gICAgdXNlcm5hbWUsIHBhc3N3b3JkLCBlbWFpbCwgcm9sZSxcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlZ2lzdGVyVXNlcixcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU5QyxNQUFNRyxZQUFZLEdBQUcsTUFBT0MsSUFBSSxJQUFLO0VBQ25DLE1BQU07SUFDSkMsUUFBUTtJQUFFQyxRQUFRO0lBQUVDLEtBQUs7SUFBRUM7RUFDN0IsQ0FBQyxHQUFHSixJQUFJO0VBQ1IsT0FBT0ssaUJBQVEsQ0FBQ0MsVUFBVSxDQUFDO0lBQ3pCTCxRQUFRO0lBQUVDLFFBQVE7SUFBRUMsS0FBSztJQUFFQztFQUM3QixDQUFDLENBQUM7QUFDSixDQUFDO0FBQUMsSUFBQUcsUUFBQSxHQUVhO0VBQ2JSO0FBQ0YsQ0FBQztBQUFBUyxPQUFBLENBQUFWLE9BQUEsR0FBQVMsUUFBQSJ9","map":{"version":3,"names":["_userRepo","_interopRequireDefault","require","obj","__esModule","default","registerUser","user","username","password","email","role","userRepo","createUser","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/","sources":["userService.js"],"sourcesContent":["import userRepo from '../repository/userRepo';\n\nconst registerUser = async (user) => {\n  const {\n    username, password, email, role,\n  } = user;\n  return userRepo.createUser({\n    username, password, email, role,\n  });\n};\n\nexport default {\n  registerUser,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8C,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9C,MAAMG,YAAY,GAAG,MAAOC,IAAI,IAAK;EACnC,MAAM;IACJC,QAAQ;IAAEC,QAAQ;IAAEC,KAAK;IAAEC;EAC7B,CAAC,GAAGJ,IAAI;EACR,OAAOK,iBAAQ,CAACC,UAAU,CAAC;IACzBL,QAAQ;IAAEC,QAAQ;IAAEC,KAAK;IAAEC;EAC7B,CAAC,CAAC;AACJ,CAAC;AAAC,IAAAG,QAAA,GAEa;EACbR;AACF,CAAC;AAAAS,OAAA,CAAAV,OAAA,GAAAS,QAAA"}},"mtime":1679212195729},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/userRepo.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _user = _interopRequireDefault(require(\"../models/user\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst createUser = user => {\n  const {\n    username,\n    password,\n    email,\n    role\n  } = user;\n  return _user.default.register({\n    username,\n    email,\n    role\n  }, password);\n};\nvar _default = {\n  createUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjcmVhdGVVc2VyIiwidXNlciIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJlbWFpbCIsInJvbGUiLCJVc2VyIiwicmVnaXN0ZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvcmVwb3NpdG9yeS8iLCJzb3VyY2VzIjpbInVzZXJSZXBvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyJztcblxuY29uc3QgY3JlYXRlVXNlciA9ICh1c2VyKSA9PiB7XG4gIGNvbnN0IHtcbiAgICB1c2VybmFtZSwgcGFzc3dvcmQsIGVtYWlsLCByb2xlLFxuICB9ID0gdXNlcjtcbiAgcmV0dXJuIFVzZXIucmVnaXN0ZXIoe1xuICAgIHVzZXJuYW1lLCBlbWFpbCwgcm9sZSxcbiAgfSwgcGFzc3dvcmQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjcmVhdGVVc2VyLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWxDLE1BQU1HLFVBQVUsR0FBSUMsSUFBSSxJQUFLO0VBQzNCLE1BQU07SUFDSkMsUUFBUTtJQUFFQyxRQUFRO0lBQUVDLEtBQUs7SUFBRUM7RUFDN0IsQ0FBQyxHQUFHSixJQUFJO0VBQ1IsT0FBT0ssYUFBSSxDQUFDQyxRQUFRLENBQUM7SUFDbkJMLFFBQVE7SUFBRUUsS0FBSztJQUFFQztFQUNuQixDQUFDLEVBQUVGLFFBQVEsQ0FBQztBQUNkLENBQUM7QUFBQyxJQUFBSyxRQUFBLEdBRWE7RUFDYlI7QUFDRixDQUFDO0FBQUFTLE9BQUEsQ0FBQVYsT0FBQSxHQUFBUyxRQUFBIn0=","map":{"version":3,"names":["_user","_interopRequireDefault","require","obj","__esModule","default","createUser","user","username","password","email","role","User","register","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/","sources":["userRepo.js"],"sourcesContent":["import User from '../models/user';\n\nconst createUser = (user) => {\n  const {\n    username, password, email, role,\n  } = user;\n  return User.register({\n    username, email, role,\n  }, password);\n};\n\nexport default {\n  createUser,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,MAAMG,UAAU,GAAIC,IAAI,IAAK;EAC3B,MAAM;IACJC,QAAQ;IAAEC,QAAQ;IAAEC,KAAK;IAAEC;EAC7B,CAAC,GAAGJ,IAAI;EACR,OAAOK,aAAI,CAACC,QAAQ,CAAC;IACnBL,QAAQ;IAAEE,KAAK;IAAEC;EACnB,CAAC,EAAEF,QAAQ,CAAC;AACd,CAAC;AAAC,IAAAK,QAAA,GAEa;EACbR;AACF,CAAC;AAAAS,OAAA,CAAAV,OAAA,GAAAS,QAAA"}},"mtime":1679212195729},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _passportLocalMongoose = _interopRequireDefault(require(\"passport-local-mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  email: {\n    type: String\n  },\n  role: {\n    type: String,\n    enum: ['seller', 'buyer']\n  }\n});\nuserSchema.plugin(_passportLocalMongoose.default);\nconst User = _mongoose.default.model('User', userSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXNzcG9ydExvY2FsTW9uZ29vc2UiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInVzZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsImVtYWlsIiwidHlwZSIsIlN0cmluZyIsInJvbGUiLCJlbnVtIiwicGx1Z2luIiwicGFzc3BvcnRMb2NhbE1vbmdvb3NlIiwiVXNlciIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbInVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBwYXNzcG9ydExvY2FsTW9uZ29vc2UgZnJvbSAncGFzc3BvcnQtbG9jYWwtbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIGVtYWlsOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICByb2xlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGVudW06IFsnc2VsbGVyJywgJ2J1eWVyJ10sXG4gIH0sXG59KTtcblxudXNlclNjaGVtYS5wbHVnaW4ocGFzc3BvcnRMb2NhbE1vbmdvb3NlKTtcblxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLHNCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBNEQsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFNUQsTUFBTUcsVUFBVSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUNyQ0MsS0FBSyxFQUFFO0lBQ0xDLElBQUksRUFBRUM7RUFDUixDQUFDO0VBQ0RDLElBQUksRUFBRTtJQUNKRixJQUFJLEVBQUVDLE1BQU07SUFDWkUsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE9BQU87RUFDMUI7QUFDRixDQUFDLENBQUM7QUFFRlAsVUFBVSxDQUFDUSxNQUFNLENBQUNDLDhCQUFxQixDQUFDO0FBRXhDLE1BQU1DLElBQUksR0FBR1QsaUJBQVEsQ0FBQ1UsS0FBSyxDQUFDLE1BQU0sRUFBRVgsVUFBVSxDQUFDO0FBQUMsSUFBQVksUUFBQSxHQUVqQ0YsSUFBSTtBQUFBRyxPQUFBLENBQUFkLE9BQUEsR0FBQWEsUUFBQSJ9","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_passportLocalMongoose","obj","__esModule","default","userSchema","mongoose","Schema","email","type","String","role","enum","plugin","passportLocalMongoose","User","model","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/","sources":["user.js"],"sourcesContent":["import mongoose from 'mongoose';\nimport passportLocalMongoose from 'passport-local-mongoose';\n\nconst userSchema = new mongoose.Schema({\n  email: {\n    type: String,\n  },\n  role: {\n    type: String,\n    enum: ['seller', 'buyer'],\n  },\n});\n\nuserSchema.plugin(passportLocalMongoose);\n\nconst User = mongoose.model('User', userSchema);\n\nexport default User;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,sBAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA4D,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5D,MAAMG,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACrCC,KAAK,EAAE;IACLC,IAAI,EAAEC;EACR,CAAC;EACDC,IAAI,EAAE;IACJF,IAAI,EAAEC,MAAM;IACZE,IAAI,EAAE,CAAC,QAAQ,EAAE,OAAO;EAC1B;AACF,CAAC,CAAC;AAEFP,UAAU,CAACQ,MAAM,CAACC,8BAAqB,CAAC;AAExC,MAAMC,IAAI,GAAGT,iBAAQ,CAACU,KAAK,CAAC,MAAM,EAAEX,UAAU,CAAC;AAAC,IAAAY,QAAA,GAEjCF,IAAI;AAAAG,OAAA,CAAAd,OAAA,GAAAa,QAAA"}},"mtime":1679212195729},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _ejsMate = _interopRequireDefault(require(\"ejs-mate\"));\nvar _methodOverride = _interopRequireDefault(require(\"method-override\"));\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\nvar _connectFlash = _interopRequireDefault(require(\"connect-flash\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _passportLocal = _interopRequireDefault(require(\"passport-local\"));\nvar _v = _interopRequireDefault(require(\"./routes/v1\"));\nvar _user = _interopRequireDefault(require(\"./models/user\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\napp.engine('ejs', _ejsMate.default);\napp.set('view engine', 'ejs');\napp.set('views', _path.default.join(__dirname, 'views'));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use(_express.default.urlencoded({\n  extended: true,\n  limit: '10mb'\n}));\napp.use(_express.default.json({\n  limit: '10mb'\n}));\napp.use((0, _methodOverride.default)('_method'));\nconst sessionConfig = {\n  secret: 'weneedabettersecret',\n  resave: false,\n  saveUninitialized: true,\n  cookie: {\n    // secure: true,\n    httpOnly: true,\n    maxAge: 1000 * 60 * 60 * 24 * 7 * 1\n  }\n};\napp.use((0, _expressSession.default)(sessionConfig));\napp.use((0, _connectFlash.default)());\n\n// This tells passport to use LocalStrategy\n//  and User.authenticate method to verify the user during login\n_passport.default.use(new _passportLocal.default(_user.default.authenticate()));\n\n// This tells passport to user passport local\n// mongoose methods(User.serializeUser, User.deserializeUser) to add / remove the user from session\n_passport.default.serializeUser(_user.default.serializeUser());\n_passport.default.deserializeUser(_user.default.deserializeUser());\n\n// We are adding passport middleware into our express app\napp.use(_passport.default.initialize());\n\n// Passport will use express-session for persistent login\napp.use(_passport.default.session());\napp.use((req, res, next) => {\n  res.locals.success = req.flash('success');\n  res.locals.error = req.flash('error');\n  res.locals.currentUser = req.user;\n  next();\n});\napp.get('/', (req, res) => {\n  res.render('home');\n});\napp.use('/api/v1', _v.default);\n\n// Custom Error Middleware to catch Errors\n// eslint-disable-next-line\napp.use((err, req, res, next) => {\n  const {\n    message = 'Something Went Wrong',\n    statusCode = 500\n  } = err;\n  res.locals.error = message;\n  res.status(statusCode).render('error', {\n    message\n  });\n});\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3BhdGgiLCJfZWpzTWF0ZSIsIl9tZXRob2RPdmVycmlkZSIsIl9leHByZXNzU2Vzc2lvbiIsIl9jb25uZWN0Rmxhc2giLCJfcGFzc3BvcnQiLCJfcGFzc3BvcnRMb2NhbCIsIl92IiwiX3VzZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwcCIsImV4cHJlc3MiLCJlbmdpbmUiLCJlanNNYXRlIiwic2V0IiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJ1c2UiLCJzdGF0aWMiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJsaW1pdCIsImpzb24iLCJtZXRob2RPdmVycmlkZSIsInNlc3Npb25Db25maWciLCJzZWNyZXQiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsImNvb2tpZSIsImh0dHBPbmx5IiwibWF4QWdlIiwic2Vzc2lvbiIsImZsYXNoIiwicGFzc3BvcnQiLCJMb2NhbFN0cmF0ZWd5IiwiVXNlciIsImF1dGhlbnRpY2F0ZSIsInNlcmlhbGl6ZVVzZXIiLCJkZXNlcmlhbGl6ZVVzZXIiLCJpbml0aWFsaXplIiwicmVxIiwicmVzIiwibmV4dCIsImxvY2FscyIsInN1Y2Nlc3MiLCJlcnJvciIsImN1cnJlbnRVc2VyIiwidXNlciIsImdldCIsInJlbmRlciIsInYxUm91dGVzIiwiZXJyIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBlanNNYXRlIGZyb20gJ2Vqcy1tYXRlJztcbmltcG9ydCBtZXRob2RPdmVycmlkZSBmcm9tICdtZXRob2Qtb3ZlcnJpZGUnO1xuaW1wb3J0IHNlc3Npb24gZnJvbSAnZXhwcmVzcy1zZXNzaW9uJztcbmltcG9ydCBmbGFzaCBmcm9tICdjb25uZWN0LWZsYXNoJztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5pbXBvcnQgTG9jYWxTdHJhdGVneSBmcm9tICdwYXNzcG9ydC1sb2NhbCc7XG5cbmltcG9ydCB2MVJvdXRlcyBmcm9tICcuL3JvdXRlcy92MSc7XG5pbXBvcnQgVXNlciBmcm9tICcuL21vZGVscy91c2VyJztcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG5hcHAuZW5naW5lKCdlanMnLCBlanNNYXRlKTtcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ2VqcycpO1xuYXBwLnNldCgndmlld3MnLCBwYXRoLmpvaW4oX19kaXJuYW1lLCAndmlld3MnKSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpO1xuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSwgbGltaXQ6ICcxMG1iJyB9KSk7XG5hcHAudXNlKGV4cHJlc3MuanNvbih7IGxpbWl0OiAnMTBtYicgfSkpO1xuYXBwLnVzZShtZXRob2RPdmVycmlkZSgnX21ldGhvZCcpKTtcblxuY29uc3Qgc2Vzc2lvbkNvbmZpZyA9IHtcbiAgc2VjcmV0OiAnd2VuZWVkYWJldHRlcnNlY3JldCcsXG4gIHJlc2F2ZTogZmFsc2UsXG4gIHNhdmVVbmluaXRpYWxpemVkOiB0cnVlLFxuICBjb29raWU6IHtcbiAgICAvLyBzZWN1cmU6IHRydWUsXG4gICAgaHR0cE9ubHk6IHRydWUsXG4gICAgbWF4QWdlOiAxMDAwICogNjAgKiA2MCAqIDI0ICogNyAqIDEsXG4gIH0sXG59O1xuXG5hcHAudXNlKHNlc3Npb24oc2Vzc2lvbkNvbmZpZykpO1xuYXBwLnVzZShmbGFzaCgpKTtcblxuLy8gVGhpcyB0ZWxscyBwYXNzcG9ydCB0byB1c2UgTG9jYWxTdHJhdGVneVxuLy8gIGFuZCBVc2VyLmF1dGhlbnRpY2F0ZSBtZXRob2QgdG8gdmVyaWZ5IHRoZSB1c2VyIGR1cmluZyBsb2dpblxucGFzc3BvcnQudXNlKG5ldyBMb2NhbFN0cmF0ZWd5KFVzZXIuYXV0aGVudGljYXRlKCkpKTtcblxuLy8gVGhpcyB0ZWxscyBwYXNzcG9ydCB0byB1c2VyIHBhc3Nwb3J0IGxvY2FsXG4vLyBtb25nb29zZSBtZXRob2RzKFVzZXIuc2VyaWFsaXplVXNlciwgVXNlci5kZXNlcmlhbGl6ZVVzZXIpIHRvIGFkZCAvIHJlbW92ZSB0aGUgdXNlciBmcm9tIHNlc3Npb25cbnBhc3Nwb3J0LnNlcmlhbGl6ZVVzZXIoVXNlci5zZXJpYWxpemVVc2VyKCkpO1xucGFzc3BvcnQuZGVzZXJpYWxpemVVc2VyKFVzZXIuZGVzZXJpYWxpemVVc2VyKCkpO1xuXG4vLyBXZSBhcmUgYWRkaW5nIHBhc3Nwb3J0IG1pZGRsZXdhcmUgaW50byBvdXIgZXhwcmVzcyBhcHBcbmFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTtcblxuLy8gUGFzc3BvcnQgd2lsbCB1c2UgZXhwcmVzcy1zZXNzaW9uIGZvciBwZXJzaXN0ZW50IGxvZ2luXG5hcHAudXNlKHBhc3Nwb3J0LnNlc3Npb24oKSk7XG5cbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJlcy5sb2NhbHMuc3VjY2VzcyA9IHJlcS5mbGFzaCgnc3VjY2VzcycpO1xuICByZXMubG9jYWxzLmVycm9yID0gcmVxLmZsYXNoKCdlcnJvcicpO1xuICByZXMubG9jYWxzLmN1cnJlbnRVc2VyID0gcmVxLnVzZXI7XG4gIG5leHQoKTtcbn0pO1xuXG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5yZW5kZXIoJ2hvbWUnKTtcbn0pO1xuXG5hcHAudXNlKCcvYXBpL3YxJywgdjFSb3V0ZXMpO1xuXG4vLyBDdXN0b20gRXJyb3IgTWlkZGxld2FyZSB0byBjYXRjaCBFcnJvcnNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB7IG1lc3NhZ2UgPSAnU29tZXRoaW5nIFdlbnQgV3JvbmcnLCBzdGF0dXNDb2RlID0gNTAwIH0gPSBlcnI7XG4gIHJlcy5sb2NhbHMuZXJyb3IgPSBtZXNzYWdlO1xuICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLnJlbmRlcignZXJyb3InLCB7IG1lc3NhZ2UgfSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgYXBwO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxlQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxhQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxTQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTyxjQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBUSxFQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyxLQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFBaUMsU0FBQUQsdUJBQUFXLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFakMsTUFBTUcsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEdBQUU7QUFFckJELEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEtBQUssRUFBRUMsZ0JBQU8sQ0FBQztBQUMxQkgsR0FBRyxDQUFDSSxHQUFHLENBQUMsYUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_path","_ejsMate","_methodOverride","_expressSession","_connectFlash","_passport","_passportLocal","_v","_user","obj","__esModule","default","app","express","engine","ejsMate","set","path","join","__dirname","use","static","urlencoded","extended","limit","json","methodOverride","sessionConfig","secret","resave","saveUninitialized","cookie","httpOnly","maxAge","session","flash","passport","LocalStrategy","User","authenticate","serializeUser","deserializeUser","initialize","req","res","next","locals","success","error","currentUser","user","get","render","v1Routes","err","message","statusCode","status","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/","sources":["app.js"],"sourcesContent":["import express from 'express';\nimport path from 'path';\nimport ejsMate from 'ejs-mate';\nimport methodOverride from 'method-override';\nimport session from 'express-session';\nimport flash from 'connect-flash';\nimport passport from 'passport';\nimport LocalStrategy from 'passport-local';\n\nimport v1Routes from './routes/v1';\nimport User from './models/user';\n\nconst app = express();\n\napp.engine('ejs', ejsMate);\napp.set('view engine', 'ejs');\napp.set('views', path.join(__dirname, 'views'));\napp.use(express.static(path.join(__dirname, 'public')));\napp.use(express.urlencoded({ extended: true, limit: '10mb' }));\napp.use(express.json({ limit: '10mb' }));\napp.use(methodOverride('_method'));\n\nconst sessionConfig = {\n  secret: 'weneedabettersecret',\n  resave: false,\n  saveUninitialized: true,\n  cookie: {\n    // secure: true,\n    httpOnly: true,\n    maxAge: 1000 * 60 * 60 * 24 * 7 * 1,\n  },\n};\n\napp.use(session(sessionConfig));\napp.use(flash());\n\n// This tells passport to use LocalStrategy\n//  and User.authenticate method to verify the user during login\npassport.use(new LocalStrategy(User.authenticate()));\n\n// This tells passport to user passport local\n// mongoose methods(User.serializeUser, User.deserializeUser) to add / remove the user from session\npassport.serializeUser(User.serializeUser());\npassport.deserializeUser(User.deserializeUser());\n\n// We are adding passport middleware into our express app\napp.use(passport.initialize());\n\n// Passport will use express-session for persistent login\napp.use(passport.session());\n\napp.use((req, res, next) => {\n  res.locals.success = req.flash('success');\n  res.locals.error = req.flash('error');\n  res.locals.currentUser = req.user;\n  next();\n});\n\napp.get('/', (req, res) => {\n  res.render('home');\n});\n\napp.use('/api/v1', v1Routes);\n\n// Custom Error Middleware to catch Errors\n// eslint-disable-next-line\napp.use((err, req, res, next) => {\n  const { message = 'Something Went Wrong', statusCode = 500 } = err;\n  res.locals.error = message;\n  res.status(statusCode).render('error', { message });\n});\n\nexport default app;\n"],"mappings":"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"}},"mtime":1679199426060},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/database/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/database/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _logger = _interopRequireDefault(require(\"../core/logger\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst disconnectDB = async () => {\n  await _mongoose.default.disconnect();\n};\nconst connectDB = async () => {\n  try {\n    _mongoose.default.set('strictQuery', false);\n    await _mongoose.default.connect('mongodb://localhost:27017/e-commerce-db');\n    _logger.default.info('DB connection open!');\n  } catch (err) {\n    _logger.default.error(err);\n    disconnectDB();\n    _logger.default.error('DB Connection Closed');\n  }\n};\nvar _default = {\n  connectDB,\n  disconnectDB\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9sb2dnZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRpc2Nvbm5lY3REQiIsIm1vbmdvb3NlIiwiZGlzY29ubmVjdCIsImNvbm5lY3REQiIsInNldCIsImNvbm5lY3QiLCJsb2dnZXIiLCJpbmZvIiwiZXJyIiwiZXJyb3IiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvZGF0YWJhc2UvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9jb3JlL2xvZ2dlcic7XG5cbmNvbnN0IGRpc2Nvbm5lY3REQiA9IGFzeW5jICgpID0+IHtcbiAgYXdhaXQgbW9uZ29vc2UuZGlzY29ubmVjdCgpO1xufTtcblxuY29uc3QgY29ubmVjdERCID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIG1vbmdvb3NlLnNldCgnc3RyaWN0UXVlcnknLCBmYWxzZSk7XG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdCgnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9lLWNvbW1lcmNlLWRiJyk7XG4gICAgbG9nZ2VyLmluZm8oJ0RCIGNvbm5lY3Rpb24gb3BlbiEnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmVycm9yKGVycik7XG4gICAgZGlzY29ubmVjdERCKCk7XG4gICAgbG9nZ2VyLmVycm9yKCdEQiBDb25uZWN0aW9uIENsb3NlZCcpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbm5lY3REQixcbiAgZGlzY29ubmVjdERCLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQW9DLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXBDLE1BQU1HLFlBQVksR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDL0IsTUFBTUMsaUJBQVEsQ0FBQ0MsVUFBVSxFQUFFO0FBQzdCLENBQUM7QUFFRCxNQUFNQyxTQUFTLEdBQUcsTUFBQUEsQ0FBQSxLQUFZO0VBQzVCLElBQUk7SUFDRkYsaUJBQVEsQ0FBQ0csR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUM7SUFDbEMsTUFBTUgsaUJBQVEsQ0FBQ0ksT0FBTyxDQUFDLHlDQUF5QyxDQUFDO0lBQ2pFQyxlQUFNLENBQUNDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztFQUNwQyxDQUFDLENBQUMsT0FBT0MsR0FBRyxFQUFFO0lBQ1pGLGVBQU0sQ0FBQ0csS0FBSyxDQUFDRCxHQUFHLENBQUM7SUFDakJSLFlBQVksRUFBRTtJQUNkTSxlQUFNLENBQUNHLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQztFQUN0QztBQUNGLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWE7RUFDYlAsU0FBUztFQUNUSDtBQUNGLENBQUM7QUFBQVcsT0FBQSxDQUFBWixPQUFBLEdBQUFXLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_logger","obj","__esModule","default","disconnectDB","mongoose","disconnect","connectDB","set","connect","logger","info","err","error","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/database/","sources":["index.js"],"sourcesContent":["import mongoose from 'mongoose';\nimport logger from '../core/logger';\n\nconst disconnectDB = async () => {\n  await mongoose.disconnect();\n};\n\nconst connectDB = async () => {\n  try {\n    mongoose.set('strictQuery', false);\n    await mongoose.connect('mongodb://localhost:27017/e-commerce-db');\n    logger.info('DB connection open!');\n  } catch (err) {\n    logger.error(err);\n    disconnectDB();\n    logger.error('DB Connection Closed');\n  }\n};\n\nexport default {\n  connectDB,\n  disconnectDB,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEpC,MAAMG,YAAY,GAAG,MAAAA,CAAA,KAAY;EAC/B,MAAMC,iBAAQ,CAACC,UAAU,EAAE;AAC7B,CAAC;AAED,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,IAAI;IACFF,iBAAQ,CAACG,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;IAClC,MAAMH,iBAAQ,CAACI,OAAO,CAAC,yCAAyC,CAAC;IACjEC,eAAM,CAACC,IAAI,CAAC,qBAAqB,CAAC;EACpC,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZF,eAAM,CAACG,KAAK,CAACD,GAAG,CAAC;IACjBR,YAAY,EAAE;IACdM,eAAM,CAACG,KAAK,CAAC,sBAAsB,CAAC;EACtC;AACF,CAAC;AAAC,IAAAC,QAAA,GAEa;EACbP,SAAS;EACTH;AACF,CAAC;AAAAW,OAAA,CAAAZ,OAAA,GAAAW,QAAA"}},"mtime":1679199426009},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/seed.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _product = _interopRequireDefault(require(\"./models/product\"));\nvar _logger = _interopRequireDefault(require(\"./core/logger\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// this will be deleted\n\nconst dummyProducts = [{\n  name: 'Iphone 11',\n  imageUrl: 'https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8aXBob25lfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n  price: 300,\n  desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\"\n}, {\n  name: 'Nike Shoes',\n  imageUrl: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8c2hvZXN8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n  price: 100,\n  desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\"\n}, {\n  name: 'Titan Watch',\n  imageUrl: 'https://images.unsplash.com/photo-1609587312208-cea54be969e7?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NXx8d2F0Y2hlc3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n  price: 150,\n  desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\"\n}, {\n  name: 'Macbook Pro',\n  imageUrl: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8bWFjYm9va3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n  price: 250,\n  desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\"\n}, {\n  name: 'Drones',\n  imageUrl: 'https://images.unsplash.com/photo-1507582020474-9a35b7d455d9?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8ZHJvbmVzfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n  price: 250,\n  desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\"\n}, {\n  name: 'More Drones',\n  imageUrl: 'https://images.unsplash.com/photo-1579829366248-204fe8413f31?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NXx8ZHJvbmVzfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n  price: 350,\n  desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\"\n}, {\n  name: 'Bicycle',\n  imageUrl: 'https://images.unsplash.com/photo-1484920274317-87885fcbc504?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8YnljaWNsZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n  price: 350,\n  desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\"\n}];\nasync function seedDb() {\n  await _product.default.deleteMany({});\n  await _product.default.insertMany(dummyProducts);\n  _logger.default.info('db seeded');\n}\nvar _default = seedDb;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2xvZ2dlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZHVtbXlQcm9kdWN0cyIsIm5hbWUiLCJpbWFnZVVybCIsInByaWNlIiwiZGVzYyIsInNlZWREYiIsIlByb2R1Y3QiLCJkZWxldGVNYW55IiwiaW5zZXJ0TWFueSIsImxvZ2dlciIsImluZm8iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvIiwic291cmNlcyI6WyJzZWVkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9kdWN0IGZyb20gJy4vbW9kZWxzL3Byb2R1Y3QnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuL2NvcmUvbG9nZ2VyJztcblxuLy8gdGhpcyB3aWxsIGJlIGRlbGV0ZWRcblxuY29uc3QgZHVtbXlQcm9kdWN0cyA9IFtcbiAge1xuICAgIG5hbWU6ICdJcGhvbmUgMTEnLFxuICAgIGltYWdlVXJsOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MTA1NTc4ODAxODItM2Q0ZDNjYmEzNWE1P2l4aWQ9TW53eE1qQTNmREI4TUh4elpXRnlZMmg4TW54OGFYQm9iMjVsZkdWdWZEQjhmREI4ZkElM0QlM0QmaXhsaWI9cmItMS4yLjEmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz01MDAmcT02MCcsXG4gICAgcHJpY2U6IDMwMCxcbiAgICBkZXNjOiBcIlRoZSBpUGhvbmUgaXMgYSBsaW5lIG9mIHNtYXJ0cGhvbmVzIGRlc2lnbmVkIGFuZCBtYXJrZXRlZCBieSBBcHBsZSBJbmMuIHRoYXQgdXNlIEFwcGxlJ3MgaU9TIG1vYmlsZSBvcGVyYXRpbmcgc3lzdGVtLiBUaGUgZmlyc3QtZ2VuZXJhdGlvbiBpUGhvbmUgd2FzIGFubm91bmNlZCBieSB0aGVuLUFwcGxlIENFTyBTdGV2ZSBKb2JzIG9uIEphbnVhcnkgOSwgMjAwNy4gU2luY2UgdGhlbiwgQXBwbGUgaGFzIGFubnVhbGx5IHJlbGVhc2VkIG5ldyBpUGhvbmUgbW9kZWxzIGFuZCBpT1MgdXBkYXRlcy4gQXMgb2YgTm92ZW1iZXIgMSwgMjAxOCwgbW9yZSB0aGFuIDIuMiBiaWxsaW9uIGlQaG9uZXMgaGFkIGJlZW4gc29sZC5cIixcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdOaWtlIFNob2VzJyxcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTQyMjkxMDI2LTdlZWMyNjRjMjdmZj9peGlkPU1ud3hNakEzZkRCOE1IeHpaV0Z5WTJoOE1YeDhjMmh2WlhOOFpXNThNSHg4TUh4OCZpeGxpYj1yYi0xLjIuMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTUwMCZxPTYwJyxcbiAgICBwcmljZTogMTAwLFxuICAgIGRlc2M6IFwiVGhlIGlQaG9uZSBpcyBhIGxpbmUgb2Ygc21hcnRwaG9uZXMgZGVzaWduZWQgYW5kIG1hcmtldGVkIGJ5IEFwcGxlIEluYy4gdGhhdCB1c2UgQXBwbGUncyBpT1MgbW9iaWxlIG9wZXJhdGluZyBzeXN0ZW0uIFRoZSBmaXJzdC1nZW5lcmF0aW9uIGlQaG9uZSB3YXMgYW5ub3VuY2VkIGJ5IHRoZW4tQXBwbGUgQ0VPIFN0ZXZlIEpvYnMgb24gSmFudWFyeSA5LCAyMDA3LiBTaW5jZSB0aGVuLCBBcHBsZSBoYXMgYW5udWFsbHkgcmVsZWFzZWQgbmV3IGlQaG9uZSBtb2RlbHMgYW5kIGlPUyB1cGRhdGVzLiBBcyBvZiBOb3ZlbWJlciAxLCAyMDE4LCBtb3JlIHRoYW4gMi4yIGJpbGxpb24gaVBob25lcyBoYWQgYmVlbiBzb2xkLlwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ1RpdGFuIFdhdGNoJyxcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjA5NTg3MzEyMjA4LWNlYTU0YmU5NjllNz9peGlkPU1ud3hNakEzZkRCOE1IeHpaV0Z5WTJoOE5YeDhkMkYwWTJobGMzeGxibnd3Zkh3d2ZIdyUzRCZpeGxpYj1yYi0xLjIuMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTUwMCZxPTYwJyxcbiAgICBwcmljZTogMTUwLFxuICAgIGRlc2M6IFwiVGhlIGlQaG9uZSBpcyBhIGxpbmUgb2Ygc21hcnRwaG9uZXMgZGVzaWduZWQgYW5kIG1hcmtldGVkIGJ5IEFwcGxlIEluYy4gdGhhdCB1c2UgQXBwbGUncyBpT1MgbW9iaWxlIG9wZXJhdGluZyBzeXN0ZW0uIFRoZSBmaXJzdC1nZW5lcmF0aW9uIGlQaG9uZSB3YXMgYW5ub3VuY2VkIGJ5IHRoZW4tQXBwbGUgQ0VPIFN0ZXZlIEpvYnMgb24gSmFudWFyeSA5LCAyMDA3LiBTaW5jZSB0aGVuLCBBcHBsZSBoYXMgYW5udWFsbHkgcmVsZWFzZWQgbmV3IGlQaG9uZSBtb2RlbHMgYW5kIGlPUyB1cGRhdGVzLiBBcyBvZiBOb3ZlbWJlciAxLCAyMDE4LCBtb3JlIHRoYW4gMi4yIGJpbGxpb24gaVBob25lcyBoYWQgYmVlbiBzb2xkLlwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ01hY2Jvb2sgUHJvJyxcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNDk2MTgxMTMzMjA2LTgwY2U5Yjg4YTg1Mz9peGlkPU1ud3hNakEzZkRCOE1IeHpaV0Z5WTJoOE5IeDhiV0ZqWW05dmEzeGxibnd3Zkh3d2ZIdyUzRCZpeGxpYj1yYi0xLjIuMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTUwMCZxPTYwJyxcbiAgICBwcmljZTogMjUwLFxuICAgIGRlc2M6IFwiVGhlIGlQaG9uZSBpcyBhIGxpbmUgb2Ygc21hcnRwaG9uZXMgZGVzaWduZWQgYW5kIG1hcmtldGVkIGJ5IEFwcGxlIEluYy4gdGhhdCB1c2UgQXBwbGUncyBpT1MgbW9iaWxlIG9wZXJhdGluZyBzeXN0ZW0uIFRoZSBmaXJzdC1nZW5lcmF0aW9uIGlQaG9uZSB3YXMgYW5ub3VuY2VkIGJ5IHRoZW4tQXBwbGUgQ0VPIFN0ZXZlIEpvYnMgb24gSmFudWFyeSA5LCAyMDA3LiBTaW5jZSB0aGVuLCBBcHBsZSBoYXMgYW5udWFsbHkgcmVsZWFzZWQgbmV3IGlQaG9uZSBtb2RlbHMgYW5kIGlPUyB1cGRhdGVzLiBBcyBvZiBOb3ZlbWJlciAxLCAyMDE4LCBtb3JlIHRoYW4gMi4yIGJpbGxpb24gaVBob25lcyBoYWQgYmVlbiBzb2xkLlwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ0Ryb25lcycsXG4gICAgaW1hZ2VVcmw6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUwNzU4MjAyMDQ3NC05YTM1YjdkNDU1ZDk/aXhpZD1Nbnd4TWpBM2ZEQjhNSHh6WldGeVkyaDhNWHg4WkhKdmJtVnpmR1Z1ZkRCOGZEQjhmQSUzRCUzRCZpeGxpYj1yYi0xLjIuMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTUwMCZxPTYwJyxcbiAgICBwcmljZTogMjUwLFxuICAgIGRlc2M6IFwiVGhlIGlQaG9uZSBpcyBhIGxpbmUgb2Ygc21hcnRwaG9uZXMgZGVzaWduZWQgYW5kIG1hcmtldGVkIGJ5IEFwcGxlIEluYy4gdGhhdCB1c2UgQXBwbGUncyBpT1MgbW9iaWxlIG9wZXJhdGluZyBzeXN0ZW0uIFRoZSBmaXJzdC1nZW5lcmF0aW9uIGlQaG9uZSB3YXMgYW5ub3VuY2VkIGJ5IHRoZW4tQXBwbGUgQ0VPIFN0ZXZlIEpvYnMgb24gSmFudWFyeSA5LCAyMDA3LiBTaW5jZSB0aGVuLCBBcHBsZSBoYXMgYW5udWFsbHkgcmVsZWFzZWQgbmV3IGlQaG9uZSBtb2RlbHMgYW5kIGlPUyB1cGRhdGVzLiBBcyBvZiBOb3ZlbWJlciAxLCAyMDE4LCBtb3JlIHRoYW4gMi4yIGJpbGxpb24gaVBob25lcyBoYWQgYmVlbiBzb2xkLlwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ01vcmUgRHJvbmVzJyxcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTc5ODI5MzY2MjQ4LTIwNGZlODQxM2YzMT9peGlkPU1ud3hNakEzZkRCOE1IeHpaV0Z5WTJoOE5YeDhaSEp2Ym1WemZHVnVmREI4ZkRCOGZBJTNEJTNEJml4bGliPXJiLTEuMi4xJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NTAwJnE9NjAnLFxuICAgIHByaWNlOiAzNTAsXG4gICAgZGVzYzogXCJUaGUgaVBob25lIGlzIGEgbGluZSBvZiBzbWFydHBob25lcyBkZXNpZ25lZCBhbmQgbWFya2V0ZWQgYnkgQXBwbGUgSW5jLiB0aGF0IHVzZSBBcHBsZSdzIGlPUyBtb2JpbGUgb3BlcmF0aW5nIHN5c3RlbS4gVGhlIGZpcnN0LWdlbmVyYXRpb24gaVBob25lIHdhcyBhbm5vdW5jZWQgYnkgdGhlbi1BcHBsZSBDRU8gU3RldmUgSm9icyBvbiBKYW51YXJ5IDksIDIwMDcuIFNpbmNlIHRoZW4sIEFwcGxlIGhhcyBhbm51YWxseSByZWxlYXNlZCBuZXcgaVBob25lIG1vZGVscyBhbmQgaU9TIHVwZGF0ZXMuIEFzIG9mIE5vdmVtYmVyIDEsIDIwMTgsIG1vcmUgdGhhbiAyLjIgYmlsbGlvbiBpUGhvbmVzIGhhZCBiZWVuIHNvbGQuXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQmljeWNsZScsXG4gICAgaW1hZ2VVcmw6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTQ4NDkyMDI3NDMxNy04Nzg4NWZjYmM1MDQ/aXhpZD1Nbnd4TWpBM2ZEQjhNSHh6WldGeVkyaDhNWHg4WW5samFXTnNaWHhsYm53d2ZId3dmSHclM0QmaXhsaWI9cmItMS4yLjEmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz01MDAmcT02MCcsXG4gICAgcHJpY2U6IDM1MCxcbiAgICBkZXNjOiBcIlRoZSBpUGhvbmUgaXMgYSBsaW5lIG9mIHNtYXJ0cGhvbmVzIGRlc2lnbmVkIGFuZCBtYXJrZXRlZCBieSBBcHBsZSBJbmMuIHRoYXQgdXNlIEFwcGxlJ3MgaU9TIG1vYmlsZSBvcGVyYXRpbmcgc3lzdGVtLiBUaGUgZmlyc3QtZ2VuZXJhdGlvbiBpUGhvbmUgd2FzIGFubm91bmNlZCBieSB0aGVuLUFwcGxlIENFTyBTdGV2ZSBKb2JzIG9uIEphbnVhcnkgOSwgMjAwNy4gU2luY2UgdGhlbiwgQXBwbGUgaGFzIGFubnVhbGx5IHJlbGVhc2VkIG5ldyBpUGhvbmUgbW9kZWxzIGFuZCBpT1MgdXBkYXRlcy4gQXMgb2YgTm92ZW1iZXIgMSwgMjAxOCwgbW9yZSB0aGFuIDIuMiBiaWxsaW9uIGlQaG9uZXMgaGFkIGJlZW4gc29sZC5cIixcbiAgfSxcbl07XG5cbmFzeW5jIGZ1bmN0aW9uIHNlZWREYigpIHtcbiAgYXdhaXQgUHJvZHVjdC5kZWxldGVNYW55KHt9KTtcbiAgYXdhaXQgUHJvZHVjdC5pbnNlcnRNYW55KGR1bW15UHJvZHVjdHMpO1xuICBsb2dnZXIuaW5mbygnZGIgc2VlZGVkJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNlZWREYjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQW1DLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRW5DOztBQUVBLE1BQU1HLGFBQWEsR0FBRyxDQUNwQjtFQUNFQyxJQUFJLEVBQUUsV0FBVztFQUNqQkMsUUFBUSxFQUFFLDJLQUEySztFQUNyTEMsS0FBSyxFQUFFLEdBQUc7RUFDVkMsSUFBSSxFQUFFO0FBQ1IsQ0FBQyxFQUNEO0VBQ0VILElBQUksRUFBRSxZQUFZO0VBQ2xCQyxRQUFRLEVBQUUsZ0tBQWdLO0VBQzFLQyxLQUFLLEVBQUUsR0FBRztFQUNWQyxJQUFJLEVBQUU7QUFDUixDQUFDLEVBQ0Q7RUFDRUgsSUFBSSxFQUFFLGFBQWE7RUFDbkJDLFFBQVEsRUFBRSx5S0FBeUs7RUFDbkxDLEtBQUssRUFBRSxHQUFHO0VBQ1ZDLElBQUksRUFBRTtBQUNSLENBQUMsRUFDRDtFQUNFSCxJQUFJLEVBQUUsYUFBYTtFQUNuQkMsUUFBUSxFQUFFLHlLQUF5SztFQUNuTEMsS0FBSyxFQUFFLEdBQUc7RUFDVkMsSUFBSSxFQUFFO0FBQ1IsQ0FBQyxFQUNEO0VBQ0VILElBQUksRUFBRSxRQUFRO0VBQ2RDLFFBQVEsRUFBRSwyS0FBMks7RUFDckxDLEtBQUssRUFBRSxHQUFHO0VBQ1ZDLElBQUksRUFBRTtBQUNSLENBQUMsRUFDRDtFQUNFSCxJQUFJLEVBQUUsYUFBYTtFQUNuQkMsUUFBUSxFQUFFLDJLQUEySztFQUNyTEMsS0FBSyxFQUFFLEdBQUc7RUFDVkMsSUFBSSxFQUFFO0FBQ1IsQ0FBQyxFQUNEO0VBQ0VILElBQUksRUFBRSxTQUFTO0VBQ2ZDLFFBQVEsRUFBRSx5S0FBeUs7RUFDbkxDLEtBQUssRUFBRSxHQUFHO0VBQ1ZDLElBQUksRUFBRTtBQUNSLENBQUMsQ0FDRjtBQUVELGVBQWVDLE1BQU1BLENBQUEsRUFBRztFQUN0QixNQUFNQyxnQkFBTyxDQUFDQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDNUIsTUFBTUQsZ0JBQU8sQ0FBQ0UsVUFBVSxDQUFDUixhQUFhLENBQUM7RUFDdkNTLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDLFdBQVcsQ0FBQztBQUMxQjtBQUFDLElBQUFDLFFBQUEsR0FFY04sTUFBTTtBQUFBTyxPQUFBLENBQUFiLE9BQUEsR0FBQVksUUFBQSJ9","map":{"version":3,"names":["_product","_interopRequireDefault","require","_logger","obj","__esModule","default","dummyProducts","name","imageUrl","price","desc","seedDb","Product","deleteMany","insertMany","logger","info","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/","sources":["seed.js"],"sourcesContent":["import Product from './models/product';\nimport logger from './core/logger';\n\n// this will be deleted\n\nconst dummyProducts = [\n  {\n    name: 'Iphone 11',\n    imageUrl: 'https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8aXBob25lfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    price: 300,\n    desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\",\n  },\n  {\n    name: 'Nike Shoes',\n    imageUrl: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8c2hvZXN8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    price: 100,\n    desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\",\n  },\n  {\n    name: 'Titan Watch',\n    imageUrl: 'https://images.unsplash.com/photo-1609587312208-cea54be969e7?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NXx8d2F0Y2hlc3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    price: 150,\n    desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\",\n  },\n  {\n    name: 'Macbook Pro',\n    imageUrl: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8bWFjYm9va3xlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    price: 250,\n    desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\",\n  },\n  {\n    name: 'Drones',\n    imageUrl: 'https://images.unsplash.com/photo-1507582020474-9a35b7d455d9?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8ZHJvbmVzfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    price: 250,\n    desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\",\n  },\n  {\n    name: 'More Drones',\n    imageUrl: 'https://images.unsplash.com/photo-1579829366248-204fe8413f31?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NXx8ZHJvbmVzfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    price: 350,\n    desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\",\n  },\n  {\n    name: 'Bicycle',\n    imageUrl: 'https://images.unsplash.com/photo-1484920274317-87885fcbc504?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8YnljaWNsZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',\n    price: 350,\n    desc: \"The iPhone is a line of smartphones designed and marketed by Apple Inc. that use Apple's iOS mobile operating system. The first-generation iPhone was announced by then-Apple CEO Steve Jobs on January 9, 2007. Since then, Apple has annually released new iPhone models and iOS updates. As of November 1, 2018, more than 2.2 billion iPhones had been sold.\",\n  },\n];\n\nasync function seedDb() {\n  await Product.deleteMany({});\n  await Product.insertMany(dummyProducts);\n  logger.info('db seeded');\n}\n\nexport default seedDb;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnC;;AAEA,MAAMG,aAAa,GAAG,CACpB;EACEC,IAAI,EAAE,WAAW;EACjBC,QAAQ,EAAE,2KAA2K;EACrLC,KAAK,EAAE,GAAG;EACVC,IAAI,EAAE;AACR,CAAC,EACD;EACEH,IAAI,EAAE,YAAY;EAClBC,QAAQ,EAAE,gKAAgK;EAC1KC,KAAK,EAAE,GAAG;EACVC,IAAI,EAAE;AACR,CAAC,EACD;EACEH,IAAI,EAAE,aAAa;EACnBC,QAAQ,EAAE,yKAAyK;EACnLC,KAAK,EAAE,GAAG;EACVC,IAAI,EAAE;AACR,CAAC,EACD;EACEH,IAAI,EAAE,aAAa;EACnBC,QAAQ,EAAE,yKAAyK;EACnLC,KAAK,EAAE,GAAG;EACVC,IAAI,EAAE;AACR,CAAC,EACD;EACEH,IAAI,EAAE,QAAQ;EACdC,QAAQ,EAAE,2KAA2K;EACrLC,KAAK,EAAE,GAAG;EACVC,IAAI,EAAE;AACR,CAAC,EACD;EACEH,IAAI,EAAE,aAAa;EACnBC,QAAQ,EAAE,2KAA2K;EACrLC,KAAK,EAAE,GAAG;EACVC,IAAI,EAAE;AACR,CAAC,EACD;EACEH,IAAI,EAAE,SAAS;EACfC,QAAQ,EAAE,yKAAyK;EACnLC,KAAK,EAAE,GAAG;EACVC,IAAI,EAAE;AACR,CAAC,CACF;AAED,eAAeC,MAAMA,CAAA,EAAG;EACtB,MAAMC,gBAAO,CAACC,UAAU,CAAC,CAAC,CAAC,CAAC;EAC5B,MAAMD,gBAAO,CAACE,UAAU,CAACR,aAAa,CAAC;EACvCS,eAAM,CAACC,IAAI,CAAC,WAAW,CAAC;AAC1B;AAAC,IAAAC,QAAA,GAEcN,MAAM;AAAAO,OAAA,CAAAb,OAAA,GAAAY,QAAA"}},"mtime":1679199426033},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _productRoutes = _interopRequireDefault(require(\"./productRoutes\"));\nvar _reviewRoutes = _interopRequireDefault(require(\"./reviewRoutes\"));\nvar _userRoutes = _interopRequireDefault(require(\"./userRoutes\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.use('/products', _productRoutes.default);\nrouter.use('/products', _reviewRoutes.default);\nrouter.use('/auth', _userRoutes.default);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3RSb3V0ZXMiLCJfcmV2aWV3Um91dGVzIiwiX3VzZXJSb3V0ZXMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJwcm9kdWN0Um91dGVzIiwicmV2aWV3Um91dGVzIiwidXNlclJvdXRlcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yb3V0ZXMvdjEvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBwcm9kdWN0Um91dGVzIGZyb20gJy4vcHJvZHVjdFJvdXRlcyc7XG5pbXBvcnQgcmV2aWV3Um91dGVzIGZyb20gJy4vcmV2aWV3Um91dGVzJztcbmltcG9ydCB1c2VyUm91dGVzIGZyb20gJy4vdXNlclJvdXRlcyc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci51c2UoJy9wcm9kdWN0cycsIHByb2R1Y3RSb3V0ZXMpO1xucm91dGVyLnVzZSgnL3Byb2R1Y3RzJywgcmV2aWV3Um91dGVzKTtcbnJvdXRlci51c2UoJy9hdXRoJywgdXNlclJvdXRlcyk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsY0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsYUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRS9CRixNQUFNLENBQUNHLEdBQUcsQ0FBQyxXQUFXLEVBQUVDLHNCQUFhLENBQUM7QUFDdENKLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLFdBQVcsRUFBRUUscUJBQVksQ0FBQztBQUNyQ0wsTUFBTSxDQUFDRyxHQUFHLENBQUMsT0FBTyxFQUFFRyxtQkFBVSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVqQlAsTUFBTTtBQUFBUSxPQUFBLENBQUFULE9BQUEsR0FBQVEsUUFBQSJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_productRoutes","_reviewRoutes","_userRoutes","obj","__esModule","default","router","express","Router","use","productRoutes","reviewRoutes","userRoutes","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/","sources":["index.js"],"sourcesContent":["import express from 'express';\nimport productRoutes from './productRoutes';\nimport reviewRoutes from './reviewRoutes';\nimport userRoutes from './userRoutes';\n\nconst router = express.Router();\n\nrouter.use('/products', productRoutes);\nrouter.use('/products', reviewRoutes);\nrouter.use('/auth', userRoutes);\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,aAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,WAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAE/BF,MAAM,CAACG,GAAG,CAAC,WAAW,EAAEC,sBAAa,CAAC;AACtCJ,MAAM,CAACG,GAAG,CAAC,WAAW,EAAEE,qBAAY,CAAC;AACrCL,MAAM,CAACG,GAAG,CAAC,OAAO,EAAEG,mBAAU,CAAC;AAAC,IAAAC,QAAA,GAEjBP,MAAM;AAAAQ,OAAA,CAAAT,OAAA,GAAAQ,QAAA"}},"mtime":1679199426057},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/productRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _catchAsync = _interopRequireDefault(require(\"../../core/catchAsync\"));\nvar _productController = _interopRequireDefault(require(\"../../controllers/productController\"));\nvar _authMiddleware = _interopRequireWildcard(require(\"../../middleware/authMiddleware\"));\nvar _validator = require(\"../../validations/validator\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\n\n// api/v1/products\nrouter.get('/', (0, _catchAsync.default)(_productController.default.getAllProduct));\nrouter.get('/new', _authMiddleware.default, (0, _catchAsync.default)(_productController.default.displayFormForNewProduct));\nrouter.post('/', _authMiddleware.default, _validator.validateProduct, _authMiddleware.isSeller, (0, _catchAsync.default)(_productController.default.createProduct));\nrouter.get('/:id', (0, _catchAsync.default)(_productController.default.showProduct));\nrouter.get('/:id/edit', _authMiddleware.default, (0, _catchAsync.default)(_productController.default.showEditForm));\nrouter.patch('/:id', _authMiddleware.default, (0, _catchAsync.default)(_productController.default.updateProduct));\nrouter.delete('/:id', _authMiddleware.default, (0, _catchAsync.default)(_productController.default.deleteProduct));\n\n// Above routes can be written as below also----------------------\n// router.route('/')\n//     .get(catchAsync(productController.getAllProduct))\n//     .post(catchAsync(productController.createProduct));\n\n// router.route('/:id')\n//     .get(catchAsync(productController.showProduct))\n//     .patch(catchAsync(productController.updateProduct))\n//     .delete(catchAsync(productController.deleteProduct));\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhdGNoQXN5bmMiLCJfcHJvZHVjdENvbnRyb2xsZXIiLCJfYXV0aE1pZGRsZXdhcmUiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl92YWxpZGF0b3IiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0Iiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImNhdGNoQXN5bmMiLCJwcm9kdWN0Q29udHJvbGxlciIsImdldEFsbFByb2R1Y3QiLCJpc0xvZ2dlZEluIiwiZGlzcGxheUZvcm1Gb3JOZXdQcm9kdWN0IiwicG9zdCIsInZhbGlkYXRlUHJvZHVjdCIsImlzU2VsbGVyIiwiY3JlYXRlUHJvZHVjdCIsInNob3dQcm9kdWN0Iiwic2hvd0VkaXRGb3JtIiwicGF0Y2giLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlIiwiZGVsZXRlUHJvZHVjdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yb3V0ZXMvdjEvIiwic291cmNlcyI6WyJwcm9kdWN0Um91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNhdGNoQXN5bmMgZnJvbSAnLi4vLi4vY29yZS9jYXRjaEFzeW5jJztcbmltcG9ydCBwcm9kdWN0Q29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVycy9wcm9kdWN0Q29udHJvbGxlcic7XG5pbXBvcnQgaXNMb2dnZWRJbiwgeyBpc1NlbGxlciB9IGZyb20gJy4uLy4uL21pZGRsZXdhcmUvYXV0aE1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgdmFsaWRhdGVQcm9kdWN0IH0gZnJvbSAnLi4vLi4vdmFsaWRhdGlvbnMvdmFsaWRhdG9yJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuLy8gYXBpL3YxL3Byb2R1Y3RzXG5yb3V0ZXIuZ2V0KCcvJywgY2F0Y2hBc3luYyhwcm9kdWN0Q29udHJvbGxlci5nZXRBbGxQcm9kdWN0KSk7XG5cbnJvdXRlci5nZXQoJy9uZXcnLCBpc0xvZ2dlZEluLCBjYXRjaEFzeW5jKHByb2R1Y3RDb250cm9sbGVyLmRpc3BsYXlGb3JtRm9yTmV3UHJvZHVjdCkpO1xuXG5yb3V0ZXIucG9zdCgnLycsIGlzTG9nZ2VkSW4sIHZhbGlkYXRlUHJvZHVjdCwgaXNTZWxsZXIsIGNhdGNoQXN5bmMocHJvZHVjdENvbnRyb2xsZXIuY3JlYXRlUHJvZHVjdCkpO1xuXG5yb3V0ZXIuZ2V0KCcvOmlkJywgY2F0Y2hBc3luYyhwcm9kdWN0Q29udHJvbGxlci5zaG93UHJvZHVjdCkpO1xuXG5yb3V0ZXIuZ2V0KCcvOmlkL2VkaXQnLCBpc0xvZ2dlZEluLCBjYXRjaEFzeW5jKHByb2R1Y3RDb250cm9sbGVyLnNob3dFZGl0Rm9ybSkpO1xuXG5yb3V0ZXIucGF0Y2goJy86aWQnLCBpc0xvZ2dlZEluLCBjYXRjaEFzeW5jKHByb2R1Y3RDb250cm9sbGVyLnVwZGF0ZVByb2R1Y3QpKTtcblxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGlzTG9nZ2VkSW4sIGNhdGNoQXN5bmMocHJvZHVjdENvbnRyb2xsZXIuZGVsZXRlUHJvZHVjdCkpO1xuXG4vLyBBYm92ZSByb3V0ZXMgY2FuIGJlIHdyaXR0ZW4gYXMgYmVsb3cgYWxzby0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHJvdXRlci5yb3V0ZSgnLycpXG4vLyAgICAgLmdldChjYXRjaEFzeW5jKHByb2R1Y3RDb250cm9sbGVyLmdldEFsbFByb2R1Y3QpKVxuLy8gICAgIC5wb3N0KGNhdGNoQXN5bmMocHJvZHVjdENvbnRyb2xsZXIuY3JlYXRlUHJvZHVjdCkpO1xuXG4vLyByb3V0ZXIucm91dGUoJy86aWQnKVxuLy8gICAgIC5nZXQoY2F0Y2hBc3luYyhwcm9kdWN0Q29udHJvbGxlci5zaG93UHJvZHVjdCkpXG4vLyAgICAgLnBhdGNoKGNhdGNoQXN5bmMocHJvZHVjdENvbnRyb2xsZXIudXBkYXRlUHJvZHVjdCkpXG4vLyAgICAgLmRlbGV0ZShjYXRjaEFzeW5jKHByb2R1Y3RDb250cm9sbGVyLmRlbGV0ZVByb2R1Y3QpKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxrQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBQyx1QkFBQSxDQUFBSixPQUFBO0FBQ0EsSUFBQUssVUFBQSxHQUFBTCxPQUFBO0FBQThELFNBQUFNLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdCQUFBTyxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEs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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_catchAsync","_productController","_authMiddleware","_interopRequireWildcard","_validator","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","router","express","Router","catchAsync","productController","getAllProduct","isLoggedIn","displayFormForNewProduct","post","validateProduct","isSeller","createProduct","showProduct","showEditForm","patch","updateProduct","delete","deleteProduct","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/","sources":["productRoutes.js"],"sourcesContent":["import express from 'express';\nimport catchAsync from '../../core/catchAsync';\nimport productController from '../../controllers/productController';\nimport isLoggedIn, { isSeller } from '../../middleware/authMiddleware';\nimport { validateProduct } from '../../validations/validator';\n\nconst router = express.Router();\n\n// api/v1/products\nrouter.get('/', catchAsync(productController.getAllProduct));\n\nrouter.get('/new', isLoggedIn, catchAsync(productController.displayFormForNewProduct));\n\nrouter.post('/', isLoggedIn, validateProduct, isSeller, catchAsync(productController.createProduct));\n\nrouter.get('/:id', catchAsync(productController.showProduct));\n\nrouter.get('/:id/edit', isLoggedIn, catchAsync(productController.showEditForm));\n\nrouter.patch('/:id', isLoggedIn, catchAsync(productController.updateProduct));\n\nrouter.delete('/:id', isLoggedIn, catchAsync(productController.deleteProduct));\n\n// Above routes can be written as below also----------------------\n// router.route('/')\n//     .get(catchAsync(productController.getAllProduct))\n//     .post(catchAsync(productController.createProduct));\n\n// router.route('/:id')\n//     .get(catchAsync(productController.showProduct))\n//     .patch(catchAsync(productController.updateProduct))\n//     .delete(catchAsync(productController.deleteProduct));\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,kBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,eAAA,GAAAC,uBAAA,CAAAJ,OAAA;AACA,IAAAK,UAAA,GAAAL,OAAA;AAA8D,SAAAM,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAH,wBAAAO,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAAA,SAAAlB,uBAAAY,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9D,MAAMiB,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;;AAE/B;AACAF,MAAM,CAACZ,GAAG,CAAC,GAAG,EAAE,IAAAe,mBAAU,EAACC,0BAAiB,CAACC,aAAa,CAAC,CAAC;AAE5DL,MAAM,CAACZ,GAAG,CAAC,MAAM,EAAEkB,uBAAU,EAAE,IAAAH,mBAAU,EAACC,0BAAiB,CAACG,wBAAwB,CAAC,CAAC;AAEtFP,MAAM,CAACQ,IAAI,CAAC,GAAG,EAAEF,uBAAU,EAAEG,0BAAe,EAAEC,wBAAQ,EAAE,IAAAP,mBAAU,EAACC,0BAAiB,CAACO,aAAa,CAAC,CAAC;AAEpGX,MAAM,CAACZ,GAAG,CAAC,MAAM,EAAE,IAAAe,mBAAU,EAACC,0BAAiB,CAACQ,WAAW,CAAC,CAAC;AAE7DZ,MAAM,CAACZ,GAAG,CAAC,WAAW,EAAEkB,uBAAU,EAAE,IAAAH,mBAAU,EAACC,0BAAiB,CAACS,YAAY,CAAC,CAAC;AAE/Eb,MAAM,CAACc,KAAK,CAAC,MAAM,EAAER,uBAAU,EAAE,IAAAH,mBAAU,EAACC,0BAAiB,CAACW,aAAa,CAAC,CAAC;AAE7Ef,MAAM,CAACgB,MAAM,CAAC,MAAM,EAAEV,uBAAU,EAAE,IAAAH,mBAAU,EAACC,0BAAiB,CAACa,aAAa,CAAC,CAAC;;AAE9E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA,IAAAC,QAAA,GAEelB,MAAM;AAAAmB,OAAA,CAAAlC,OAAA,GAAAiC,QAAA"}},"mtime":1679212195729},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/catchAsync.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nfunction _default(callback) {\n  return function (req, res, next) {\n    callback(req, res).catch(next);\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGVmYXVsdCIsImNhbGxiYWNrIiwicmVxIiwicmVzIiwibmV4dCIsImNhdGNoIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL2NvcmUvIiwic291cmNlcyI6WyJjYXRjaEFzeW5jLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY2FsbGJhY2socmVxLCByZXMpLmNhdGNoKG5leHQpO1xuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZSxTQUFBQSxTQUFVQyxRQUFRLEVBQUU7RUFDakMsT0FBTyxVQUFVQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFO0lBQy9CSCxRQUFRLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxDQUFDLENBQUNFLEtBQUssQ0FBQ0QsSUFBSSxDQUFDO0VBQ2hDLENBQUM7QUFDSCJ9","map":{"version":3,"names":["_default","callback","req","res","next","catch"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/","sources":["catchAsync.js"],"sourcesContent":["export default function (callback) {\n  return function (req, res, next) {\n    callback(req, res).catch(next);\n  };\n}\n"],"mappings":";;;;;;AAAe,SAAAA,SAAUC,QAAQ,EAAE;EACjC,OAAO,UAAUC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;IAC/BH,QAAQ,CAACC,GAAG,EAAEC,GAAG,CAAC,CAACE,KAAK,CAACD,IAAI,CAAC;EAChC,CAAC;AACH"}},"mtime":1679199426016},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/productController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _productService = _interopRequireDefault(require(\"../service/productService\"));\nvar _logger = _interopRequireDefault(require(\"../core/logger\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllProduct = async (req, res) => {\n  _logger.default.info('Fetch all request product recieved');\n  const products = await _productService.default.getAllProduct();\n  res.render('products/index', {\n    products\n  });\n};\nconst displayFormForNewProduct = async (req, res) => {\n  res.render('products/new');\n};\nconst createProduct = async (req, res) => {\n  const {\n    name,\n    price,\n    imageUrl,\n    desc\n  } = req.body;\n  await _productService.default.createProduct({\n    name,\n    price,\n    imageUrl,\n    desc\n  });\n  req.flash('success', 'Created the product successfully!');\n  res.redirect('/api/v1/products');\n};\nconst showProduct = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const product = await _productService.default.findProductById(id);\n  res.render('products/show', {\n    product\n  });\n};\nconst showEditForm = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const product = await _productService.default.findProductById(id);\n  res.render('products/edit', {\n    product\n  });\n};\nconst updateProduct = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const {\n    name,\n    price,\n    desc,\n    imageUrl\n  } = req.body;\n  await _productService.default.updateProductById(id, {\n    name,\n    price,\n    desc,\n    imageUrl\n  });\n  req.flash('success', 'Updated the product successfully');\n  res.redirect(`/api/v1/products/${id}`);\n};\nconst deleteProduct = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await _productService.default.deleteProductById(id);\n  req.flash('success', 'Deleted the product sucessfully!');\n  res.redirect('/api/v1/products');\n};\nvar _default = {\n  getAllProduct,\n  displayFormForNewProduct,\n  createProduct,\n  showProduct,\n  showEditForm,\n  updateProduct,\n  deleteProduct\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdFNlcnZpY2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9sb2dnZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdldEFsbFByb2R1Y3QiLCJyZXEiLCJyZXMiLCJsb2dnZXIiLCJpbmZvIiwicHJvZHVjdHMiLCJwcm9kdWN0U2VydmljZSIsInJlbmRlciIsImRpc3BsYXlGb3JtRm9yTmV3UHJvZHVjdCIsImNyZWF0ZVByb2R1Y3QiLCJuYW1lIiwicHJpY2UiLCJpbWFnZVVybCIsImRlc2MiLCJib2R5IiwiZmxhc2giLCJyZWRpcmVjdCIsInNob3dQcm9kdWN0IiwiaWQiLCJwYXJhbXMiLCJwcm9kdWN0IiwiZmluZFByb2R1Y3RCeUlkIiwic2hvd0VkaXRGb3JtIiwidXBkYXRlUHJvZHVjdCIsInVwZGF0ZVByb2R1Y3RCeUlkIiwiZGVsZXRlUHJvZHVjdCIsImRlbGV0ZVByb2R1Y3RCeUlkIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsicHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHByb2R1Y3RTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2UvcHJvZHVjdFNlcnZpY2UnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9jb3JlL2xvZ2dlcic7XG5cbmNvbnN0IGdldEFsbFByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgbG9nZ2VyLmluZm8oJ0ZldGNoIGFsbCByZXF1ZXN0IHByb2R1Y3QgcmVjaWV2ZWQnKTtcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBwcm9kdWN0U2VydmljZS5nZXRBbGxQcm9kdWN0KCk7XG4gIHJlcy5yZW5kZXIoJ3Byb2R1Y3RzL2luZGV4JywgeyBwcm9kdWN0cyB9KTtcbn07XG5cbmNvbnN0IGRpc3BsYXlGb3JtRm9yTmV3UHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICByZXMucmVuZGVyKCdwcm9kdWN0cy9uZXcnKTtcbn07XG5cbmNvbnN0IGNyZWF0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qge1xuICAgIG5hbWUsIHByaWNlLCBpbWFnZVVybCwgZGVzYyxcbiAgfSA9IHJlcS5ib2R5O1xuICBhd2FpdCBwcm9kdWN0U2VydmljZS5jcmVhdGVQcm9kdWN0KHtcbiAgICBuYW1lLCBwcmljZSwgaW1hZ2VVcmwsIGRlc2MsXG4gIH0pO1xuICByZXEuZmxhc2goJ3N1Y2Nlc3MnLCAnQ3JlYXRlZCB0aGUgcHJvZHVjdCBzdWNjZXNzZnVsbHkhJyk7XG4gIHJlcy5yZWRpcmVjdCgnL2FwaS92MS9wcm9kdWN0cycpO1xufTtcblxuY29uc3Qgc2hvd1Byb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RTZXJ2aWNlLmZpbmRQcm9kdWN0QnlJZChpZCk7XG4gIHJlcy5yZW5kZXIoJ3Byb2R1Y3RzL3Nob3cnLCB7IHByb2R1Y3QgfSk7XG59O1xuXG5jb25zdCBzaG93RWRpdEZvcm0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RTZXJ2aWNlLmZpbmRQcm9kdWN0QnlJZChpZCk7XG4gIHJlcy5yZW5kZXIoJ3Byb2R1Y3RzL2VkaXQnLCB7IHByb2R1Y3QgfSk7XG59O1xuXG5jb25zdCB1cGRhdGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICBuYW1lLCBwcmljZSwgZGVzYywgaW1hZ2VVcmwsXG4gIH0gPSByZXEuYm9keTtcbiAgYXdhaXQgcHJvZHVjdFNlcnZpY2UudXBkYXRlUHJvZHVjdEJ5SWQoaWQsIHtcbiAgICBuYW1lLCBwcmljZSwgZGVzYywgaW1hZ2VVcmwsXG4gIH0pO1xuICByZXEuZmxhc2goJ3N1Y2Nlc3MnLCAnVXBkYXRlZCB0aGUgcHJvZHVjdCBzdWNjZXNzZnVsbHknKTtcbiAgcmVzLnJlZGlyZWN0KGAvYXBpL3YxL3Byb2R1Y3RzLyR7aWR9YCk7XG59O1xuXG5jb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGF3YWl0IHByb2R1Y3RTZXJ2aWNlLmRlbGV0ZVByb2R1Y3RCeUlkKGlkKTtcbiAgcmVxLmZsYXNoKCdzdWNjZXNzJywgJ0RlbGV0ZWQgdGhlIHByb2R1Y3Qgc3VjZXNzZnVsbHkhJyk7XG4gIHJlcy5yZWRpcmVjdCgnL2FwaS92MS9wcm9kdWN0cycpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRBbGxQcm9kdWN0LFxuICBkaXNwbGF5Rm9ybUZvck5ld1Byb2R1Y3QsXG4gIGNyZWF0ZVByb2R1Y3QsXG4gIHNob3dQcm9kdWN0LFxuICBzaG93RWRpdEZvcm0sXG4gIHVwZGF0ZVByb2R1Y3QsXG4gIGRlbGV0ZVByb2R1Y3QsXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxlQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFcEMsTUFBTUcsYUFBYSxHQUFHLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hDQyxlQUFNLENBQUNDLElBQUksQ0FBQyxvQ0FBb0MsQ0FBQztFQUNqRCxNQUFN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","map":{"version":3,"names":["_productService","_interopRequireDefault","require","_logger","obj","__esModule","default","getAllProduct","req","res","logger","info","products","productService","render","displayFormForNewProduct","createProduct","name","price","imageUrl","desc","body","flash","redirect","showProduct","id","params","product","findProductById","showEditForm","updateProduct","updateProductById","deleteProduct","deleteProductById","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/","sources":["productController.js"],"sourcesContent":["import productService from '../service/productService';\nimport logger from '../core/logger';\n\nconst getAllProduct = async (req, res) => {\n  logger.info('Fetch all request product recieved');\n  const products = await productService.getAllProduct();\n  res.render('products/index', { products });\n};\n\nconst displayFormForNewProduct = async (req, res) => {\n  res.render('products/new');\n};\n\nconst createProduct = async (req, res) => {\n  const {\n    name, price, imageUrl, desc,\n  } = req.body;\n  await productService.createProduct({\n    name, price, imageUrl, desc,\n  });\n  req.flash('success', 'Created the product successfully!');\n  res.redirect('/api/v1/products');\n};\n\nconst showProduct = async (req, res) => {\n  const { id } = req.params;\n  const product = await productService.findProductById(id);\n  res.render('products/show', { product });\n};\n\nconst showEditForm = async (req, res) => {\n  const { id } = req.params;\n  const product = await productService.findProductById(id);\n  res.render('products/edit', { product });\n};\n\nconst updateProduct = async (req, res) => {\n  const { id } = req.params;\n  const {\n    name, price, desc, imageUrl,\n  } = req.body;\n  await productService.updateProductById(id, {\n    name, price, desc, imageUrl,\n  });\n  req.flash('success', 'Updated the product successfully');\n  res.redirect(`/api/v1/products/${id}`);\n};\n\nconst deleteProduct = async (req, res) => {\n  const { id } = req.params;\n  await productService.deleteProductById(id);\n  req.flash('success', 'Deleted the product sucessfully!');\n  res.redirect('/api/v1/products');\n};\n\nexport default {\n  getAllProduct,\n  displayFormForNewProduct,\n  createProduct,\n  showProduct,\n  showEditForm,\n  updateProduct,\n  deleteProduct,\n};\n"],"mappings":"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"}},"mtime":1679199426041},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/productService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _productRepo = _interopRequireDefault(require(\"../repository/productRepo\"));\nvar _logger = _interopRequireDefault(require(\"../core/logger\"));\nvar _ApiError = require(\"../core/ApiError\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllProduct = () => {\n  _logger.default.info('fetching all the products from repository');\n  return _productRepo.default.getAllProducts();\n};\nconst createProduct = product => {\n  _logger.default.info(`Creating a product with data : ${product}`);\n  return _productRepo.default.createProduct(product);\n};\nconst findProductById = async id => {\n  const product = await _productRepo.default.findProductByIdWithReviews(id);\n  if (!product) {\n    throw new _ApiError.BadRequestError(`Product with the id : ${id} doesn't exist`);\n  }\n  return product;\n};\nconst updateProductById = async (id, product) => {\n  const currentProduct = await _productRepo.default.findProductById(id);\n  if (!currentProduct) throw new _ApiError.BadRequestError(`Product with the id : ${id} doesn't exist`);\n  const updatedProduct = await _productRepo.default.updateProductById(id, product);\n  return updatedProduct;\n};\nconst deleteProductById = async id => _productRepo.default.deleteProductById(id);\nvar _default = {\n  getAllProduct,\n  createProduct,\n  findProductById,\n  updateProductById,\n  deleteProductById\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdFJlcG8iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9sb2dnZXIiLCJfQXBpRXJyb3IiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdldEFsbFByb2R1Y3QiLCJsb2dnZXIiLCJpbmZvIiwicHJvZHVjdFJlcG8iLCJnZXRBbGxQcm9kdWN0cyIsImNyZWF0ZVByb2R1Y3QiLCJwcm9kdWN0IiwiZmluZFByb2R1Y3RCeUlkIiwiaWQiLCJmaW5kUHJvZHVjdEJ5SWRXaXRoUmV2aWV3cyIsIkJhZFJlcXVlc3RFcnJvciIsInVwZGF0ZVByb2R1Y3RCeUlkIiwiY3VycmVudFByb2R1Y3QiLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZVByb2R1Y3RCeUlkIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL3NlcnZpY2UvIiwic291cmNlcyI6WyJwcm9kdWN0U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcHJvZHVjdFJlcG8gZnJvbSAnLi4vcmVwb3NpdG9yeS9wcm9kdWN0UmVwbyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4uL2NvcmUvbG9nZ2VyJztcbmltcG9ydCB7IEJhZFJlcXVlc3RFcnJvciB9IGZyb20gJy4uL2NvcmUvQXBpRXJyb3InO1xuXG5jb25zdCBnZXRBbGxQcm9kdWN0ID0gKCkgPT4ge1xuICBsb2dnZXIuaW5mbygnZmV0Y2hpbmcgYWxsIHRoZSBwcm9kdWN0cyBmcm9tIHJlcG9zaXRvcnknKTtcbiAgcmV0dXJuIHByb2R1Y3RSZXBvLmdldEFsbFByb2R1Y3RzKCk7XG59O1xuXG5jb25zdCBjcmVhdGVQcm9kdWN0ID0gKHByb2R1Y3QpID0+IHtcbiAgbG9nZ2VyLmluZm8oYENyZWF0aW5nIGEgcHJvZHVjdCB3aXRoIGRhdGEgOiAke3Byb2R1Y3R9YCk7XG4gIHJldHVybiBwcm9kdWN0UmVwby5jcmVhdGVQcm9kdWN0KHByb2R1Y3QpO1xufTtcblxuY29uc3QgZmluZFByb2R1Y3RCeUlkID0gYXN5bmMgKGlkKSA9PiB7XG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0UmVwby5maW5kUHJvZHVjdEJ5SWRXaXRoUmV2aWV3cyhpZCk7XG4gIGlmICghcHJvZHVjdCkge1xuICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXJyb3IoYFByb2R1Y3Qgd2l0aCB0aGUgaWQgOiAke2lkfSBkb2Vzbid0IGV4aXN0YCk7XG4gIH1cbiAgcmV0dXJuIHByb2R1Y3Q7XG59O1xuXG5jb25zdCB1cGRhdGVQcm9kdWN0QnlJZCA9IGFzeW5jIChpZCwgcHJvZHVjdCkgPT4ge1xuICBjb25zdCBjdXJyZW50UHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RSZXBvLmZpbmRQcm9kdWN0QnlJZChpZCk7XG4gIGlmICghY3VycmVudFByb2R1Y3QpIHRocm93IG5ldyBCYWRSZXF1ZXN0RXJyb3IoYFByb2R1Y3Qgd2l0aCB0aGUgaWQgOiAke2lkfSBkb2Vzbid0IGV4aXN0YCk7XG4gIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdFJlcG8udXBkYXRlUHJvZHVjdEJ5SWQoaWQsIHByb2R1Y3QpO1xuICByZXR1cm4gdXBkYXRlZFByb2R1Y3Q7XG59O1xuXG5jb25zdCBkZWxldGVQcm9kdWN0QnlJZCA9IGFzeW5jIChpZCkgPT4gcHJvZHVjdFJlcG8uZGVsZXRlUHJvZHVjdEJ5SWQoaWQpO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldEFsbFByb2R1Y3QsXG4gIGNyZWF0ZVByb2R1Y3QsXG4gIGZpbmRQcm9kdWN0QnlJZCxcbiAgdXBkYXRlUHJvZHVjdEJ5SWQsXG4gIGRlbGV0ZVByb2R1Y3RCeUlkLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsWUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBRixPQUFBO0FBQW1ELFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRW5ELE1BQU1HLGFBQWEsR0FBR0EsQ0FBQSxLQUFNO0VBQzFCQyxlQUFNLENBQUNDLElBQUksQ0FBQywyQ0FBMkMsQ0FBQztFQUN4RCxPQUFPQyxvQkFBVyxDQUFDQyxjQUFjLEVBQUU7QUFDckMsQ0FBQztBQUVELE1BQU1DLGFBQWEsR0FBSUMsT0FBTyxJQUFLO0VBQ2pDTCxlQUFNLENBQUNDLElBQUksQ0FBRSxrQ0FBaUNJLE9BQVEsRUFBQyxDQUFDO0VBQ3hELE9BQU9ILG9CQUFXLENBQUNFLGFBQWEsQ0FBQ0MsT0FBTyxDQUFDO0FBQzNDLENBQUM7QUFFRCxNQUFNQyxlQUFlLEdBQUcsTUFBT0MsRUFBRSxJQUFLO0VBQ3BDLE1BQU1GLE9BQU8sR0FBRyxNQUFNSCxvQkFBVyxDQUFDTSwwQkFBMEIsQ0FBQ0QsRUFBRSxDQUFDO0VBQ2hFLElBQUksQ0FBQ0YsT0FBTyxFQUFFO0lBQ1osTUFBTSxJQUFJSSx5QkFBZSxDQUFFLHlCQUF3QkYsRUFBRyxnQkFBZSxDQUFDO0VBQ3hFO0VBQ0EsT0FBT0YsT0FBTztBQUNoQixDQUFDO0FBRUQsTUFBTUssaUJBQWlCLEdBQUcsTUFBQUEsQ0FBT0gsRUFBRSxFQUFFRixPQUFPLEtBQUs7RUFDL0MsTUFBTU0sY0FBYyxHQUFHLE1BQU1ULG9CQUFXLENBQUNJLGVBQWUsQ0FBQ0MsRUFBRSxDQUFDO0VBQzVELElBQUksQ0FBQ0ksY0FBYyxFQUFFLE1BQU0sSUFBSUYseUJBQWUsQ0FBRSx5QkFBd0JGLEVBQUcsZ0JBQWUsQ0FBQztFQUMzRixNQUFNSyxjQUFjLEdBQUcsTUFBTVYsb0JBQVcsQ0FBQ1EsaUJBQWlCLENBQUNILEVBQUUsRUFBRUYsT0FBTyxDQUFDO0VBQ3ZFLE9BQU9PLGNBQWM7QUFDdkIsQ0FBQztBQUVELE1BQU1DLGlCQUFpQixHQUFHLE1BQU9OLEVBQUUsSUFBS0wsb0JBQVcsQ0FBQ1csaUJBQWlCLENBQUNOLEVBQUUsQ0FBQztBQUFDLElBQUFPLFFBQUEsR0FFM0Q7RUFDYmYsYUFBYTtFQUNiSyxhQUFhO0VBQ2JFLGVBQWU7RUFDZkksaUJBQWlCO0VBQ2pCRztBQUNGLENBQUM7QUFBQUUsT0FBQSxDQUFBakIsT0FBQSxHQUFBZ0IsUUFBQSJ9","map":{"version":3,"names":["_productRepo","_interopRequireDefault","require","_logger","_ApiError","obj","__esModule","default","getAllProduct","logger","info","productRepo","getAllProducts","createProduct","product","findProductById","id","findProductByIdWithReviews","BadRequestError","updateProductById","currentProduct","updatedProduct","deleteProductById","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/","sources":["productService.js"],"sourcesContent":["import productRepo from '../repository/productRepo';\nimport logger from '../core/logger';\nimport { BadRequestError } from '../core/ApiError';\n\nconst getAllProduct = () => {\n  logger.info('fetching all the products from repository');\n  return productRepo.getAllProducts();\n};\n\nconst createProduct = (product) => {\n  logger.info(`Creating a product with data : ${product}`);\n  return productRepo.createProduct(product);\n};\n\nconst findProductById = async (id) => {\n  const product = await productRepo.findProductByIdWithReviews(id);\n  if (!product) {\n    throw new BadRequestError(`Product with the id : ${id} doesn't exist`);\n  }\n  return product;\n};\n\nconst updateProductById = async (id, product) => {\n  const currentProduct = await productRepo.findProductById(id);\n  if (!currentProduct) throw new BadRequestError(`Product with the id : ${id} doesn't exist`);\n  const updatedProduct = await productRepo.updateProductById(id, product);\n  return updatedProduct;\n};\n\nconst deleteProductById = async (id) => productRepo.deleteProductById(id);\n\nexport default {\n  getAllProduct,\n  createProduct,\n  findProductById,\n  updateProductById,\n  deleteProductById,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AAAmD,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnD,MAAMG,aAAa,GAAGA,CAAA,KAAM;EAC1BC,eAAM,CAACC,IAAI,CAAC,2CAA2C,CAAC;EACxD,OAAOC,oBAAW,CAACC,cAAc,EAAE;AACrC,CAAC;AAED,MAAMC,aAAa,GAAIC,OAAO,IAAK;EACjCL,eAAM,CAACC,IAAI,CAAE,kCAAiCI,OAAQ,EAAC,CAAC;EACxD,OAAOH,oBAAW,CAACE,aAAa,CAACC,OAAO,CAAC;AAC3C,CAAC;AAED,MAAMC,eAAe,GAAG,MAAOC,EAAE,IAAK;EACpC,MAAMF,OAAO,GAAG,MAAMH,oBAAW,CAACM,0BAA0B,CAACD,EAAE,CAAC;EAChE,IAAI,CAACF,OAAO,EAAE;IACZ,MAAM,IAAII,yBAAe,CAAE,yBAAwBF,EAAG,gBAAe,CAAC;EACxE;EACA,OAAOF,OAAO;AAChB,CAAC;AAED,MAAMK,iBAAiB,GAAG,MAAAA,CAAOH,EAAE,EAAEF,OAAO,KAAK;EAC/C,MAAMM,cAAc,GAAG,MAAMT,oBAAW,CAACI,eAAe,CAACC,EAAE,CAAC;EAC5D,IAAI,CAACI,cAAc,EAAE,MAAM,IAAIF,yBAAe,CAAE,yBAAwBF,EAAG,gBAAe,CAAC;EAC3F,MAAMK,cAAc,GAAG,MAAMV,oBAAW,CAACQ,iBAAiB,CAACH,EAAE,EAAEF,OAAO,CAAC;EACvE,OAAOO,cAAc;AACvB,CAAC;AAED,MAAMC,iBAAiB,GAAG,MAAON,EAAE,IAAKL,oBAAW,CAACW,iBAAiB,CAACN,EAAE,CAAC;AAAC,IAAAO,QAAA,GAE3D;EACbf,aAAa;EACbK,aAAa;EACbE,eAAe;EACfI,iBAAiB;EACjBG;AACF,CAAC;AAAAE,OAAA,CAAAjB,OAAA,GAAAgB,QAAA"}},"mtime":1679199426036},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/productRepo.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _product = _interopRequireDefault(require(\"../models/product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllProducts = () => _product.default.find({}).lean();\nconst createProduct = product => _product.default.create(product);\nconst findProductById = id => _product.default.findById(id);\nconst updateProductById = (id, product) => _product.default.findByIdAndUpdate(id, product, {\n  new: true\n});\nconst deleteProductById = id => _product.default.findByIdAndDelete(id);\nconst saveProduct = product => product.save();\nconst findProductByIdWithReviews = id => _product.default.findById(id).populate('reviews');\nvar _default = {\n  getAllProducts,\n  createProduct,\n  findProductById,\n  updateProductById,\n  deleteProductById,\n  saveProduct,\n  findProductByIdWithReviews\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRBbGxQcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwibGVhbiIsImNyZWF0ZVByb2R1Y3QiLCJwcm9kdWN0IiwiY3JlYXRlIiwiZmluZFByb2R1Y3RCeUlkIiwiaWQiLCJmaW5kQnlJZCIsInVwZGF0ZVByb2R1Y3RCeUlkIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJkZWxldGVQcm9kdWN0QnlJZCIsImZpbmRCeUlkQW5kRGVsZXRlIiwic2F2ZVByb2R1Y3QiLCJzYXZlIiwiZmluZFByb2R1Y3RCeUlkV2l0aFJldmlld3MiLCJwb3B1bGF0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsicHJvZHVjdFJlcG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3QnO1xuXG5jb25zdCBnZXRBbGxQcm9kdWN0cyA9ICgpID0+IFByb2R1Y3QuZmluZCh7fSlcbiAgLmxlYW4oKTtcblxuY29uc3QgY3JlYXRlUHJvZHVjdCA9IChwcm9kdWN0KSA9PiBQcm9kdWN0LmNyZWF0ZShwcm9kdWN0KTtcblxuY29uc3QgZmluZFByb2R1Y3RCeUlkID0gKGlkKSA9PiBQcm9kdWN0LmZpbmRCeUlkKGlkKTtcblxuY29uc3QgdXBkYXRlUHJvZHVjdEJ5SWQgPSAoaWQsIHByb2R1Y3QpID0+IFByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoaWQsIHByb2R1Y3QsIHsgbmV3OiB0cnVlIH0pO1xuXG5jb25zdCBkZWxldGVQcm9kdWN0QnlJZCA9IChpZCkgPT4gUHJvZHVjdC5maW5kQnlJZEFuZERlbGV0ZShpZCk7XG5cbmNvbnN0IHNhdmVQcm9kdWN0ID0gKHByb2R1Y3QpID0+IHByb2R1Y3Quc2F2ZSgpO1xuXG5jb25zdCBmaW5kUHJvZHVjdEJ5SWRXaXRoUmV2aWV3cyA9IChpZCkgPT4gUHJvZHVjdC5maW5kQnlJZChpZClcbiAgLnBvcHVsYXRlKCdyZXZpZXdzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0QWxsUHJvZHVjdHMsXG4gIGNyZWF0ZVByb2R1Y3QsXG4gIGZpbmRQcm9kdWN0QnlJZCxcbiAgdXBkYXRlUHJvZHVjdEJ5SWQsXG4gIGRlbGV0ZVByb2R1Y3RCeUlkLFxuICBzYXZlUHJvZHVjdCxcbiAgZmluZFByb2R1Y3RCeUlkV2l0aFJldmlld3MsXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBd0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFeEMsTUFBTUcsY0FBYyxHQUFHQSxDQUFBLEtBQU1DLGdCQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUMxQ0MsSUFBSSxFQUFFO0FBRVQsTUFBTUMsYUFBYSxHQUFJQyxPQUFPLElBQUtKLGdCQUFPLENBQUNLLE1BQU0sQ0FBQ0QsT0FBTyxDQUFDO0FBRTFELE1BQU1FLGVBQWUsR0FBSUMsRUFBRSxJQUFLUCxnQkFBTyxDQUFDUSxRQUFRLENBQUNELEVBQUUsQ0FBQztBQUVwRCxNQUFNRSxpQkFBaUIsR0FBR0EsQ0FBQ0YsRUFBRSxFQUFFSCxPQUFPLEtBQUtKLGdCQUFPLENBQUNVLGlCQUFpQixDQUFDSCxFQUFFLEVBQUVILE9BQU8sRUFBRTtFQUFFTyxHQUFHLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFFaEcsTUFBTUMsaUJBQWlCLEdBQUlMLEVBQUUsSUFBS1AsZ0JBQU8sQ0FBQ2EsaUJBQWlCLENBQUNOLEVBQUUsQ0FBQztBQUUvRCxNQUFNTyxXQUFXLEdBQUlWLE9BQU8sSUFBS0EsT0FBTyxDQUFDVyxJQUFJLEVBQUU7QUFFL0MsTUFBTUMsMEJBQTBCLEdBQUlULEVBQUUsSUFBS1AsZ0JBQU8sQ0FBQ1EsUUFBUSxDQUFDRCxFQUFFLENBQUMsQ0FDNURVLFFBQVEsQ0FBQyxTQUFTLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRVI7RUFDYm5CLGNBQWM7RUFDZEksYUFBYTtFQUNiRyxlQUFlO0VBQ2ZHLGlCQUFpQjtFQUNqQkcsaUJBQWlCO0VBQ2pCRSxXQUFXO0VBQ1hFO0FBQ0YsQ0FBQztBQUFBRyxPQUFBLENBQUFyQixPQUFBLEdBQUFvQixRQUFBIn0=","map":{"version":3,"names":["_product","_interopRequireDefault","require","obj","__esModule","default","getAllProducts","Product","find","lean","createProduct","product","create","findProductById","id","findById","updateProductById","findByIdAndUpdate","new","deleteProductById","findByIdAndDelete","saveProduct","save","findProductByIdWithReviews","populate","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/","sources":["productRepo.js"],"sourcesContent":["import Product from '../models/product';\n\nconst getAllProducts = () => Product.find({})\n  .lean();\n\nconst createProduct = (product) => Product.create(product);\n\nconst findProductById = (id) => Product.findById(id);\n\nconst updateProductById = (id, product) => Product.findByIdAndUpdate(id, product, { new: true });\n\nconst deleteProductById = (id) => Product.findByIdAndDelete(id);\n\nconst saveProduct = (product) => product.save();\n\nconst findProductByIdWithReviews = (id) => Product.findById(id)\n  .populate('reviews');\n\nexport default {\n  getAllProducts,\n  createProduct,\n  findProductById,\n  updateProductById,\n  deleteProductById,\n  saveProduct,\n  findProductByIdWithReviews,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAwC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,cAAc,GAAGA,CAAA,KAAMC,gBAAO,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,CAC1CC,IAAI,EAAE;AAET,MAAMC,aAAa,GAAIC,OAAO,IAAKJ,gBAAO,CAACK,MAAM,CAACD,OAAO,CAAC;AAE1D,MAAME,eAAe,GAAIC,EAAE,IAAKP,gBAAO,CAACQ,QAAQ,CAACD,EAAE,CAAC;AAEpD,MAAME,iBAAiB,GAAGA,CAACF,EAAE,EAAEH,OAAO,KAAKJ,gBAAO,CAACU,iBAAiB,CAACH,EAAE,EAAEH,OAAO,EAAE;EAAEO,GAAG,EAAE;AAAK,CAAC,CAAC;AAEhG,MAAMC,iBAAiB,GAAIL,EAAE,IAAKP,gBAAO,CAACa,iBAAiB,CAACN,EAAE,CAAC;AAE/D,MAAMO,WAAW,GAAIV,OAAO,IAAKA,OAAO,CAACW,IAAI,EAAE;AAE/C,MAAMC,0BAA0B,GAAIT,EAAE,IAAKP,gBAAO,CAACQ,QAAQ,CAACD,EAAE,CAAC,CAC5DU,QAAQ,CAAC,SAAS,CAAC;AAAC,IAAAC,QAAA,GAER;EACbnB,cAAc;EACdI,aAAa;EACbG,eAAe;EACfG,iBAAiB;EACjBG,iBAAiB;EACjBE,WAAW;EACXE;AACF,CAAC;AAAAG,OAAA,CAAArB,OAAA,GAAAoB,QAAA"}},"mtime":1679199426011},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _review = _interopRequireDefault(require(\"./review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productSchema = new _mongoose.default.Schema({\n  name: String,\n  imageUrl: String,\n  price: Number,\n  desc: String,\n  reviews: [{\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Review'\n  }]\n});\nproductSchema.post('findOneAndDelete', async product => {\n  await _review.default.deleteMany({\n    _id: {\n      $in: product.reviews\n    }\n  });\n});\nconst Product = _mongoose.default.model('Product', productSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInByb2R1Y3RTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJTdHJpbmciLCJpbWFnZVVybCIsInByaWNlIiwiTnVtYmVyIiwiZGVzYyIsInJldmlld3MiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInBvc3QiLCJwcm9kdWN0IiwiUmV2aWV3IiwiZGVsZXRlTWFueSIsIl9pZCIsIiRpbiIsIlByb2R1Y3QiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJwcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgUmV2aWV3IGZyb20gJy4vcmV2aWV3JztcblxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiBTdHJpbmcsXG4gIGltYWdlVXJsOiBTdHJpbmcsXG4gIHByaWNlOiBOdW1iZXIsXG4gIGRlc2M6IFN0cmluZyxcbiAgcmV2aWV3czogW1xuICAgIHtcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgIHJlZjogJ1JldmlldycsXG4gICAgfSxcbiAgXSxcbn0pO1xuXG5wcm9kdWN0U2NoZW1hLnBvc3QoJ2ZpbmRPbmVBbmREZWxldGUnLCBhc3luYyAocHJvZHVjdCkgPT4ge1xuICBhd2FpdCBSZXZpZXcuZGVsZXRlTWFueSh7IF9pZDogeyAkaW46IHByb2R1Y3QucmV2aWV3cyB9IH0pO1xufSk7XG5cbmNvbnN0IFByb2R1Y3QgPSBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIHByb2R1Y3RTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFOUIsTUFBTUcsYUFBYSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUN4Q0MsSUFBSSxFQUFFQyxNQUFNO0VBQ1pDLFFBQVEsRUFBRUQsTUFBTTtFQUNoQkUsS0FBSyxFQUFFQyxNQUFNO0VBQ2JDLElBQUksRUFBRUosTUFBTTtFQUNaSyxPQUFPLEVBQUUsQ0FDUDtJQUNFQyxJQUFJLEVBQUVULGlCQUFRLENBQUNDLE1BQU0sQ0FBQ1MsS0FBSyxDQUFDQyxRQUFRO0lBQ3BDQyxHQUFHLEVBQUU7RUFDUCxDQUFDO0FBRUwsQ0FBQyxDQUFDO0FBRUZiLGFBQWEsQ0FBQ2MsSUFBSSxDQUFDLGtCQUFrQixFQUFFLE1BQU9DLE9BQU8sSUFBSztFQUN4RCxNQUFNQyxlQUFNLENBQUNDLFVBQVUsQ0FBQztJQUFFQyxHQUFHLEVBQUU7TUFBRUMsR0FBRyxFQUFFSixPQUFPLENBQUNOO0lBQVE7RUFBRSxDQUFDLENBQUM7QUFDNUQsQ0FBQyxDQUFDO0FBRUYsTUFBTVcsT0FBTyxHQUFHbkIsaUJBQVEsQ0FBQ29CLEtBQUssQ0FBQyxTQUFTLEVBQUVyQixhQUFhLENBQUM7QUFBQyxJQUFBc0IsUUFBQSxHQUUxQ0YsT0FBTztBQUFBRyxPQUFBLENBQUF4QixPQUFBLEdBQUF1QixRQUFBIn0=","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_review","obj","__esModule","default","productSchema","mongoose","Schema","name","String","imageUrl","price","Number","desc","reviews","type","Types","ObjectId","ref","post","product","Review","deleteMany","_id","$in","Product","model","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/","sources":["product.js"],"sourcesContent":["import mongoose from 'mongoose';\nimport Review from './review';\n\nconst productSchema = new mongoose.Schema({\n  name: String,\n  imageUrl: String,\n  price: Number,\n  desc: String,\n  reviews: [\n    {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Review',\n    },\n  ],\n});\n\nproductSchema.post('findOneAndDelete', async (product) => {\n  await Review.deleteMany({ _id: { $in: product.reviews } });\n});\n\nconst Product = mongoose.model('Product', productSchema);\n\nexport default Product;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9B,MAAMG,aAAa,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACxCC,IAAI,EAAEC,MAAM;EACZC,QAAQ,EAAED,MAAM;EAChBE,KAAK,EAAEC,MAAM;EACbC,IAAI,EAAEJ,MAAM;EACZK,OAAO,EAAE,CACP;IACEC,IAAI,EAAET,iBAAQ,CAACC,MAAM,CAACS,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACP,CAAC;AAEL,CAAC,CAAC;AAEFb,aAAa,CAACc,IAAI,CAAC,kBAAkB,EAAE,MAAOC,OAAO,IAAK;EACxD,MAAMC,eAAM,CAACC,UAAU,CAAC;IAAEC,GAAG,EAAE;MAAEC,GAAG,EAAEJ,OAAO,CAACN;IAAQ;EAAE,CAAC,CAAC;AAC5D,CAAC,CAAC;AAEF,MAAMW,OAAO,GAAGnB,iBAAQ,CAACoB,KAAK,CAAC,SAAS,EAAErB,aAAa,CAAC;AAAC,IAAAsB,QAAA,GAE1CF,OAAO;AAAAG,OAAA,CAAAxB,OAAA,GAAAuB,QAAA"}},"mtime":1679199426024},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst reviewSchema = new _mongoose.default.Schema({\n  rating: {\n    type: Number,\n    min: 1,\n    max: 5,\n    default: 1\n  },\n  comment: {\n    type: String,\n    maxLength: 100\n  }\n});\nconst Review = _mongoose.default.model('Review', reviewSchema);\nvar _default = Review;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmV2aWV3U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJyYXRpbmciLCJ0eXBlIiwiTnVtYmVyIiwibWluIiwibWF4IiwiY29tbWVudCIsIlN0cmluZyIsIm1heExlbmd0aCIsIlJldmlldyIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL21vZGVscy8iLCJzb3VyY2VzIjpbInJldmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCByZXZpZXdTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgcmF0aW5nOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIG1pbjogMSxcbiAgICBtYXg6IDUsXG4gICAgZGVmYXVsdDogMSxcbiAgfSxcbiAgY29tbWVudDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBtYXhMZW5ndGg6IDEwMCxcbiAgfSxcbn0pO1xuXG5jb25zdCBSZXZpZXcgPSBtb25nb29zZS5tb2RlbCgnUmV2aWV3JywgcmV2aWV3U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUmV2aWV3O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBZ0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFaEMsTUFBTUcsWUFBWSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUN2Q0MsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRUMsTUFBTTtJQUNaQyxHQUFHLEVBQUUsQ0FBQztJQUNOQyxHQUFHLEVBQUUsQ0FBQztJQUNOUixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RTLE9BQU8sRUFBRTtJQUNQSixJQUFJLEVBQUVLLE1BQU07SUFDWkMsU0FBUyxFQUFFO0VBQ2I7QUFDRixDQUFDLENBQUM7QUFFRixNQUFNQyxNQUFNLEdBQUdWLGlCQUFRLENBQUNXLEtBQUssQ0FBQyxRQUFRLEVBQUVaLFlBQVksQ0FBQztBQUFDLElBQUFhLFFBQUEsR0FFdkNGLE1BQU07QUFBQUcsT0FBQSxDQUFBZixPQUFBLEdBQUFjLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","reviewSchema","mongoose","Schema","rating","type","Number","min","max","comment","String","maxLength","Review","model","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/models/","sources":["review.js"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst reviewSchema = new mongoose.Schema({\n  rating: {\n    type: Number,\n    min: 1,\n    max: 5,\n    default: 1,\n  },\n  comment: {\n    type: String,\n    maxLength: 100,\n  },\n});\n\nconst Review = mongoose.model('Review', reviewSchema);\n\nexport default Review;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,YAAY,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACvCC,MAAM,EAAE;IACNC,IAAI,EAAEC,MAAM;IACZC,GAAG,EAAE,CAAC;IACNC,GAAG,EAAE,CAAC;IACNR,OAAO,EAAE;EACX,CAAC;EACDS,OAAO,EAAE;IACPJ,IAAI,EAAEK,MAAM;IACZC,SAAS,EAAE;EACb;AACF,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGV,iBAAQ,CAACW,KAAK,CAAC,QAAQ,EAAEZ,YAAY,CAAC;AAAC,IAAAa,QAAA,GAEvCF,MAAM;AAAAG,OAAA,CAAAf,OAAA,GAAAc,QAAA"}},"mtime":1679199426023},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/logger.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _winston = _interopRequireDefault(require(\"winston\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst logger = _winston.default.createLogger({\n  transports: [new _winston.default.transports.Console(), new _winston.default.transports.File({\n    filename: 'combined.log'\n  })]\n});\nvar _default = logger;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfd2luc3RvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJsb2dnZXIiLCJ3aW5zdG9uIiwiY3JlYXRlTG9nZ2VyIiwidHJhbnNwb3J0cyIsIkNvbnNvbGUiLCJGaWxlIiwiZmlsZW5hbWUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvY29yZS8iLCJzb3VyY2VzIjpbImxvZ2dlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgd2luc3RvbiBmcm9tICd3aW5zdG9uJztcblxuY29uc3QgbG9nZ2VyID0gd2luc3Rvbi5jcmVhdGVMb2dnZXIoe1xuICB0cmFuc3BvcnRzOiBbXG4gICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5Db25zb2xlKCksXG4gICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5GaWxlKHsgZmlsZW5hbWU6ICdjb21iaW5lZC5sb2cnIH0pLFxuICBdLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTlCLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsWUFBWSxDQUFDO0VBQ2xDQyxVQUFVLEVBQUUsQ0FDVixJQUFJRixnQkFBTyxDQUFDRSxVQUFVLENBQUNDLE9BQU8sRUFBRSxFQUNoQyxJQUFJSCxnQkFBTyxDQUFDRSxVQUFVLENBQUNFLElBQUksQ0FBQztJQUFFQyxRQUFRLEVBQUU7RUFBZSxDQUFDLENBQUM7QUFFN0QsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVZUCxNQUFNO0FBQUFRLE9BQUEsQ0FBQVQsT0FBQSxHQUFBUSxRQUFBIn0=","map":{"version":3,"names":["_winston","_interopRequireDefault","require","obj","__esModule","default","logger","winston","createLogger","transports","Console","File","filename","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/","sources":["logger.js"],"sourcesContent":["import winston from 'winston';\n\nconst logger = winston.createLogger({\n  transports: [\n    new winston.transports.Console(),\n    new winston.transports.File({ filename: 'combined.log' }),\n  ],\n});\n\nexport default logger;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9B,MAAMG,MAAM,GAAGC,gBAAO,CAACC,YAAY,CAAC;EAClCC,UAAU,EAAE,CACV,IAAIF,gBAAO,CAACE,UAAU,CAACC,OAAO,EAAE,EAChC,IAAIH,gBAAO,CAACE,UAAU,CAACE,IAAI,CAAC;IAAEC,QAAQ,EAAE;EAAe,CAAC,CAAC;AAE7D,CAAC,CAAC;AAAC,IAAAC,QAAA,GAEYP,MAAM;AAAAQ,OAAA,CAAAT,OAAA,GAAAQ,QAAA"}},"mtime":1679199426015},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/validator.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateUser = exports.validateProduct = void 0;\nvar _schema = require(\"./schema\");\nconst validateProduct = (req, res, next) => {\n  const {\n    name,\n    price,\n    desc,\n    imageUrl\n  } = req.body;\n  const {\n    error\n  } = _schema.productSchema.validate({\n    name,\n    price,\n    desc,\n    imageUrl\n  });\n  if (error) {\n    const errMsg = error.details.map(err => err.message).join(',');\n    req.flash('error', errMsg);\n    return res.redirect('/api/v1/products/new');\n  }\n  return next();\n};\nexports.validateProduct = validateProduct;\nconst validateUser = (req, res, next) => {\n  const {\n    email,\n    username,\n    password,\n    role\n  } = req.body;\n  const {\n    error\n  } = _schema.userSchema.validate({\n    email,\n    username,\n    password,\n    role\n  });\n  if (error) {\n    if (error.details[0].path.includes('password')) {\n      req.flash('error', 'Password must contain minimum eight characters, at least one letter, one number and one special character');\n    } else {\n      const errMsg = error.details.map(err => err.message).join(',');\n      req.flash('error', errMsg);\n    }\n    return res.redirect('/api/v1/auth/register');\n  }\n  return next();\n};\nexports.validateUser = validateUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc2NoZW1hIiwicmVxdWlyZSIsInZhbGlkYXRlUHJvZHVjdCIsInJlcSIsInJlcyIsIm5leHQiLCJuYW1lIiwicHJpY2UiLCJkZXNjIiwiaW1hZ2VVcmwiLCJib2R5IiwiZXJyb3IiLCJwcm9kdWN0U2NoZW1hIiwidmFsaWRhdGUiLCJlcnJNc2ciLCJkZXRhaWxzIiwibWFwIiwiZXJyIiwibWVzc2FnZSIsImpvaW4iLCJmbGFzaCIsInJlZGlyZWN0IiwiZXhwb3J0cyIsInZhbGlkYXRlVXNlciIsImVtYWlsIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJvbGUiLCJ1c2VyU2NoZW1hIiwicGF0aCIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL3ZhbGlkYXRpb25zLyIsInNvdXJjZXMiOlsidmFsaWRhdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb2R1Y3RTY2hlbWEsIHVzZXJTY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVByb2R1Y3QgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3Qge1xuICAgIG5hbWUsIHByaWNlLCBkZXNjLCBpbWFnZVVybCxcbiAgfSA9IHJlcS5ib2R5O1xuXG4gIGNvbnN0IHsgZXJyb3IgfSA9IHByb2R1Y3RTY2hlbWEudmFsaWRhdGUoe1xuICAgIG5hbWUsIHByaWNlLCBkZXNjLCBpbWFnZVVybCxcbiAgfSk7XG4gIGlmIChlcnJvcikge1xuICAgIGNvbnN0IGVyck1zZyA9IGVycm9yLmRldGFpbHMubWFwKChlcnIpID0+IGVyci5tZXNzYWdlKS5qb2luKCcsJyk7XG4gICAgcmVxLmZsYXNoKCdlcnJvcicsIGVyck1zZyk7XG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2FwaS92MS9wcm9kdWN0cy9uZXcnKTtcbiAgfVxuICByZXR1cm4gbmV4dCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVXNlciA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB7XG4gICAgZW1haWwsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSxcbiAgfSA9IHJlcS5ib2R5O1xuXG4gIGNvbnN0IHsgZXJyb3IgfSA9IHVzZXJTY2hlbWEudmFsaWRhdGUoe1xuICAgIGVtYWlsLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUsXG4gIH0pO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGlmIChlcnJvci5kZXRhaWxzWzBdLnBhdGguaW5jbHVkZXMoJ3Bhc3N3b3JkJykpIHtcbiAgICAgIHJlcS5mbGFzaCgnZXJyb3InLCAnUGFzc3dvcmQgbXVzdCBjb250YWluIG1pbmltdW0gZWlnaHQgY2hhcmFjdGVycywgYXQgbGVhc3Qgb25lIGxldHRlciwgb25lIG51bWJlciBhbmQgb25lIHNwZWNpYWwgY2hhcmFjdGVyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVyck1zZyA9IGVycm9yLmRldGFpbHMubWFwKChlcnIpID0+IGVyci5tZXNzYWdlKS5qb2luKCcsJyk7XG4gICAgICByZXEuZmxhc2goJ2Vycm9yJywgZXJyTXNnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2FwaS92MS9hdXRoL3JlZ2lzdGVyJyk7XG4gIH1cblxuICByZXR1cm4gbmV4dCgpO1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBRU8sTUFBTUMsZUFBZSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ2pELE1BQU07SUFDSkMsSUFBSTtJQUFFQyxLQUFLO0lBQUVDLElBQUk7SUFBRUM7RUFDckIsQ0FBQyxHQUFHTixHQUFHLENBQUNPLElBQUk7RUFFWixNQUFNO0lBQUVDO0VBQU0sQ0FBQyxHQUFHQyxxQkFBYSxDQUFDQyxRQUFRLENBQUM7SUFDdkNQLElBQUk7SUFBRUMsS0FBSztJQUFFQyxJQUFJO0lBQUVDO0VBQ3JCLENBQUMsQ0FBQztFQUNGLElBQUlFLEtBQUssRUFBRTtJQUNULE1BQU1HLE1BQU0sR0FBR0gsS0FBSyxDQUFDSSxPQUFPLENBQUNDLEdBQUcsQ0FBRUMsR0FBRyxJQUFLQSxHQUFHLENBQUNDLE9BQU8sQ0FBQyxDQUFDQyxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ2hFaEIsR0FBRyxDQUFDaUIsS0FBSyxDQUFDLE9BQU8sRUFBRU4sTUFBTSxDQUFDO0lBQzFCLE9BQU9WLEdBQUcsQ0FBQ2lCLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQztFQUM3QztFQUNBLE9BQU9oQixJQUFJLEVBQUU7QUFDZixDQUFDO0FBQUNpQixPQUFBLENBQUFwQixlQUFBLEdBQUFBLGVBQUE7QUFFSyxNQUFNcUIsWUFBWSxHQUFHQSxDQUFDcEIsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUM5QyxNQUFNO0lBQ0ptQixLQUFLO0lBQUVDLFFBQVE7SUFBRUMsUUFBUTtJQUFFQztFQUM3QixDQUFDLEdBQUd4QixHQUFHLENBQUNPLElBQUk7RUFFWixNQUFNO0lBQUVDO0VBQU0sQ0FBQyxHQUFHaUIsa0JBQVUsQ0FBQ2YsUUFBUSxDQUFDO0lBQ3BDVyxLQUFLO0lBQUVDLFFBQVE7SUFBRUMsUUFBUTtJQUFFQztFQUM3QixDQUFDLENBQUM7RUFFRixJQUFJaEIsS0FBSyxFQUFFO0lBQ1QsSUFBSUEsS0FBSyxDQUFDSSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUNjLElBQUksQ0FBQ0MsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFO01BQzlDM0IsR0FBRyxDQUFDaUIsS0FBSyxDQUFDLE9BQU8sRUFBRSwyR0FBMkcsQ0FBQztJQUNqSSxDQUFDLE1BQU07TUFDTCxNQUFNTixNQUFNLEdBQUdILEtBQUssQ0FBQ0ksT0FBTyxDQUFDQyxHQUFHLENBQUVDLEdBQUcsSUFBS0EsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUNoRWhCLEdBQUcsQ0FBQ2lCLEtBQUssQ0FBQyxPQUFPLEVBQUVOLE1BQU0sQ0FBQztJQUM1QjtJQUNBLE9BQU9WLEdBQUcsQ0FBQ2lCLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztFQUM5QztFQUVBLE9BQU9oQixJQUFJLEVBQUU7QUFDZixDQUFDO0FBQUNpQixPQUFBLENBQUFDLFlBQUEsR0FBQUEsWUFBQSJ9","map":{"version":3,"names":["_schema","require","validateProduct","req","res","next","name","price","desc","imageUrl","body","error","productSchema","validate","errMsg","details","map","err","message","join","flash","redirect","exports","validateUser","email","username","password","role","userSchema","path","includes"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/","sources":["validator.js"],"sourcesContent":["import { productSchema, userSchema } from './schema';\n\nexport const validateProduct = (req, res, next) => {\n  const {\n    name, price, desc, imageUrl,\n  } = req.body;\n\n  const { error } = productSchema.validate({\n    name, price, desc, imageUrl,\n  });\n  if (error) {\n    const errMsg = error.details.map((err) => err.message).join(',');\n    req.flash('error', errMsg);\n    return res.redirect('/api/v1/products/new');\n  }\n  return next();\n};\n\nexport const validateUser = (req, res, next) => {\n  const {\n    email, username, password, role,\n  } = req.body;\n\n  const { error } = userSchema.validate({\n    email, username, password, role,\n  });\n\n  if (error) {\n    if (error.details[0].path.includes('password')) {\n      req.flash('error', 'Password must contain minimum eight characters, at least one letter, one number and one special character');\n    } else {\n      const errMsg = error.details.map((err) => err.message).join(',');\n      req.flash('error', errMsg);\n    }\n    return res.redirect('/api/v1/auth/register');\n  }\n\n  return next();\n};\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAEO,MAAMC,eAAe,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACjD,MAAM;IACJC,IAAI;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EACrB,CAAC,GAAGN,GAAG,CAACO,IAAI;EAEZ,MAAM;IAAEC;EAAM,CAAC,GAAGC,qBAAa,CAACC,QAAQ,CAAC;IACvCP,IAAI;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EACrB,CAAC,CAAC;EACF,IAAIE,KAAK,EAAE;IACT,MAAMG,MAAM,GAAGH,KAAK,CAACI,OAAO,CAACC,GAAG,CAAEC,GAAG,IAAKA,GAAG,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;IAChEhB,GAAG,CAACiB,KAAK,CAAC,OAAO,EAAEN,MAAM,CAAC;IAC1B,OAAOV,GAAG,CAACiB,QAAQ,CAAC,sBAAsB,CAAC;EAC7C;EACA,OAAOhB,IAAI,EAAE;AACf,CAAC;AAACiB,OAAA,CAAApB,eAAA,GAAAA,eAAA;AAEK,MAAMqB,YAAY,GAAGA,CAACpB,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC9C,MAAM;IACJmB,KAAK;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAC7B,CAAC,GAAGxB,GAAG,CAACO,IAAI;EAEZ,MAAM;IAAEC;EAAM,CAAC,GAAGiB,kBAAU,CAACf,QAAQ,CAAC;IACpCW,KAAK;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAC7B,CAAC,CAAC;EAEF,IAAIhB,KAAK,EAAE;IACT,IAAIA,KAAK,CAACI,OAAO,CAAC,CAAC,CAAC,CAACc,IAAI,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;MAC9C3B,GAAG,CAACiB,KAAK,CAAC,OAAO,EAAE,2GAA2G,CAAC;IACjI,CAAC,MAAM;MACL,MAAMN,MAAM,GAAGH,KAAK,CAACI,OAAO,CAACC,GAAG,CAAEC,GAAG,IAAKA,GAAG,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;MAChEhB,GAAG,CAACiB,KAAK,CAAC,OAAO,EAAEN,MAAM,CAAC;IAC5B;IACA,OAAOV,GAAG,CAACiB,QAAQ,CAAC,uBAAuB,CAAC;EAC9C;EAEA,OAAOhB,IAAI,EAAE;AACf,CAAC;AAACiB,OAAA,CAAAC,YAAA,GAAAA,YAAA"}},"mtime":1679212262813},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/schema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userSchema = exports.productSchema = void 0;\nvar _joi = _interopRequireDefault(require(\"joi\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productSchema = _joi.default.object({\n  name: _joi.default.string().alphanum().min(3).max(15).required(),\n  price: _joi.default.number().min(0).max(Number.MAX_SAFE_INTEGER).required(),\n  imageUrl: _joi.default.string().required(),\n  desc: _joi.default.string().min(10).max(100).required()\n});\nexports.productSchema = productSchema;\nconst userSchema = _joi.default.object({\n  username: _joi.default.string().alphanum().min(3).max(20).required(),\n  password: _joi.default.string().min(4).max(20).pattern(new RegExp('^[a-zA-Z0-9]{3,30}$')).required(),\n  email: _joi.default.string().email().required(),\n  role: _joi.default.string().required()\n});\n\n// create review schema yourself\nexports.userSchema = userSchema;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfam9pIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInByb2R1Y3RTY2hlbWEiLCJKb2kiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwiYWxwaGFudW0iLCJtaW4iLCJtYXgiLCJyZXF1aXJlZCIsInByaWNlIiwibnVtYmVyIiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsImltYWdlVXJsIiwiZGVzYyIsImV4cG9ydHMiLCJ1c2VyU2NoZW1hIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInBhdHRlcm4iLCJSZWdFeHAiLCJlbWFpbCIsInJvbGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvdmFsaWRhdGlvbnMvIiwic291cmNlcyI6WyJzY2hlbWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpvaSBmcm9tICdqb2knO1xuXG5leHBvcnQgY29uc3QgcHJvZHVjdFNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBuYW1lOiBKb2kuc3RyaW5nKClcbiAgICAuYWxwaGFudW0oKVxuICAgIC5taW4oMylcbiAgICAubWF4KDE1KVxuICAgIC5yZXF1aXJlZCgpLFxuXG4gIHByaWNlOiBKb2kubnVtYmVyKClcbiAgICAubWluKDApXG4gICAgLm1heChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUilcbiAgICAucmVxdWlyZWQoKSxcblxuICBpbWFnZVVybDogSm9pLnN0cmluZygpXG4gICAgLnJlcXVpcmVkKCksXG5cbiAgZGVzYzogSm9pLnN0cmluZygpXG4gICAgLm1pbigxMClcbiAgICAubWF4KDEwMClcbiAgICAucmVxdWlyZWQoKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgdXNlclNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICB1c2VybmFtZTogSm9pLnN0cmluZygpXG4gICAgLmFscGhhbnVtKClcbiAgICAubWluKDMpXG4gICAgLm1heCgyMClcbiAgICAucmVxdWlyZWQoKSxcblxuICBwYXNzd29yZDogSm9pLnN0cmluZygpXG4gICAgLm1pbig0KVxuICAgIC5tYXgoMjApXG4gICAgLnBhdHRlcm4obmV3IFJlZ0V4cCgnXlthLXpBLVowLTldezMsMzB9JCcpKVxuICAgIC5yZXF1aXJlZCgpLFxuXG4gIGVtYWlsOiBKb2kuc3RyaW5nKClcbiAgICAuZW1haWwoKVxuICAgIC5yZXF1aXJlZCgpLFxuXG4gIHJvbGU6IEpvaS5zdHJpbmcoKVxuICAgIC5yZXF1aXJlZCgpLFxufSk7XG5cbi8vIGNyZWF0ZSByZXZpZXcgc2NoZW1hIHlvdXJzZWxmXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLElBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUVmLE1BQU1HLGFBQWEsR0FBR0MsWUFBRyxDQUFDQyxNQUFNLENBQUM7RUFDdENDLElBQUksRUFBRUYsWUFBRyxDQUFDRyxNQUFNLEVBQUUsQ0FDZkMsUUFBUSxFQUFFLENBQ1ZDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FDTkMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUNQQyxRQUFRLEVBQUU7RUFFYkMsS0FBSyxFQUFFUixZQUFHLENBQUNTLE1BQU0sRUFBRSxDQUNoQkosR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUNOQyxHQUFHLENBQUNJLE1BQU0sQ0FBQ0MsZ0JBQWdCLENBQUMsQ0FDNUJKLFFBQVEsRUFBRTtFQUViSyxRQUFRLEVBQUVaLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQ25CSSxRQUFRLEVBQUU7RUFFYk0sSUFBSSxFQUFFYixZQUFHLENBQUNHLE1BQU0sRUFBRSxDQUNmRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQ1BDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FDUkMsUUFBUTtBQUNiLENBQUMsQ0FBQztBQUFDTyxPQUFBLENBQUFmLGFBQUEsR0FBQUEsYUFBQTtBQUVJLE1BQU1nQixVQUFVLEdBQUdmLFlBQUcsQ0FBQ0MsTUFBTSxDQUFDO0VBQ25DZSxRQUFRLEVBQUVoQixZQUFHLENBQUNHLE1BQU0sRUFBRSxDQUNuQkMsUUFBUSxFQUFFLENBQ1ZDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FDTkMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUNQQyxRQUFRLEVBQUU7RUFFYlUsUUFBUSxFQUFFakIsWUFBRyxDQUFDRyxNQUFNLEVBQUUsQ0FDbkJFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FDTkMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUNQWSxPQUFPLENBQUMsSUFBSUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FDMUNaLFFBQVEsRUFBRTtFQUViYSxLQUFLLEVBQUVwQixZQUFHLENBQUNHLE1BQU0sRUFBRSxDQUNoQmlCLEtBQUssRUFBRSxDQUNQYixRQUFRLEVBQUU7RUFFYmMsSUFBSSxFQUFFckIsWUFBRyxDQUFDRyxNQUFNLEVBQUUsQ0FDZkksUUFBUTtBQUNiLENBQUMsQ0FBQzs7QUFFRjtBQUFBTyxPQUFBLENBQUFDLFVBQUEsR0FBQUEsVUFBQSJ9","map":{"version":3,"names":["_joi","_interopRequireDefault","require","obj","__esModule","default","productSchema","Joi","object","name","string","alphanum","min","max","required","price","number","Number","MAX_SAFE_INTEGER","imageUrl","desc","exports","userSchema","username","password","pattern","RegExp","email","role"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/","sources":["schema.js"],"sourcesContent":["import Joi from 'joi';\n\nexport const productSchema = Joi.object({\n  name: Joi.string()\n    .alphanum()\n    .min(3)\n    .max(15)\n    .required(),\n\n  price: Joi.number()\n    .min(0)\n    .max(Number.MAX_SAFE_INTEGER)\n    .required(),\n\n  imageUrl: Joi.string()\n    .required(),\n\n  desc: Joi.string()\n    .min(10)\n    .max(100)\n    .required(),\n});\n\nexport const userSchema = Joi.object({\n  username: Joi.string()\n    .alphanum()\n    .min(3)\n    .max(20)\n    .required(),\n\n  password: Joi.string()\n    .min(4)\n    .max(20)\n    .pattern(new RegExp('^[a-zA-Z0-9]{3,30}$'))\n    .required(),\n\n  email: Joi.string()\n    .email()\n    .required(),\n\n  role: Joi.string()\n    .required(),\n});\n\n// create review schema yourself\n"],"mappings":";;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEf,MAAMG,aAAa,GAAGC,YAAG,CAACC,MAAM,CAAC;EACtCC,IAAI,EAAEF,YAAG,CAACG,MAAM,EAAE,CACfC,QAAQ,EAAE,CACVC,GAAG,CAAC,CAAC,CAAC,CACNC,GAAG,CAAC,EAAE,CAAC,CACPC,QAAQ,EAAE;EAEbC,KAAK,EAAER,YAAG,CAACS,MAAM,EAAE,CAChBJ,GAAG,CAAC,CAAC,CAAC,CACNC,GAAG,CAACI,MAAM,CAACC,gBAAgB,CAAC,CAC5BJ,QAAQ,EAAE;EAEbK,QAAQ,EAAEZ,YAAG,CAACG,MAAM,EAAE,CACnBI,QAAQ,EAAE;EAEbM,IAAI,EAAEb,YAAG,CAACG,MAAM,EAAE,CACfE,GAAG,CAAC,EAAE,CAAC,CACPC,GAAG,CAAC,GAAG,CAAC,CACRC,QAAQ;AACb,CAAC,CAAC;AAACO,OAAA,CAAAf,aAAA,GAAAA,aAAA;AAEI,MAAMgB,UAAU,GAAGf,YAAG,CAACC,MAAM,CAAC;EACnCe,QAAQ,EAAEhB,YAAG,CAACG,MAAM,EAAE,CACnBC,QAAQ,EAAE,CACVC,GAAG,CAAC,CAAC,CAAC,CACNC,GAAG,CAAC,EAAE,CAAC,CACPC,QAAQ,EAAE;EAEbU,QAAQ,EAAEjB,YAAG,CAACG,MAAM,EAAE,CACnBE,GAAG,CAAC,CAAC,CAAC,CACNC,GAAG,CAAC,EAAE,CAAC,CACPY,OAAO,CAAC,IAAIC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAC1CZ,QAAQ,EAAE;EAEba,KAAK,EAAEpB,YAAG,CAACG,MAAM,EAAE,CAChBiB,KAAK,EAAE,CACPb,QAAQ,EAAE;EAEbc,IAAI,EAAErB,YAAG,CAACG,MAAM,EAAE,CACfI,QAAQ;AACb,CAAC,CAAC;;AAEF;AAAAO,OAAA,CAAAC,UAAA,GAAAA,UAAA"}},"mtime":1679212195729},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/ApiError.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NotFoundError = exports.InteralServerError = exports.BadRequestError = void 0;\nvar _statusCode = _interopRequireDefault(require(\"./statusCode\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nclass NotFoundError extends Error {\n  constructor(message = 'Not Found') {\n    super(message);\n    this.statusCode = _statusCode.default.NOT_FOUND;\n  }\n}\nexports.NotFoundError = NotFoundError;\nclass InteralServerError extends Error {\n  constructor(message = 'Internal Error') {\n    super(message);\n    this.statusCode = _statusCode.default.INTERNAL_ERROR;\n  }\n}\nexports.InteralServerError = InteralServerError;\nclass BadRequestError extends Error {\n  constructor(message = 'Bad Request') {\n    super(message);\n    this.statusCode = _statusCode.default.BAD_REQUEST;\n  }\n}\nexports.BadRequestError = BadRequestError;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc3RhdHVzQ29kZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJOb3RGb3VuZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiUmVzcG9uc2VTdGF0dXMiLCJOT1RfRk9VTkQiLCJleHBvcnRzIiwiSW50ZXJhbFNlcnZlckVycm9yIiwiSU5URVJOQUxfRVJST1IiLCJCYWRSZXF1ZXN0RXJyb3IiLCJCQURfUkVRVUVTVCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9jb3JlLyIsInNvdXJjZXMiOlsiQXBpRXJyb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlc3BvbnNlU3RhdHVzIGZyb20gJy4vc3RhdHVzQ29kZSc7XG5cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ05vdCBGb3VuZCcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBSZXNwb25zZVN0YXR1cy5OT1RfRk9VTkQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSA9ICdJbnRlcm5hbCBFcnJvcicpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBSZXNwb25zZVN0YXR1cy5JTlRFUk5BTF9FUlJPUjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFkUmVxdWVzdEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ0JhZCBSZXF1ZXN0Jykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IFJlc3BvbnNlU3RhdHVzLkJBRF9SRVFVRVNUO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUVuQyxNQUFNRyxhQUFhLFNBQVNDLEtBQUssQ0FBQztFQUN2Q0MsV0FBV0EsQ0FBQ0MsT0FBTyxHQUFHLFdBQVcsRUFBRTtJQUNqQyxLQUFLLENBQUNBLE9BQU8sQ0FBQztJQUNkLElBQUksQ0FBQ0MsVUFBVSxHQUFHQyxtQkFBYyxDQUFDQyxTQUFTO0VBQzVDO0FBQ0Y7QUFBQ0MsT0FBQSxDQUFBUCxhQUFBLEdBQUFBLGFBQUE7QUFFTSxNQUFNUSxrQkFBa0IsU0FBU1AsS0FBSyxDQUFDO0VBQzVDQyxXQUFXQSxDQUFDQyxPQUFPLEdBQUcsZ0JBQWdCLEVBQUU7SUFDdEMsS0FBSyxDQUFDQSxPQUFPLENBQUM7SUFDZCxJQUFJLENBQUNDLFVBQVUsR0FBR0MsbUJBQWMsQ0FBQ0ksY0FBYztFQUNqRDtBQUNGO0FBQUNGLE9BQUEsQ0FBQUMsa0JBQUEsR0FBQUEsa0JBQUE7QUFFTSxNQUFNRSxlQUFlLFNBQVNULEtBQUssQ0FBQztFQUN6Q0MsV0FBV0EsQ0FBQ0MsT0FBTyxHQUFHLGFBQWEsRUFBRTtJQUNuQyxLQUFLLENBQUNBLE9BQU8sQ0FBQztJQUNkLElBQUksQ0FBQ0MsVUFBVSxHQUFHQyxtQkFBYyxDQUFDTSxXQUFXO0VBQzlDO0FBQ0Y7QUFBQ0osT0FBQSxDQUFBRyxlQUFBLEdBQUFBLGVBQUEifQ==","map":{"version":3,"names":["_statusCode","_interopRequireDefault","require","obj","__esModule","default","NotFoundError","Error","constructor","message","statusCode","ResponseStatus","NOT_FOUND","exports","InteralServerError","INTERNAL_ERROR","BadRequestError","BAD_REQUEST"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/","sources":["ApiError.js"],"sourcesContent":["import ResponseStatus from './statusCode';\n\nexport class NotFoundError extends Error {\n  constructor(message = 'Not Found') {\n    super(message);\n    this.statusCode = ResponseStatus.NOT_FOUND;\n  }\n}\n\nexport class InteralServerError extends Error {\n  constructor(message = 'Internal Error') {\n    super(message);\n    this.statusCode = ResponseStatus.INTERNAL_ERROR;\n  }\n}\n\nexport class BadRequestError extends Error {\n  constructor(message = 'Bad Request') {\n    super(message);\n    this.statusCode = ResponseStatus.BAD_REQUEST;\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0C,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnC,MAAMG,aAAa,SAASC,KAAK,CAAC;EACvCC,WAAWA,CAACC,OAAO,GAAG,WAAW,EAAE;IACjC,KAAK,CAACA,OAAO,CAAC;IACd,IAAI,CAACC,UAAU,GAAGC,mBAAc,CAACC,SAAS;EAC5C;AACF;AAACC,OAAA,CAAAP,aAAA,GAAAA,aAAA;AAEM,MAAMQ,kBAAkB,SAASP,KAAK,CAAC;EAC5CC,WAAWA,CAACC,OAAO,GAAG,gBAAgB,EAAE;IACtC,KAAK,CAACA,OAAO,CAAC;IACd,IAAI,CAACC,UAAU,GAAGC,mBAAc,CAACI,cAAc;EACjD;AACF;AAACF,OAAA,CAAAC,kBAAA,GAAAA,kBAAA;AAEM,MAAME,eAAe,SAAST,KAAK,CAAC;EACzCC,WAAWA,CAACC,OAAO,GAAG,aAAa,EAAE;IACnC,KAAK,CAACA,OAAO,CAAC;IACd,IAAI,CAACC,UAAU,GAAGC,mBAAc,CAACM,WAAW;EAC9C;AACF;AAACJ,OAAA,CAAAG,eAAA,GAAAA,eAAA"}},"mtime":1679199426016},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/statusCode.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst ResponseStatus = Object.freeze({\n  SUCCESS: 200,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  INTERNAL_ERROR: 500\n});\nvar _default = ResponseStatus;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXNwb25zZVN0YXR1cyIsIk9iamVjdCIsImZyZWV6ZSIsIlNVQ0NFU1MiLCJCQURfUkVRVUVTVCIsIlVOQVVUSE9SSVpFRCIsIkZPUkJJRERFTiIsIk5PVF9GT1VORCIsIklOVEVSTkFMX0VSUk9SIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9jb3JlLyIsInNvdXJjZXMiOlsic3RhdHVzQ29kZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBSZXNwb25zZVN0YXR1cyA9IE9iamVjdC5mcmVlemUoe1xuICBTVUNDRVNTOiAyMDAsXG4gIEJBRF9SRVFVRVNUOiA0MDAsXG4gIFVOQVVUSE9SSVpFRDogNDAxLFxuICBGT1JCSURERU46IDQwMyxcbiAgTk9UX0ZPVU5EOiA0MDQsXG4gIElOVEVSTkFMX0VSUk9SOiA1MDAsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmVzcG9uc2VTdGF0dXM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLGNBQWMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUM7RUFDbkNDLE9BQU8sRUFBRSxHQUFHO0VBQ1pDLFdBQVcsRUFBRSxHQUFHO0VBQ2hCQyxZQUFZLEVBQUUsR0FBRztFQUNqQkMsU0FBUyxFQUFFLEdBQUc7RUFDZEMsU0FBUyxFQUFFLEdBQUc7RUFDZEMsY0FBYyxFQUFFO0FBQ2xCLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFWVQsY0FBYztBQUFBVSxPQUFBLENBQUFDLE9BQUEsR0FBQUYsUUFBQSJ9","map":{"version":3,"names":["ResponseStatus","Object","freeze","SUCCESS","BAD_REQUEST","UNAUTHORIZED","FORBIDDEN","NOT_FOUND","INTERNAL_ERROR","_default","exports","default"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/core/","sources":["statusCode.js"],"sourcesContent":["const ResponseStatus = Object.freeze({\n  SUCCESS: 200,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  INTERNAL_ERROR: 500,\n});\n\nexport default ResponseStatus;\n"],"mappings":";;;;;;AAAA,MAAMA,cAAc,GAAGC,MAAM,CAACC,MAAM,CAAC;EACnCC,OAAO,EAAE,GAAG;EACZC,WAAW,EAAE,GAAG;EAChBC,YAAY,EAAE,GAAG;EACjBC,SAAS,EAAE,GAAG;EACdC,SAAS,EAAE,GAAG;EACdC,cAAc,EAAE;AAClB,CAAC,CAAC;AAAC,IAAAC,QAAA,GAEYT,cAAc;AAAAU,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1679199426017},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/middleware/authMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSeller = exports.default = void 0;\nconst isLoggedIn = (req, res, next) => {\n  if (!req.isAuthenticated()) {\n    req.flash('error', 'You need login first to do this!');\n    return res.redirect('/api/v1/auth/login');\n  }\n  return next();\n};\nconst isSeller = (req, res, next) => {\n  if (req.user.role === 'seller') {\n    return next();\n  }\n  req.flash('error', 'Only user with seller account can create the product');\n  return res.redirect('/api/v1/auth/login');\n};\nexports.isSeller = isSeller;\nvar _default = isLoggedIn;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc0xvZ2dlZEluIiwicmVxIiwicmVzIiwibmV4dCIsImlzQXV0aGVudGljYXRlZCIsImZsYXNoIiwicmVkaXJlY3QiLCJpc1NlbGxlciIsInVzZXIiLCJyb2xlIiwiZXhwb3J0cyIsIl9kZWZhdWx0IiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsiYXV0aE1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaXNMb2dnZWRJbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBpZiAoIXJlcS5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgIHJlcS5mbGFzaCgnZXJyb3InLCAnWW91IG5lZWQgbG9naW4gZmlyc3QgdG8gZG8gdGhpcyEnKTtcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KCcvYXBpL3YxL2F1dGgvbG9naW4nKTtcbiAgfVxuICByZXR1cm4gbmV4dCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2VsbGVyID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlci5yb2xlID09PSAnc2VsbGVyJykge1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH1cbiAgcmVxLmZsYXNoKCdlcnJvcicsICdPbmx5IHVzZXIgd2l0aCBzZWxsZXIgYWNjb3VudCBjYW4gY3JlYXRlIHRoZSBwcm9kdWN0Jyk7XG4gIHJldHVybiByZXMucmVkaXJlY3QoJy9hcGkvdjEvYXV0aC9sb2dpbicpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0xvZ2dlZEluO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxNQUFNQSxVQUFVLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDckMsSUFBSSxDQUFDRixHQUFHLENBQUNHLGVBQWUsRUFBRSxFQUFFO0lBQzFCSCxHQUFHLENBQUNJLEtBQUssQ0FBQyxPQUFPLEVBQUUsa0NBQWtDLENBQUM7SUFDdEQsT0FBT0gsR0FBRyxDQUFDSSxRQUFRLENBQUMsb0JBQW9CLENBQUM7RUFDM0M7RUFDQSxPQUFPSCxJQUFJLEVBQUU7QUFDZixDQUFDO0FBRU0sTUFBTUksUUFBUSxHQUFHQSxDQUFDTixHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQzFDLElBQUlGLEdBQUcsQ0FBQ08sSUFBSSxDQUFDQyxJQUFJLEtBQUssUUFBUSxFQUFFO0lBQzlCLE9BQU9OLElBQUksRUFBRTtFQUNmO0VBQ0FGLEdBQUcsQ0FBQ0ksS0FBSyxDQUFDLE9BQU8sRUFBRSxzREFBc0QsQ0FBQztFQUMxRSxPQUFPSCxHQUFHLENBQUNJLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQztBQUMzQyxDQUFDO0FBQUFJLE9BQUEsQ0FBQUgsUUFBQSxHQUFBQSxRQUFBO0FBQUEsSUFBQUksUUFBQSxHQUVjWCxVQUFVO0FBQUFVLE9BQUEsQ0FBQUUsT0FBQSxHQUFBRCxRQUFBIn0=","map":{"version":3,"names":["isLoggedIn","req","res","next","isAuthenticated","flash","redirect","isSeller","user","role","exports","_default","default"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/middleware/","sources":["authMiddleware.js"],"sourcesContent":["const isLoggedIn = (req, res, next) => {\n  if (!req.isAuthenticated()) {\n    req.flash('error', 'You need login first to do this!');\n    return res.redirect('/api/v1/auth/login');\n  }\n  return next();\n};\n\nexport const isSeller = (req, res, next) => {\n  if (req.user.role === 'seller') {\n    return next();\n  }\n  req.flash('error', 'Only user with seller account can create the product');\n  return res.redirect('/api/v1/auth/login');\n}\n\nexport default isLoggedIn;\n"],"mappings":";;;;;;AAAA,MAAMA,UAAU,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACrC,IAAI,CAACF,GAAG,CAACG,eAAe,EAAE,EAAE;IAC1BH,GAAG,CAACI,KAAK,CAAC,OAAO,EAAE,kCAAkC,CAAC;IACtD,OAAOH,GAAG,CAACI,QAAQ,CAAC,oBAAoB,CAAC;EAC3C;EACA,OAAOH,IAAI,EAAE;AACf,CAAC;AAEM,MAAMI,QAAQ,GAAGA,CAACN,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1C,IAAIF,GAAG,CAACO,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;IAC9B,OAAON,IAAI,EAAE;EACf;EACAF,GAAG,CAACI,KAAK,CAAC,OAAO,EAAE,sDAAsD,CAAC;EAC1E,OAAOH,GAAG,CAACI,QAAQ,CAAC,oBAAoB,CAAC;AAC3C,CAAC;AAAAI,OAAA,CAAAH,QAAA,GAAAA,QAAA;AAAA,IAAAI,QAAA,GAEcX,UAAU;AAAAU,OAAA,CAAAE,OAAA,GAAAD,QAAA"}},"mtime":1679211720072},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/validator.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateUser = exports.validateProduct = void 0;\nvar _schema = require(\"./schema\");\nconst validateProduct = (req, res, next) => {\n  const {\n    name,\n    price,\n    desc,\n    imageUrl\n  } = req.body;\n  const {\n    error\n  } = _schema.productSchema.validate({\n    name,\n    price,\n    desc,\n    imageUrl\n  });\n  if (error) {\n    const errMsg = error.details.map(err => err.message).join(',');\n    req.flash('error', errMsg);\n    return res.redirect('/api/v1/products/new');\n  }\n  return next();\n};\nexports.validateProduct = validateProduct;\nconst validateUser = (req, res, next) => {\n  const {\n    email,\n    username,\n    password,\n    role\n  } = req.body;\n  const {\n    error\n  } = _schema.userSchema.validate({\n    email,\n    username,\n    password,\n    role\n  });\n  if (error) {\n    if (error.details[0].path.includes('password')) {\n      req.flash('error', 'Password must contain minimum eight characters, at least one letter, one number and one special character');\n    } else {\n      const errMsg = error.details.map(err => err.message).join(',');\n      req.flash('error', errMsg);\n    }\n    console.log(error.details);\n    return res.redirect('/api/v1/auth/register');\n  }\n  return next();\n};\nexports.validateUser = validateUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc2NoZW1hIiwicmVxdWlyZSIsInZhbGlkYXRlUHJvZHVjdCIsInJlcSIsInJlcyIsIm5leHQiLCJuYW1lIiwicHJpY2UiLCJkZXNjIiwiaW1hZ2VVcmwiLCJib2R5IiwiZXJyb3IiLCJwcm9kdWN0U2NoZW1hIiwidmFsaWRhdGUiLCJlcnJNc2ciLCJkZXRhaWxzIiwibWFwIiwiZXJyIiwibWVzc2FnZSIsImpvaW4iLCJmbGFzaCIsInJlZGlyZWN0IiwiZXhwb3J0cyIsInZhbGlkYXRlVXNlciIsImVtYWlsIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJvbGUiLCJ1c2VyU2NoZW1hIiwicGF0aCIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy92YWxpZGF0aW9ucy8iLCJzb3VyY2VzIjpbInZhbGlkYXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm9kdWN0U2NoZW1hLCB1c2VyU2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVQcm9kdWN0ID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBuYW1lLCBwcmljZSwgZGVzYywgaW1hZ2VVcmwsXG4gIH0gPSByZXEuYm9keTtcblxuICBjb25zdCB7IGVycm9yIH0gPSBwcm9kdWN0U2NoZW1hLnZhbGlkYXRlKHtcbiAgICBuYW1lLCBwcmljZSwgZGVzYywgaW1hZ2VVcmwsXG4gIH0pO1xuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zdCBlcnJNc2cgPSBlcnJvci5kZXRhaWxzLm1hcCgoZXJyKSA9PiBlcnIubWVzc2FnZSkuam9pbignLCcpO1xuICAgIHJlcS5mbGFzaCgnZXJyb3InLCBlcnJNc2cpO1xuICAgIHJldHVybiByZXMucmVkaXJlY3QoJy9hcGkvdjEvcHJvZHVjdHMvbmV3Jyk7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVVzZXIgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgeyBlbWFpbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByb2xlIH0gPSByZXEuYm9keTtcblxuICBjb25zdCB7IGVycm9yIH0gPSB1c2VyU2NoZW1hLnZhbGlkYXRlKHsgZW1haWwsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IuZGV0YWlsc1swXS5wYXRoLmluY2x1ZGVzKCdwYXNzd29yZCcpKSB7XG4gICAgICByZXEuZmxhc2goJ2Vycm9yJywgJ1Bhc3N3b3JkIG11c3QgY29udGFpbiBtaW5pbXVtIGVpZ2h0IGNoYXJhY3RlcnMsIGF0IGxlYXN0IG9uZSBsZXR0ZXIsIG9uZSBudW1iZXIgYW5kIG9uZSBzcGVjaWFsIGNoYXJhY3RlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJNc2cgPSBlcnJvci5kZXRhaWxzLm1hcCgoZXJyKSA9PiBlcnIubWVzc2FnZSkuam9pbignLCcpO1xuICAgICAgcmVxLmZsYXNoKCdlcnJvcicsIGVyck1zZyk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGVycm9yLmRldGFpbHMpO1xuICAgIHJldHVybiByZXMucmVkaXJlY3QoJy9hcGkvdjEvYXV0aC9yZWdpc3RlcicpO1xuICB9XG5cbiAgcmV0dXJuIG5leHQoKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBRU8sTUFBTUMsZUFBZSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ2pELE1BQU07SUFDSkMsSUFBSTtJQUFFQyxLQUFLO0lBQUVDLElBQUk7SUFBRUM7RUFDckIsQ0FBQyxHQUFHTixHQUFHLENBQUNPLElBQUk7RUFFWixNQUFNO0lBQUVDO0VBQU0sQ0FBQyxHQUFHQyxxQkFBYSxDQUFDQyxRQUFRLENBQUM7SUFDdkNQLElBQUk7SUFBRUMsS0FBSztJQUFFQyxJQUFJO0lBQUVDO0VBQ3JCLENBQUMsQ0FBQztFQUNGLElBQUlFLEtBQUssRUFBRTtJQUNULE1BQU1HLE1BQU0sR0FBR0gsS0FBSyxDQUFDSSxPQUFPLENBQUNDLEdBQUcsQ0FBRUMsR0FBRyxJQUFLQSxHQUFHLENBQUNDLE9BQU8sQ0FBQyxDQUFDQyxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ2hFaEIsR0FBRyxDQUFDaUIsS0FBSyxDQUFDLE9BQU8sRUFBRU4sTUFBTSxDQUFDO0lBQzFCLE9BQU9WLEdBQUcsQ0FBQ2lCLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQztFQUM3QztFQUNBLE9BQU9oQixJQUFJLEVBQUU7QUFDZixDQUFDO0FBQUNpQixPQUFBLENBQUFwQixlQUFBLEdBQUFBLGVBQUE7QUFFSyxNQUFNcUIsWUFBWSxHQUFHQSxDQUFDcEIsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUM5QyxNQUFNO0lBQUVtQixLQUFLO0lBQUVDLFFBQVE7SUFBRUMsUUFBUTtJQUFFQztFQUFLLENBQUMsR0FBR3hCLEdBQUcsQ0FBQ08sSUFBSTtFQUVwRCxNQUFNO0lBQUVDO0VBQU0sQ0FBQyxHQUFHaUIsa0JBQVUsQ0FBQ2YsUUFBUSxDQUFDO0lBQUVXLEtBQUs7SUFBRUMsUUFBUTtJQUFFQyxRQUFRO0lBQUVDO0VBQUssQ0FBQyxDQUFDO0VBRTFFLElBQUloQixLQUFLLEVBQUU7SUFDVCxJQUFJQSxLQUFLLENBQUNJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ2MsSUFBSSxDQUFDQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUU7TUFDOUMzQixHQUFHLENBQUNpQixLQUFLLENBQUMsT0FBTyxFQUFFLDJHQUEyRyxDQUFDO0lBQ2pJLENBQUMsTUFBTTtNQUNMLE1BQU1OLE1BQU0sR0FBR0gsS0FBSyxDQUFDSSxPQUFPLENBQUNDLEdBQUcsQ0FBRUMsR0FBRyxJQUFLQSxHQUFHLENBQUNDLE9BQU8sQ0FBQyxDQUFDQyxJQUFJLENBQUMsR0FBRyxDQUFDO01BQ2hFaEIsR0FBRyxDQUFDaUIsS0FBSyxDQUFDLE9BQU8sRUFBRU4sTUFBTSxDQUFDO0lBQzVCO0lBQ0FpQixPQUFPLENBQUNDLEdBQUcsQ0FBQ3JCLEtBQUssQ0FBQ0ksT0FBTyxDQUFDO0lBQzFCLE9BQU9YLEdBQUcsQ0FBQ2lCLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztFQUM5QztFQUVBLE9BQU9oQixJQUFJLEVBQUU7QUFDZixDQUFDO0FBQUFpQixPQUFBLENBQUFDLFlBQUEsR0FBQUEsWUFBQSJ9","map":{"version":3,"names":["_schema","require","validateProduct","req","res","next","name","price","desc","imageUrl","body","error","productSchema","validate","errMsg","details","map","err","message","join","flash","redirect","exports","validateUser","email","username","password","role","userSchema","path","includes","console","log"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/","sources":["validator.js"],"sourcesContent":["import { productSchema, userSchema } from './schema';\n\nexport const validateProduct = (req, res, next) => {\n  const {\n    name, price, desc, imageUrl,\n  } = req.body;\n\n  const { error } = productSchema.validate({\n    name, price, desc, imageUrl,\n  });\n  if (error) {\n    const errMsg = error.details.map((err) => err.message).join(',');\n    req.flash('error', errMsg);\n    return res.redirect('/api/v1/products/new');\n  }\n  return next();\n};\n\nexport const validateUser = (req, res, next) => {\n  const { email, username, password, role } = req.body;\n\n  const { error } = userSchema.validate({ email, username, password, role });\n\n  if (error) {\n    if (error.details[0].path.includes('password')) {\n      req.flash('error', 'Password must contain minimum eight characters, at least one letter, one number and one special character');\n    } else {\n      const errMsg = error.details.map((err) => err.message).join(',');\n      req.flash('error', errMsg);\n    }\n    console.log(error.details);\n    return res.redirect('/api/v1/auth/register');\n  }\n\n  return next();\n}\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAEO,MAAMC,eAAe,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACjD,MAAM;IACJC,IAAI;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EACrB,CAAC,GAAGN,GAAG,CAACO,IAAI;EAEZ,MAAM;IAAEC;EAAM,CAAC,GAAGC,qBAAa,CAACC,QAAQ,CAAC;IACvCP,IAAI;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EACrB,CAAC,CAAC;EACF,IAAIE,KAAK,EAAE;IACT,MAAMG,MAAM,GAAGH,KAAK,CAACI,OAAO,CAACC,GAAG,CAAEC,GAAG,IAAKA,GAAG,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;IAChEhB,GAAG,CAACiB,KAAK,CAAC,OAAO,EAAEN,MAAM,CAAC;IAC1B,OAAOV,GAAG,CAACiB,QAAQ,CAAC,sBAAsB,CAAC;EAC7C;EACA,OAAOhB,IAAI,EAAE;AACf,CAAC;AAACiB,OAAA,CAAApB,eAAA,GAAAA,eAAA;AAEK,MAAMqB,YAAY,GAAGA,CAACpB,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC9C,MAAM;IAAEmB,KAAK;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAAK,CAAC,GAAGxB,GAAG,CAACO,IAAI;EAEpD,MAAM;IAAEC;EAAM,CAAC,GAAGiB,kBAAU,CAACf,QAAQ,CAAC;IAAEW,KAAK;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAAK,CAAC,CAAC;EAE1E,IAAIhB,KAAK,EAAE;IACT,IAAIA,KAAK,CAACI,OAAO,CAAC,CAAC,CAAC,CAACc,IAAI,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;MAC9C3B,GAAG,CAACiB,KAAK,CAAC,OAAO,EAAE,2GAA2G,CAAC;IACjI,CAAC,MAAM;MACL,MAAMN,MAAM,GAAGH,KAAK,CAACI,OAAO,CAACC,GAAG,CAAEC,GAAG,IAAKA,GAAG,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;MAChEhB,GAAG,CAACiB,KAAK,CAAC,OAAO,EAAEN,MAAM,CAAC;IAC5B;IACAiB,OAAO,CAACC,GAAG,CAACrB,KAAK,CAACI,OAAO,CAAC;IAC1B,OAAOX,GAAG,CAACiB,QAAQ,CAAC,uBAAuB,CAAC;EAC9C;EAEA,OAAOhB,IAAI,EAAE;AACf,CAAC;AAAAiB,OAAA,CAAAC,YAAA,GAAAA,YAAA"}},"mtime":1679210721131},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/schema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userSchema = exports.productSchema = void 0;\nvar _joi = _interopRequireDefault(require(\"joi\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productSchema = _joi.default.object({\n  name: _joi.default.string().alphanum().min(3).max(15).required(),\n  price: _joi.default.number().min(0).max(Number.MAX_SAFE_INTEGER).required(),\n  imageUrl: _joi.default.string().required(),\n  desc: _joi.default.string().min(10).max(100).required()\n});\nexports.productSchema = productSchema;\nconst userSchema = _joi.default.object({\n  username: _joi.default.string().alphanum().min(3).max(20).required(),\n  password: _joi.default.string().min(4).max(20).pattern(new RegExp('^[a-zA-Z0-9]{3,30}$')).required(),\n  email: _joi.default.string().email().required(),\n  role: _joi.default.string().required()\n});\n\n// create review schema yourself\nexports.userSchema = userSchema;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfam9pIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInByb2R1Y3RTY2hlbWEiLCJKb2kiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwiYWxwaGFudW0iLCJtaW4iLCJtYXgiLCJyZXF1aXJlZCIsInByaWNlIiwibnVtYmVyIiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsImltYWdlVXJsIiwiZGVzYyIsImV4cG9ydHMiLCJ1c2VyU2NoZW1hIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInBhdHRlcm4iLCJSZWdFeHAiLCJlbWFpbCIsInJvbGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvdmFsaWRhdGlvbnMvIiwic291cmNlcyI6WyJzY2hlbWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpvaSBmcm9tICdqb2knO1xuXG5leHBvcnQgY29uc3QgcHJvZHVjdFNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBuYW1lOiBKb2kuc3RyaW5nKClcbiAgICAuYWxwaGFudW0oKVxuICAgIC5taW4oMylcbiAgICAubWF4KDE1KVxuICAgIC5yZXF1aXJlZCgpLFxuXG4gIHByaWNlOiBKb2kubnVtYmVyKClcbiAgICAubWluKDApXG4gICAgLm1heChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUilcbiAgICAucmVxdWlyZWQoKSxcblxuICBpbWFnZVVybDogSm9pLnN0cmluZygpXG4gICAgLnJlcXVpcmVkKCksXG5cbiAgZGVzYzogSm9pLnN0cmluZygpXG4gICAgLm1pbigxMClcbiAgICAubWF4KDEwMClcbiAgICAucmVxdWlyZWQoKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgdXNlclNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICB1c2VybmFtZTogSm9pLnN0cmluZygpXG4gICAgLmFscGhhbnVtKClcbiAgICAubWluKDMpXG4gICAgLm1heCgyMClcbiAgICAucmVxdWlyZWQoKSxcblxuICBwYXNzd29yZDogSm9pLnN0cmluZygpXG4gICAgLm1pbig0KVxuICAgIC5tYXgoMjApXG4gICAgLnBhdHRlcm4obmV3IFJlZ0V4cCgnXlthLXpBLVowLTldezMsMzB9JCcpKVxuICAgIC5yZXF1aXJlZCgpLFxuXG4gIGVtYWlsOiBKb2kuc3RyaW5nKClcbiAgICAuZW1haWwoKVxuICAgIC5yZXF1aXJlZCgpLFxuICBcbiAgcm9sZTogSm9pLnN0cmluZygpXG4gIC5yZXF1aXJlZCgpXG59KTtcblxuLy8gY3JlYXRlIHJldmlldyBzY2hlbWEgeW91cnNlbGZcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsSUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWYsTUFBTUcsYUFBYSxHQUFHQyxZQUFHLENBQUNDLE1BQU0sQ0FBQztFQUN0Q0MsSUFBSSxFQUFFRixZQUFHLENBQUNHLE1BQU0sRUFBRSxDQUNmQyxRQUFRLEVBQUUsQ0FDVkMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUNOQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQ1BDLFFBQVEsRUFBRTtFQUViQyxLQUFLLEVBQUVSLFlBQUcsQ0FBQ1MsTUFBTSxFQUFFLENBQ2hCSixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQ05DLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDQyxnQkFBZ0IsQ0FBQyxDQUM1QkosUUFBUSxFQUFFO0VBRWJLLFFBQVEsRUFBRVosWUFBRyxDQUFDRyxNQUFNLEVBQUUsQ0FDbkJJLFFBQVEsRUFBRTtFQUViTSxJQUFJLEVBQUViLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQ2ZFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FDUEMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUNSQyxRQUFRO0FBQ2IsQ0FBQyxDQUFDO0FBQUNPLE9BQUEsQ0FBQWYsYUFBQSxHQUFBQSxhQUFBO0FBRUksTUFBTWdCLFVBQVUsR0FBR2YsWUFBRyxDQUFDQyxNQUFNLENBQUM7RUFDbkNlLFFBQVEsRUFBRWhCLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQ25CQyxRQUFRLEVBQUUsQ0FDVkMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUNOQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQ1BDLFFBQVEsRUFBRTtFQUViVSxRQUFRLEVBQUVqQixZQUFHLENBQUNHLE1BQU0sRUFBRSxDQUNuQkUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUNOQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQ1BZLE9BQU8sQ0FBQyxJQUFJQyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUMxQ1osUUFBUSxFQUFFO0VBRWJhLEtBQUssRUFBRXBCLFlBQUcsQ0FBQ0csTUFBTSxFQUFFLENBQ2hCaUIsS0FBSyxFQUFFLENBQ1BiLFFBQVEsRUFBRTtFQUViYyxJQUFJLEVBQUVyQixZQUFHLENBQUNHLE1BQU0sRUFBRSxDQUNqQkksUUFBUTtBQUNYLENBQUMsQ0FBQzs7QUFFRjtBQUFBTyxPQUFBLENBQUFDLFVBQUEsR0FBQUEsVUFBQSJ9","map":{"version":3,"names":["_joi","_interopRequireDefault","require","obj","__esModule","default","productSchema","Joi","object","name","string","alphanum","min","max","required","price","number","Number","MAX_SAFE_INTEGER","imageUrl","desc","exports","userSchema","username","password","pattern","RegExp","email","role"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/validations/","sources":["schema.js"],"sourcesContent":["import Joi from 'joi';\n\nexport const productSchema = Joi.object({\n  name: Joi.string()\n    .alphanum()\n    .min(3)\n    .max(15)\n    .required(),\n\n  price: Joi.number()\n    .min(0)\n    .max(Number.MAX_SAFE_INTEGER)\n    .required(),\n\n  imageUrl: Joi.string()\n    .required(),\n\n  desc: Joi.string()\n    .min(10)\n    .max(100)\n    .required(),\n});\n\nexport const userSchema = Joi.object({\n  username: Joi.string()\n    .alphanum()\n    .min(3)\n    .max(20)\n    .required(),\n\n  password: Joi.string()\n    .min(4)\n    .max(20)\n    .pattern(new RegExp('^[a-zA-Z0-9]{3,30}$'))\n    .required(),\n\n  email: Joi.string()\n    .email()\n    .required(),\n  \n  role: Joi.string()\n  .required()\n});\n\n// create review schema yourself\n"],"mappings":";;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEf,MAAMG,aAAa,GAAGC,YAAG,CAACC,MAAM,CAAC;EACtCC,IAAI,EAAEF,YAAG,CAACG,MAAM,EAAE,CACfC,QAAQ,EAAE,CACVC,GAAG,CAAC,CAAC,CAAC,CACNC,GAAG,CAAC,EAAE,CAAC,CACPC,QAAQ,EAAE;EAEbC,KAAK,EAAER,YAAG,CAACS,MAAM,EAAE,CAChBJ,GAAG,CAAC,CAAC,CAAC,CACNC,GAAG,CAACI,MAAM,CAACC,gBAAgB,CAAC,CAC5BJ,QAAQ,EAAE;EAEbK,QAAQ,EAAEZ,YAAG,CAACG,MAAM,EAAE,CACnBI,QAAQ,EAAE;EAEbM,IAAI,EAAEb,YAAG,CAACG,MAAM,EAAE,CACfE,GAAG,CAAC,EAAE,CAAC,CACPC,GAAG,CAAC,GAAG,CAAC,CACRC,QAAQ;AACb,CAAC,CAAC;AAACO,OAAA,CAAAf,aAAA,GAAAA,aAAA;AAEI,MAAMgB,UAAU,GAAGf,YAAG,CAACC,MAAM,CAAC;EACnCe,QAAQ,EAAEhB,YAAG,CAACG,MAAM,EAAE,CACnBC,QAAQ,EAAE,CACVC,GAAG,CAAC,CAAC,CAAC,CACNC,GAAG,CAAC,EAAE,CAAC,CACPC,QAAQ,EAAE;EAEbU,QAAQ,EAAEjB,YAAG,CAACG,MAAM,EAAE,CACnBE,GAAG,CAAC,CAAC,CAAC,CACNC,GAAG,CAAC,EAAE,CAAC,CACPY,OAAO,CAAC,IAAIC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAC1CZ,QAAQ,EAAE;EAEba,KAAK,EAAEpB,YAAG,CAACG,MAAM,EAAE,CAChBiB,KAAK,EAAE,CACPb,QAAQ,EAAE;EAEbc,IAAI,EAAErB,YAAG,CAACG,MAAM,EAAE,CACjBI,QAAQ;AACX,CAAC,CAAC;;AAEF;AAAAO,OAAA,CAAAC,UAAA,GAAAA,UAAA"}},"mtime":1679210964295},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/reviewRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _catchAsync = _interopRequireDefault(require(\"../../core/catchAsync\"));\nvar _reviewController = _interopRequireDefault(require(\"../../controllers/reviewController\"));\nvar _authMiddleware = _interopRequireDefault(require(\"../../middleware/authMiddleware\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post('/:productId/reviews', _authMiddleware.default, (0, _catchAsync.default)(_reviewController.default.createReview));\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhdGNoQXN5bmMiLCJfcmV2aWV3Q29udHJvbGxlciIsIl9hdXRoTWlkZGxld2FyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJpc0xvZ2dlZEluIiwiY2F0Y2hBc3luYyIsInJldmlld0NvbnRyb2xsZXIiLCJjcmVhdGVSZXZpZXciLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvcm91dGVzL3YxLyIsInNvdXJjZXMiOlsicmV2aWV3Um91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNhdGNoQXN5bmMgZnJvbSAnLi4vLi4vY29yZS9jYXRjaEFzeW5jJztcbmltcG9ydCByZXZpZXdDb250cm9sbGVyIGZyb20gJy4uLy4uL2NvbnRyb2xsZXJzL3Jldmlld0NvbnRyb2xsZXInO1xuaW1wb3J0IGlzTG9nZ2VkSW4gZnJvbSAnLi4vLi4vbWlkZGxld2FyZS9hdXRoTWlkZGxld2FyZSc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KCcvOnByb2R1Y3RJZC9yZXZpZXdzJywgaXNMb2dnZWRJbiwgY2F0Y2hBc3luYyhyZXZpZXdDb250cm9sbGVyLmNyZWF0ZVJldmlldykpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGlCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBeUQsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFekQsTUFBTUcsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLHFCQUFxQixFQUFFQyx1QkFBVSxFQUFFLElBQUFDLG1CQUFVLEVBQUNDLHlCQUFnQixDQUFDQyxZQUFZLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFM0VSLE1BQU07QUFBQVMsT0FBQSxDQUFBVixPQUFBLEdBQUFTLFFBQUEifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_catchAsync","_reviewController","_authMiddleware","obj","__esModule","default","router","express","Router","post","isLoggedIn","catchAsync","reviewController","createReview","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/","sources":["reviewRoutes.js"],"sourcesContent":["import express from 'express';\nimport catchAsync from '../../core/catchAsync';\nimport reviewController from '../../controllers/reviewController';\nimport isLoggedIn from '../../middleware/authMiddleware';\n\nconst router = express.Router();\n\nrouter.post('/:productId/reviews', isLoggedIn, catchAsync(reviewController.createReview));\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,iBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,eAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAyD,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEzD,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAE/BF,MAAM,CAACG,IAAI,CAAC,qBAAqB,EAAEC,uBAAU,EAAE,IAAAC,mBAAU,EAACC,yBAAgB,CAACC,YAAY,CAAC,CAAC;AAAC,IAAAC,QAAA,GAE3ER,MAAM;AAAAS,OAAA,CAAAV,OAAA,GAAAS,QAAA"}},"mtime":1679199426058},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/reviewController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _reviewService = _interopRequireDefault(require(\"../service/reviewService\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst createReview = async (req, res) => {\n  const {\n    productId\n  } = req.params;\n  const {\n    rating,\n    comment\n  } = req.body;\n  await _reviewService.default.createReview(productId, {\n    rating,\n    comment\n  });\n  req.flash('success', 'Added your review successfully');\n  res.redirect(`/api/v1/products/${productId}`);\n};\nvar _default = {\n  createReview\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmV2aWV3U2VydmljZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjcmVhdGVSZXZpZXciLCJyZXEiLCJyZXMiLCJwcm9kdWN0SWQiLCJwYXJhbXMiLCJyYXRpbmciLCJjb21tZW50IiwiYm9keSIsInJldmlld1NlcnZpY2UiLCJmbGFzaCIsInJlZGlyZWN0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY29kaW5nYmxvY2tzL0Rlc2t0b3AvQ0IvQ0ItTm9pZGEtV2ViLVNlcHQyNC9MZWN0dXJlLTQ1L2UtY29tbWVyY2Utdjcvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsicmV2aWV3Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmV2aWV3U2VydmljZSBmcm9tICcuLi9zZXJ2aWNlL3Jldmlld1NlcnZpY2UnO1xuXG5jb25zdCBjcmVhdGVSZXZpZXcgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBwcm9kdWN0SWQgfSA9IHJlcS5wYXJhbXM7XG4gIGNvbnN0IHsgcmF0aW5nLCBjb21tZW50IH0gPSByZXEuYm9keTtcbiAgYXdhaXQgcmV2aWV3U2VydmljZS5jcmVhdGVSZXZpZXcocHJvZHVjdElkLCB7IHJhdGluZywgY29tbWVudCB9KTtcbiAgcmVxLmZsYXNoKCdzdWNjZXNzJywgJ0FkZGVkIHlvdXIgcmV2aWV3IHN1Y2Nlc3NmdWxseScpO1xuICByZXMucmVkaXJlY3QoYC9hcGkvdjEvcHJvZHVjdHMvJHtwcm9kdWN0SWR9YCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNyZWF0ZVJldmlldyxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFxRCxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUVyRCxNQUFNRyxZQUFZLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdkMsTUFBTTtJQUFFQztFQUFVLENBQUMsR0FBR0YsR0FBRyxDQUFDRyxNQUFNO0VBQ2hDLE1BQU07SUFBRUMsTUFBTTtJQUFFQztFQUFRLENBQUMsR0FBR0wsR0FBRyxDQUFDTSxJQUFJO0VBQ3BDLE1BQU1DLHNCQUFhLENBQUNSLFlBQVksQ0FBQ0csU0FBUyxFQUFFO0lBQUVFLE1BQU07SUFBRUM7RUFBUSxDQUFDLENBQUM7RUFDaEVMLEdBQUcsQ0FBQ1EsS0FBSyxDQUFDLFNBQVMsRUFBRSxnQ0FBZ0MsQ0FBQztFQUN0RFAsR0FBRyxDQUFDUSxRQUFRLENBQUUsb0JBQW1CUCxTQUFVLEVBQUMsQ0FBQztBQUMvQyxDQUFDO0FBQUMsSUFBQVEsUUFBQSxHQUVhO0VBQ2JYO0FBQ0YsQ0FBQztBQUFBWSxPQUFBLENBQUFiLE9BQUEsR0FBQVksUUFBQSJ9","map":{"version":3,"names":["_reviewService","_interopRequireDefault","require","obj","__esModule","default","createReview","req","res","productId","params","rating","comment","body","reviewService","flash","redirect","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/","sources":["reviewController.js"],"sourcesContent":["import reviewService from '../service/reviewService';\n\nconst createReview = async (req, res) => {\n  const { productId } = req.params;\n  const { rating, comment } = req.body;\n  await reviewService.createReview(productId, { rating, comment });\n  req.flash('success', 'Added your review successfully');\n  res.redirect(`/api/v1/products/${productId}`);\n};\n\nexport default {\n  createReview,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,cAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqD,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAErD,MAAMG,YAAY,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACvC,MAAM;IAAEC;EAAU,CAAC,GAAGF,GAAG,CAACG,MAAM;EAChC,MAAM;IAAEC,MAAM;IAAEC;EAAQ,CAAC,GAAGL,GAAG,CAACM,IAAI;EACpC,MAAMC,sBAAa,CAACR,YAAY,CAACG,SAAS,EAAE;IAAEE,MAAM;IAAEC;EAAQ,CAAC,CAAC;EAChEL,GAAG,CAACQ,KAAK,CAAC,SAAS,EAAE,gCAAgC,CAAC;EACtDP,GAAG,CAACQ,QAAQ,CAAE,oBAAmBP,SAAU,EAAC,CAAC;AAC/C,CAAC;AAAC,IAAAQ,QAAA,GAEa;EACbX;AACF,CAAC;AAAAY,OAAA,CAAAb,OAAA,GAAAY,QAAA"}},"mtime":1679199426039},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/reviewService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _reviewRepo = _interopRequireDefault(require(\"../repository/reviewRepo\"));\nvar _productRepo = _interopRequireDefault(require(\"../repository/productRepo\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst createReview = async (productId, review) => {\n  const product = await _productRepo.default.findProductById(productId);\n  // create a new entry inside reviews collection\n  const newReview = await _reviewRepo.default.createReview(review);\n  // Here we are pushing ObjectId of created review inside the product\n  product.reviews.push(newReview);\n  // Then we are saving back the product to the db\n  await _productRepo.default.saveProduct(product);\n  return newReview;\n};\nvar _default = {\n  createReview\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmV2aWV3UmVwbyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3RSZXBvIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjcmVhdGVSZXZpZXciLCJwcm9kdWN0SWQiLCJyZXZpZXciLCJwcm9kdWN0IiwicHJvZHVjdFJlcG8iLCJmaW5kUHJvZHVjdEJ5SWQiLCJuZXdSZXZpZXciLCJyZXZpZXdSZXBvIiwicmV2aWV3cyIsInB1c2giLCJzYXZlUHJvZHVjdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9zZXJ2aWNlLyIsInNvdXJjZXMiOlsicmV2aWV3U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmV2aWV3UmVwbyBmcm9tICcuLi9yZXBvc2l0b3J5L3Jldmlld1JlcG8nO1xuaW1wb3J0IHByb2R1Y3RSZXBvIGZyb20gJy4uL3JlcG9zaXRvcnkvcHJvZHVjdFJlcG8nO1xuXG5jb25zdCBjcmVhdGVSZXZpZXcgPSBhc3luYyAocHJvZHVjdElkLCByZXZpZXcpID0+IHtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RSZXBvLmZpbmRQcm9kdWN0QnlJZChwcm9kdWN0SWQpO1xuICAvLyBjcmVhdGUgYSBuZXcgZW50cnkgaW5zaWRlIHJldmlld3MgY29sbGVjdGlvblxuICBjb25zdCBuZXdSZXZpZXcgPSBhd2FpdCByZXZpZXdSZXBvLmNyZWF0ZVJldmlldyhyZXZpZXcpO1xuICAvLyBIZXJlIHdlIGFyZSBwdXNoaW5nIE9iamVjdElkIG9mIGNyZWF0ZWQgcmV2aWV3IGluc2lkZSB0aGUgcHJvZHVjdFxuICBwcm9kdWN0LnJldmlld3MucHVzaChuZXdSZXZpZXcpO1xuICAvLyBUaGVuIHdlIGFyZSBzYXZpbmcgYmFjayB0aGUgcHJvZHVjdCB0byB0aGUgZGJcbiAgYXdhaXQgcHJvZHVjdFJlcG8uc2F2ZVByb2R1Y3QocHJvZHVjdCk7XG4gIHJldHVybiBuZXdSZXZpZXc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNyZWF0ZVJldmlldyxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFvRCxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUVwRCxNQUFNRyxZQUFZLEdBQUcsTUFBQUEsQ0FBT0MsU0FBUyxFQUFFQyxNQUFNLEtBQUs7RUFDaEQsTUFBTUMsT0FBTyxHQUFHLE1BQU1DLG9CQUFXLENBQUNDLGVBQWUsQ0FBQ0osU0FBUyxDQUFDO0VBQzVEO0VBQ0EsTUFBTUssU0FBUyxHQUFHLE1BQU1DLG1CQUFVLENBQUNQLFlBQVksQ0FBQ0UsTUFBTSxDQUFDO0VBQ3ZEO0VBQ0FDLE9BQU8sQ0FBQ0ssT0FBTyxDQUFDQyxJQUFJLENBQUNILFNBQVMsQ0FBQztFQUMvQjtFQUNBLE1BQU1GLG9CQUFXLENBQUNNLFdBQVcsQ0FBQ1AsT0FBTyxDQUFDO0VBQ3RDLE9BQU9HLFNBQVM7QUFDbEIsQ0FBQztBQUFDLElBQUFLLFFBQUEsR0FFYTtFQUNiWDtBQUNGLENBQUM7QUFBQVksT0FBQSxDQUFBYixPQUFBLEdBQUFZLFFBQUEifQ==","map":{"version":3,"names":["_reviewRepo","_interopRequireDefault","require","_productRepo","obj","__esModule","default","createReview","productId","review","product","productRepo","findProductById","newReview","reviewRepo","reviews","push","saveProduct","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/service/","sources":["reviewService.js"],"sourcesContent":["import reviewRepo from '../repository/reviewRepo';\nimport productRepo from '../repository/productRepo';\n\nconst createReview = async (productId, review) => {\n  const product = await productRepo.findProductById(productId);\n  // create a new entry inside reviews collection\n  const newReview = await reviewRepo.createReview(review);\n  // Here we are pushing ObjectId of created review inside the product\n  product.reviews.push(newReview);\n  // Then we are saving back the product to the db\n  await productRepo.saveProduct(product);\n  return newReview;\n};\n\nexport default {\n  createReview,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoD,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEpD,MAAMG,YAAY,GAAG,MAAAA,CAAOC,SAAS,EAAEC,MAAM,KAAK;EAChD,MAAMC,OAAO,GAAG,MAAMC,oBAAW,CAACC,eAAe,CAACJ,SAAS,CAAC;EAC5D;EACA,MAAMK,SAAS,GAAG,MAAMC,mBAAU,CAACP,YAAY,CAACE,MAAM,CAAC;EACvD;EACAC,OAAO,CAACK,OAAO,CAACC,IAAI,CAACH,SAAS,CAAC;EAC/B;EACA,MAAMF,oBAAW,CAACM,WAAW,CAACP,OAAO,CAAC;EACtC,OAAOG,SAAS;AAClB,CAAC;AAAC,IAAAK,QAAA,GAEa;EACbX;AACF,CAAC;AAAAY,OAAA,CAAAb,OAAA,GAAAY,QAAA"}},"mtime":1679199426037},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/reviewRepo.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _review = _interopRequireDefault(require(\"../models/review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst createReview = review => _review.default.create(review);\nvar _default = {\n  createReview\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmV2aWV3IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNyZWF0ZVJldmlldyIsInJldmlldyIsIlJldmlldyIsImNyZWF0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yZXBvc2l0b3J5LyIsInNvdXJjZXMiOlsicmV2aWV3UmVwby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmV2aWV3IGZyb20gJy4uL21vZGVscy9yZXZpZXcnO1xuXG5jb25zdCBjcmVhdGVSZXZpZXcgPSAocmV2aWV3KSA9PiBSZXZpZXcuY3JlYXRlKHJldmlldyk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY3JlYXRlUmV2aWV3LFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLFlBQVksR0FBSUMsTUFBTSxJQUFLQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDO0FBQUMsSUFBQUcsUUFBQSxHQUV4QztFQUNiSjtBQUNGLENBQUM7QUFBQUssT0FBQSxDQUFBTixPQUFBLEdBQUFLLFFBQUEifQ==","map":{"version":3,"names":["_review","_interopRequireDefault","require","obj","__esModule","default","createReview","review","Review","create","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/repository/","sources":["reviewRepo.js"],"sourcesContent":["import Review from '../models/review';\n\nconst createReview = (review) => Review.create(review);\n\nexport default {\n  createReview,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,YAAY,GAAIC,MAAM,IAAKC,eAAM,CAACC,MAAM,CAACF,MAAM,CAAC;AAAC,IAAAG,QAAA,GAExC;EACbJ;AACF,CAAC;AAAAK,OAAA,CAAAN,OAAA,GAAAK,QAAA"}},"mtime":1679199426013},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/userRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _userController = _interopRequireDefault(require(\"../../controllers/userController\"));\nvar _catchAsync = _interopRequireDefault(require(\"../../core/catchAsync\"));\nvar _validator = require(\"../../validations/validator\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.get('/register', _userController.default.getRegisterForm);\nrouter.post('/register', _validator.validateUser, (0, _catchAsync.default)(_userController.default.registerUser));\nrouter.get('/login', _userController.default.getLoginForm);\nrouter.post('/login', _passport.default.authenticate('local', {\n  failureRedirect: '/api/v1/auth/login',\n  failureFlash: true\n}), _userController.default.loginUser);\nrouter.get('/logout', (0, _catchAsync.default)(_userController.default.logoutUser));\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Bhc3Nwb3J0IiwiX3VzZXJDb250cm9sbGVyIiwiX2NhdGNoQXN5bmMiLCJfdmFsaWRhdG9yIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwidXNlckNvbnRyb2xsZXIiLCJnZXRSZWdpc3RlckZvcm0iLCJwb3N0IiwidmFsaWRhdGVVc2VyIiwiY2F0Y2hBc3luYyIsInJlZ2lzdGVyVXNlciIsImdldExvZ2luRm9ybSIsInBhc3Nwb3J0IiwiYXV0aGVudGljYXRlIiwiZmFpbHVyZVJlZGlyZWN0IiwiZmFpbHVyZUZsYXNoIiwibG9naW5Vc2VyIiwibG9nb3V0VXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NvZGluZ2Jsb2Nrcy9EZXNrdG9wL0NCL0NCLU5vaWRhLVdlYi1TZXB0MjQvTGVjdHVyZS00NS9lLWNvbW1lcmNlLXY3L3NyYy9yb3V0ZXMvdjEvIiwic291cmNlcyI6WyJ1c2VyUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVycy91c2VyQ29udHJvbGxlcic7XG5pbXBvcnQgY2F0Y2hBc3luYyBmcm9tICcuLi8uLi9jb3JlL2NhdGNoQXN5bmMnO1xuaW1wb3J0IHsgdmFsaWRhdGVVc2VyIH0gZnJvbSAnLi4vLi4vdmFsaWRhdGlvbnMvdmFsaWRhdG9yJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLmdldCgnL3JlZ2lzdGVyJywgdXNlckNvbnRyb2xsZXIuZ2V0UmVnaXN0ZXJGb3JtKTtcblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsdmFsaWRhdGVVc2VyLCBjYXRjaEFzeW5jKHVzZXJDb250cm9sbGVyLnJlZ2lzdGVyVXNlcikpO1xuXG5yb3V0ZXIuZ2V0KCcvbG9naW4nLCB1c2VyQ29udHJvbGxlci5nZXRMb2dpbkZvcm0pO1xuXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdsb2NhbCcsIHtcbiAgZmFpbHVyZVJlZGlyZWN0OiAnL2FwaS92MS9hdXRoL2xvZ2luJyxcbiAgZmFpbHVyZUZsYXNoOnRydWVcbn0pLCB1c2VyQ29udHJvbGxlci5sb2dpblVzZXIpO1xuXG5yb3V0ZXIuZ2V0KCcvbG9nb3V0JywgY2F0Y2hBc3luYyh1c2VyQ29udHJvbGxlci5sb2dvdXRVc2VyKSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsZUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBSixPQUFBO0FBQTJELFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTNELE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRS9CRixNQUFNLENBQUNHLEdBQUcsQ0FBQyxXQUFXLEVBQUVDLHVCQUFjLENBQUNDLGVBQWUsQ0FBQztBQUV2REwsTUFBTSxDQUFDTSxJQUFJLENBQUMsV0FBVyxFQUFDQyx1QkFBWSxFQUFFLElBQUFDLG1CQUFVLEVBQUNKLHVCQUFjLENBQUNLLFlBQVksQ0FBQyxDQUFDO0FBRTlFVCxNQUFNLENBQUNHLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNNLFlBQVksQ0FBQztBQUVqRFYsTUFBTSxDQUFDTSxJQUFJLENBQUMsUUFBUSxFQUFFSyxpQkFBUSxDQUFDQyxZQUFZLENBQUMsT0FBTyxFQUFFO0VBQ25EQyxlQUFlLEVBQUUsb0JBQW9CO0VBQ3JDQyxZQUFZLEVBQUM7QUFDZixDQUFDLENBQUMsRUFBRVYsdUJBQWMsQ0FBQ1csU0FBUyxDQUFDO0FBRTdCZixNQUFNLENBQUNHLEdBQUcsQ0FBQyxTQUFTLEVBQUUsSUFBQUssbUJBQVUsRUFBQ0osdUJBQWMsQ0FBQ1ksVUFBVSxDQUFDLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRTlDakIsTUFBTTtBQUFBa0IsT0FBQSxDQUFBbkIsT0FBQSxHQUFBa0IsUUFBQSJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_passport","_userController","_catchAsync","_validator","obj","__esModule","default","router","express","Router","get","userController","getRegisterForm","post","validateUser","catchAsync","registerUser","getLoginForm","passport","authenticate","failureRedirect","failureFlash","loginUser","logoutUser","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/routes/v1/","sources":["userRoutes.js"],"sourcesContent":["import express from 'express';\nimport passport from 'passport';\nimport userController from '../../controllers/userController';\nimport catchAsync from '../../core/catchAsync';\nimport { validateUser } from '../../validations/validator';\n\nconst router = express.Router();\n\nrouter.get('/register', userController.getRegisterForm);\n\nrouter.post('/register',validateUser, catchAsync(userController.registerUser));\n\nrouter.get('/login', userController.getLoginForm);\n\nrouter.post('/login', passport.authenticate('local', {\n  failureRedirect: '/api/v1/auth/login',\n  failureFlash:true\n}), userController.loginUser);\n\nrouter.get('/logout', catchAsync(userController.logoutUser));\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,eAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,WAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,UAAA,GAAAJ,OAAA;AAA2D,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3D,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAE/BF,MAAM,CAACG,GAAG,CAAC,WAAW,EAAEC,uBAAc,CAACC,eAAe,CAAC;AAEvDL,MAAM,CAACM,IAAI,CAAC,WAAW,EAACC,uBAAY,EAAE,IAAAC,mBAAU,EAACJ,uBAAc,CAACK,YAAY,CAAC,CAAC;AAE9ET,MAAM,CAACG,GAAG,CAAC,QAAQ,EAAEC,uBAAc,CAACM,YAAY,CAAC;AAEjDV,MAAM,CAACM,IAAI,CAAC,QAAQ,EAAEK,iBAAQ,CAACC,YAAY,CAAC,OAAO,EAAE;EACnDC,eAAe,EAAE,oBAAoB;EACrCC,YAAY,EAAC;AACf,CAAC,CAAC,EAAEV,uBAAc,CAACW,SAAS,CAAC;AAE7Bf,MAAM,CAACG,GAAG,CAAC,SAAS,EAAE,IAAAK,mBAAU,EAACJ,uBAAc,CAACY,UAAU,CAAC,CAAC;AAAC,IAAAC,QAAA,GAE9CjB,MAAM;AAAAkB,OAAA,CAAAnB,OAAA,GAAAkB,QAAA"}},"mtime":1679211309095},"{\"assumptions\":{},\"sourceRoot\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"filename\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/userController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _userService = _interopRequireDefault(require(\"../service/userService\"));\nvar _ApiError = require(\"../core/ApiError\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getRegisterForm = async (req, res) => {\n  res.render('auth/signup');\n};\nconst registerUser = async (req, res) => {\n  console.log(req.body);\n  const {\n    email,\n    username,\n    password,\n    role\n  } = req.body;\n  await _userService.default.registerUser({\n    username,\n    password,\n    email,\n    role\n  });\n  req.flash('success', `Registered the user successfully with username : ${username}`);\n  res.redirect('/api/v1/auth/login');\n};\nconst getLoginForm = (req, res) => {\n  res.render('auth/login');\n};\nconst loginUser = (req, res) => {\n  req.flash('success', `Loggedin successfull as ${req.user.username}`);\n  res.redirect('/api/v1/products');\n};\nconst logoutUser = async (req, res) => {\n  req.logout(err => {\n    if (err) {\n      throw new _ApiError.InteralServerError('Cannot logout at the moment');\n    }\n    req.flash('success', 'Logged out successfully!');\n    res.redirect('/api/v1/auth/login');\n  });\n};\nvar _default = {\n  registerUser,\n  getRegisterForm,\n  getLoginForm,\n  loginUser,\n  logoutUser\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlclNlcnZpY2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9BcGlFcnJvciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZ2V0UmVnaXN0ZXJGb3JtIiwicmVxIiwicmVzIiwicmVuZGVyIiwicmVnaXN0ZXJVc2VyIiwiY29uc29sZSIsImxvZyIsImJvZHkiLCJlbWFpbCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyb2xlIiwidXNlclNlcnZpY2UiLCJmbGFzaCIsInJlZGlyZWN0IiwiZ2V0TG9naW5Gb3JtIiwibG9naW5Vc2VyIiwidXNlciIsImxvZ291dFVzZXIiLCJsb2dvdXQiLCJlcnIiLCJJbnRlcmFsU2VydmVyRXJyb3IiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RpbmdibG9ja3MvRGVza3RvcC9DQi9DQi1Ob2lkYS1XZWItU2VwdDI0L0xlY3R1cmUtNDUvZS1jb21tZXJjZS12Ny9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJ1c2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdXNlclNlcnZpY2UgZnJvbSAnLi4vc2VydmljZS91c2VyU2VydmljZSc7XG5pbXBvcnQgeyBJbnRlcmFsU2VydmVyRXJyb3IgfSBmcm9tICcuLi9jb3JlL0FwaUVycm9yJztcblxuY29uc3QgZ2V0UmVnaXN0ZXJGb3JtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5yZW5kZXIoJ2F1dGgvc2lnbnVwJyk7XG59O1xuXG5jb25zdCByZWdpc3RlclVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xuICBjb25zdCB7IGVtYWlsLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJvbGUgfSA9IHJlcS5ib2R5O1xuICBhd2FpdCB1c2VyU2VydmljZS5yZWdpc3RlclVzZXIoe1xuICAgIHVzZXJuYW1lLFxuICAgIHBhc3N3b3JkLFxuICAgIGVtYWlsLFxuICAgIHJvbGVcbiAgfSk7XG4gIHJlcS5mbGFzaCgnc3VjY2VzcycsIGBSZWdpc3RlcmVkIHRoZSB1c2VyIHN1Y2Nlc3NmdWxseSB3aXRoIHVzZXJuYW1lIDogJHt1c2VybmFtZX1gKVxuICByZXMucmVkaXJlY3QoJy9hcGkvdjEvYXV0aC9sb2dpbicpO1xufTtcblxuY29uc3QgZ2V0TG9naW5Gb3JtID0gKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5yZW5kZXIoJ2F1dGgvbG9naW4nKTtcbn07XG5cbmNvbnN0IGxvZ2luVXNlciA9IChyZXEsIHJlcykgPT4ge1xuICByZXEuZmxhc2goJ3N1Y2Nlc3MnLCBgTG9nZ2VkaW4gc3VjY2Vzc2Z1bGwgYXMgJHtyZXEudXNlci51c2VybmFtZX1gKTtcbiAgcmVzLnJlZGlyZWN0KCcvYXBpL3YxL3Byb2R1Y3RzJyk7XG59O1xuXG5jb25zdCBsb2dvdXRVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcS5sb2dvdXQoKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBJbnRlcmFsU2VydmVyRXJyb3IoJ0Nhbm5vdCBsb2dvdXQgYXQgdGhlIG1vbWVudCcpO1xuICAgIH1cbiAgICByZXEuZmxhc2goJ3N1Y2Nlc3MnLCAnTG9nZ2VkIG91dCBzdWNjZXNzZnVsbHkhJyk7XG4gICAgcmVzLnJlZGlyZWN0KCcvYXBpL3YxL2F1dGgvbG9naW4nKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlZ2lzdGVyVXNlcixcbiAgZ2V0UmVnaXN0ZXJGb3JtLFxuICBnZXRMb2dpbkZvcm0sXG4gIGxvZ2luVXNlcixcbiAgbG9nb3V0VXNlcixcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFlBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUQsT0FBQTtBQUFzRCxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0RCxNQUFNRyxlQUFlLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDMUNBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLGFBQWEsQ0FBQztBQUMzQixDQUFDO0FBRUQsTUFBTUMsWUFBWSxHQUFHLE1BQUFBLENBQU9ILEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3ZDRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0wsR0FBRyxDQUFDTSxJQUFJLENBQUM7RUFDckIsTUFBTTtJQUFFQyxLQUFLO0lBQUVDLFFBQVE7SUFBRUMsUUFBUTtJQUFFQztFQUFLLENBQUMsR0FBR1YsR0FBRyxDQUFDTSxJQUFJO0VBQ3BELE1BQU1LLG9CQUFXLENBQUNSLFlBQVksQ0FBQztJQUM3QkssUUFBUTtJQUNSQyxRQUFRO0lBQ1JGLEtBQUs7SUFDTEc7RUFDRixDQUFDLENBQUM7RUFDRlYsR0FBRyxDQUFDWSxLQUFLLENBQUMsU0FBUyxFQUFHLG9EQUFtREosUUFBUyxFQUFDLENBQUM7RUFDcEZQLEdBQUcsQ0FBQ1ksUUFBUSxDQUFDLG9CQUFvQixDQUFDO0FBQ3BDLENBQUM7QUFFRCxNQUFNQyxZQUFZLEdBQUdBLENBQUNkLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2pDQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxZQUFZLENBQUM7QUFDMUIsQ0FBQztBQUVELE1BQU1hLFNBQVMsR0FBR0EsQ0FBQ2YsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDOUJELEdBQUcsQ0FBQ1ksS0FBSyxDQUFDLFNBQVMsRUFBRywyQkFBMEJaLEdBQUcsQ0FBQ2dCLElBQUksQ0FBQ1IsUUFBUyxFQUFDLENBQUM7RUFDcEVQLEdBQUcsQ0FBQ1ksUUFBUSxDQUFDLGtCQUFrQixDQUFDO0FBQ2xDLENBQUM7QUFFRCxNQUFNSSxVQUFVLEdBQUcsTUFBQUEsQ0FBT2pCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3JDRCxHQUFHLENBQUNrQixNQUFNLENBQUVDLEdBQUcsSUFBSztJQUNsQixJQUFJQSxHQUFHLEVBQUU7TUFDUCxNQUFNLElBQUlDLDRCQUFrQixDQUFDLDZCQUE2QixDQUFDO0lBQzdEO0lBQ0FwQixHQUFHLENBQUNZLEtBQUssQ0FBQyxTQUFTLEVBQUUsMEJBQTBCLENBQUM7SUFDaERYLEdBQUcsQ0FBQ1ksUUFBUSxDQUFDLG9CQUFvQixDQUFDO0VBQ3BDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFBQyxJQUFBUSxRQUFBLEdBRWE7RUFDYmxCLFlBQVk7RUFDWkosZUFBZTtFQUNmZSxZQUFZO0VBQ1pDLFNBQVM7RUFDVEU7QUFDRixDQUFDO0FBQUFLLE9BQUEsQ0FBQXhCLE9BQUEsR0FBQXVCLFFBQUEifQ==","map":{"version":3,"names":["_userService","_interopRequireDefault","require","_ApiError","obj","__esModule","default","getRegisterForm","req","res","render","registerUser","console","log","body","email","username","password","role","userService","flash","redirect","getLoginForm","loginUser","user","logoutUser","logout","err","InteralServerError","_default","exports"],"sourceRoot":"/Users/codingblocks/Desktop/CB/CB-Noida-Web-Sept24/Lecture-45/e-commerce-v7/src/controllers/","sources":["userController.js"],"sourcesContent":["import userService from '../service/userService';\nimport { InteralServerError } from '../core/ApiError';\n\nconst getRegisterForm = async (req, res) => {\n  res.render('auth/signup');\n};\n\nconst registerUser = async (req, res) => {\n  console.log(req.body);\n  const { email, username, password, role } = req.body;\n  await userService.registerUser({\n    username,\n    password,\n    email,\n    role\n  });\n  req.flash('success', `Registered the user successfully with username : ${username}`)\n  res.redirect('/api/v1/auth/login');\n};\n\nconst getLoginForm = (req, res) => {\n  res.render('auth/login');\n};\n\nconst loginUser = (req, res) => {\n  req.flash('success', `Loggedin successfull as ${req.user.username}`);\n  res.redirect('/api/v1/products');\n};\n\nconst logoutUser = async (req, res) => {\n  req.logout((err) => {\n    if (err) {\n      throw new InteralServerError('Cannot logout at the moment');\n    }\n    req.flash('success', 'Logged out successfully!');\n    res.redirect('/api/v1/auth/login');\n  });\n};\n\nexport default {\n  registerUser,\n  getRegisterForm,\n  getLoginForm,\n  loginUser,\n  logoutUser,\n};\n"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAAsD,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtD,MAAMG,eAAe,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC1CA,GAAG,CAACC,MAAM,CAAC,aAAa,CAAC;AAC3B,CAAC;AAED,MAAMC,YAAY,GAAG,MAAAA,CAAOH,GAAG,EAAEC,GAAG,KAAK;EACvCG,OAAO,CAACC,GAAG,CAACL,GAAG,CAACM,IAAI,CAAC;EACrB,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAAK,CAAC,GAAGV,GAAG,CAACM,IAAI;EACpD,MAAMK,oBAAW,CAACR,YAAY,CAAC;IAC7BK,QAAQ;IACRC,QAAQ;IACRF,KAAK;IACLG;EACF,CAAC,CAAC;EACFV,GAAG,CAACY,KAAK,CAAC,SAAS,EAAG,oDAAmDJ,QAAS,EAAC,CAAC;EACpFP,GAAG,CAACY,QAAQ,CAAC,oBAAoB,CAAC;AACpC,CAAC;AAED,MAAMC,YAAY,GAAGA,CAACd,GAAG,EAAEC,GAAG,KAAK;EACjCA,GAAG,CAACC,MAAM,CAAC,YAAY,CAAC;AAC1B,CAAC;AAED,MAAMa,SAAS,GAAGA,CAACf,GAAG,EAAEC,GAAG,KAAK;EAC9BD,GAAG,CAACY,KAAK,CAAC,SAAS,EAAG,2BAA0BZ,GAAG,CAACgB,IAAI,CAACR,QAAS,EAAC,CAAC;EACpEP,GAAG,CAACY,QAAQ,CAAC,kBAAkB,CAAC;AAClC,CAAC;AAED,MAAMI,UAAU,GAAG,MAAAA,CAAOjB,GAAG,EAAEC,GAAG,KAAK;EACrCD,GAAG,CAACkB,MAAM,CAAEC,GAAG,IAAK;IAClB,IAAIA,GAAG,EAAE;MACP,MAAM,IAAIC,4BAAkB,CAAC,6BAA6B,CAAC;IAC7D;IACApB,GAAG,CAACY,KAAK,CAAC,SAAS,EAAE,0BAA0B,CAAC;IAChDX,GAAG,CAACY,QAAQ,CAAC,oBAAoB,CAAC;EACpC,CAAC,CAAC;AACJ,CAAC;AAAC,IAAAQ,QAAA,GAEa;EACblB,YAAY;EACZJ,eAAe;EACfe,YAAY;EACZC,SAAS;EACTE;AACF,CAAC;AAAAK,OAAA,CAAAxB,OAAA,GAAAuB,QAAA"}},"mtime":1679211245610}}